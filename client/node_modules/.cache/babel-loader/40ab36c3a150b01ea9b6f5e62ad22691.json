{"ast":null,"code":"var _jsxFileName = \"/Users/alisakrylova/Intro/client/src/components/AddTest.js\";\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport './Appearence/index.css';\nimport './Appearence/AddTest.css';\nimport { AuthContext } from \"./Context/AuthContext\";\nimport { Translit } from \"./Context/Translit\";\nimport { useHttp } from \"../Hooks/http.hook\";\nimport { ReactComponent as AddIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!./Appearence/Images/AddIcon.svg\";\nimport { ReactComponent as CancelIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!./Appearence/Images/CancelIcon.svg\";\nexport const AddTest = () => {\n  const {\n    token,\n    userID\n  } = useContext(AuthContext);\n  const {\n    createShortLink\n  } = useContext(Translit);\n  const {\n    loading,\n    request,\n    error,\n    clearError\n  } = useHttp();\n  const {\n    drafts,\n    setDrafts\n  } = useState([]);\n  const [testData, setTestData] = useState({\n    name: '',\n    link: '',\n    shortDescription: '',\n    description: '',\n    scales: [{\n      name: '',\n      k: '',\n      intervals: [{\n        name: '',\n        description: '',\n        min: '',\n        max: '',\n        important: false\n      }]\n    }],\n    questions: ['']\n  });\n\n  const handleSelect = e => {\n    e.preventDefault();\n    console.log(e.target.value);\n    if (e.target.value === 'draft') fetchDrafts();\n  };\n\n  const handleAddingScale = e => {\n    e.preventDefault();\n    const scales = testData.scales;\n    scales.push({\n      name: '',\n      k: '',\n      intervals: [{\n        name: '',\n        description: '',\n        min: '',\n        max: '',\n        important: false\n      }]\n    });\n    setTestData({ ...testData,\n      scales\n    });\n  };\n\n  const handleDeletingScale = (e, i) => {\n    e.preventDefault();\n    let scales = testData.scales;\n    scales.splice(i, 1);\n    setTestData({ ...testData,\n      scales\n    });\n    if (scales.length == 0) handleAddingScale(e);\n  };\n\n  const handleAddingInterval = (e, i) => {\n    e.preventDefault();\n    let scales = testData.scales;\n    let intervals = scales[i]['intervals'];\n    intervals.push({\n      name: '',\n      description: '',\n      min: '',\n      max: '',\n      important: false\n    });\n    scales['intervals'] = intervals;\n    setTestData({ ...testData,\n      scales\n    });\n  };\n\n  const handleDeletingInterval = (e, i, j) => {\n    e.preventDefault();\n    let scales = testData.scales;\n    let intervals = scales[i]['intervals'];\n    intervals.splice(j, 1);\n    scales['intervals'] = intervals;\n    setTestData({ ...testData,\n      scales\n    });\n    if (intervals.length == 0) handleAddingInterval(e, i);\n  };\n\n  const handleAddingQuestion = e => {\n    e.preventDefault();\n    const questions = testData.questions;\n    questions.push('');\n    setTestData({ ...testData,\n      questions\n    });\n  };\n\n  const handleDeletingQuestion = (e, i) => {\n    e.preventDefault();\n    let questions = testData.questions;\n    questions.splice(i, 1);\n    setTestData({ ...testData,\n      questions\n    });\n    if (questions.length == 0) handleAddingQuestion(e);\n  };\n\n  const changeHandler = e => {\n    let link;\n\n    if (e.target.name === 'name') {\n      link = createShortLink(e.target.value);\n      setTestData({ ...testData,\n        [e.target.name]: e.target.value,\n        link\n      });\n    } else setTestData({ ...testData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const changeScaleHandler = (e, i) => {\n    let scales = testData.scales;\n    scales[i][e.target.name] = e.target.value;\n    setTestData({ ...testData,\n      scales\n    });\n  };\n\n  const changeIntervalHandler = (e, i, j) => {\n    let scales = testData.scales;\n    let intervals = scales[i]['intervals'];\n    if (e.target.name === 'important') intervals[j]['important'] = !intervals[j]['important'];else intervals[j][e.target.name] = e.target.value;\n    scales[i]['intervals'] = intervals;\n    setTestData({ ...testData,\n      scales\n    });\n  };\n\n  const fetchDrafts = useCallback(async () => {\n    try {\n      const fetched = await request('addtest/drafts', 'GET', null, {\n        Authorization: `Bearer ${token}`\n      });\n      setDrafts(...fetched);\n      console.log(drafts);\n    } catch (e) {}\n  }, [token, request]);\n\n  const saveTestDraft = async e => {\n    e.preventDefault();\n    const data = await request('addtest/savedraft', 'POST', { ...testData\n    });\n    console.log(data.message);\n  };\n\n  useEffect(() => {\n    document.body.style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: #FFFFFF;';\n  }, []);\n  useEffect(() => {// setInterval(() => {console.log('hi')}, 1000)\n  }, []);\n  return (\n    /*#__PURE__*/\n    // <div className = 'soft_appearing'>\n    React.createElement(\"div\", {\n      className: \"addingTest\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0435\\u0441\\u0442\"), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: e => handleSelect(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      defaultValue: true,\n      value: \"new\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }, \"\\u0432\\u0440\\u0443\\u0447\\u043D\\u0443\\u044E\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"draft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, \"\\u0438\\u0437 \\u0447\\u0435\\u0440\\u043D\\u043E\\u0432\\u0438\\u043A\\u043E\\u0432\")), // drafts &&\n    //  <select>\n    //     {drafts.map((draft, i) => {\n    //         return (\n    //             <option key = {i} value = {i}>{draft.name}</option>\n    //         )\n    //     })}\n    //  </select>\n    drafts && drafts.map((draft, i) => {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        key: i,\n        value: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 33\n        }\n      }, draft.name);\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      value: testData.name,\n      placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438\",\n      onChange: e => changeHandler(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u0430\\u044F \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"link\",\n      value: testData.link,\n      placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u0430\\u044F \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430\",\n      onChange: e => changeHandler(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }\n    }, \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"shortDescription\",\n      value: testData.shortDescription,\n      placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438\",\n      onChange: e => changeHandler(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }\n    }, \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"description\",\n      value: testData.description,\n      placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438\",\n      onChange: e => changeHandler(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }\n    }, \"\\u0428\\u043A\\u0430\\u043B\\u044B\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }\n    }, \"\\u0428\\u043A\\u0430\\u043B\\u044B \\u2013 \\u044D\\u0442\\u043E \\u0431\\u044B\\u0432\\u0430\\u043E\\u044B\\u0430\\u044B\\u0434\\u0439\\u0443\\u0436 \\u0432\\u0430\\u044C\\u044B\\u043B\\u0430\\u0434\\u044B\\u044B\\u044C\\u0432\\u0434\\u0430 \\u044B\\u0432\\u0430\\u043B\\u044B. \\u0412\\u0434\\u043B\\u044B\\u0432\\u0430\\u043B\\u0430\\u0434 \\u0436\\u0430\\u0432\\u0434\\u044B\\u0430\\u0436\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }, \"\\u0428\\u043A\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435 \\u0438\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B\\u044B \\u2013 \\u044D\\u0442\\u043E \\u0431\\u044B\\u0432\\u0430\\u043E\\u044B\\u0430\\u044B\\u0434\\u0439\\u0443\\u0436 \\u0432\\u0430\\u044C\\u044B\\u043B\\u0430\\u0434\\u044B\\u044B\\u044C\\u0432\\u0434\\u0430 \\u044B\\u0432\\u0430\\u043B\\u044B. \\u0412\\u0434\\u043B\\u044B\\u0432\\u0430\\u043B\\u0430\\u0434 \\u0436\\u0430\\u0432\\u0434\\u044B\\u0430\\u0436\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"scales\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }\n    }, testData.scales.map((scale, i) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"scaleBox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(CancelIcon, {\n        id: \"scaleDeletingIcon\",\n        onClick: e => handleDeletingScale(e, i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"scale soft_appearing\",\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: 'Название шкалы ' + (i + 1),\n        value: scale.name,\n        onChange: e => changeScaleHandler(e, i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 29\n        }\n      }, \"\\u041D\\u0430 \\u0441\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u0431\\u0443\\u0434\\u0443\\u0442 \\u0443\\u043C\\u043D\\u043E\\u0436\\u0430\\u0442\\u044C\\u0441\\u044F \\u0431\\u0430\\u043B\\u043B\\u044B?\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        name: \"k\",\n        placeholder: \"\\u041A\\u043E\\u044D\\u0444\\u0444\\u0438\\u0446\\u0438\\u0435\\u043D\\u0442\",\n        min: \"1\",\n        value: scale.k,\n        onChange: e => changeScaleHandler(e, i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"intervals\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 33\n        }\n      }, \"\\u0428\\u043A\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435 \\u0438\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B\\u044B\"), scale.intervals.map((interval, j) => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"interval soft_appearing\",\n          key: j,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(CancelIcon, {\n          onClick: e => handleDeletingInterval(e, i, j),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 45\n          }\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          value: interval.name,\n          placeholder: 'Интервал ' + (j + 1),\n          onChange: e => changeIntervalHandler(e, i, j),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 45\n          }\n        }), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 45\n          }\n        }, \"\\u0418\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B \\u043E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0436\\u0430\\u0435\\u0442 \\u0432\\u044B\\u0440\\u0430\\u0436\\u0435\\u043D\\u043D\\u044B\\u0439 \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442 \\u043F\\u043E \\u0448\\u043A\\u0430\\u043B\\u0435?\"), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"checkbox\",\n          name: \"important\",\n          checked: interval.important,\n          onChange: e => changeIntervalHandler(e, i, j),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 45\n          }\n        }), /*#__PURE__*/React.createElement(\"textarea\", {\n          name: \"description\",\n          value: interval.description,\n          placeholder: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n          onChange: e => changeIntervalHandler(e, i, j),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 45\n          }\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"number\",\n          name: \"min\",\n          value: interval.min,\n          placeholder: \"\\u041C\\u0438\\u043D\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u043E\\u0435 \\u043A\\u043E\\u043B-\\u0432\\u043E \\u0431\\u0430\\u043B\\u043B\\u043E\\u0432\",\n          onChange: e => changeIntervalHandler(e, i, j),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 45\n          }\n        }), /*#__PURE__*/React.createElement(\"input\", {\n          type: \"number\",\n          name: \"max\",\n          value: interval.max,\n          placeholder: \"\\u041C\\u0430\\u043A\\u0441\\u0438\\u043C\\u0430\\u043B\\u044C\\u043D\\u043E\\u0435  \\u043A\\u043E\\u043B-\\u0432\\u043E \\u0431\\u0430\\u043B\\u043B\\u043E\\u0432\",\n          onChange: e => changeIntervalHandler(e, i, j),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 45\n          }\n        }));\n      }), /*#__PURE__*/React.createElement(AddIcon, {\n        title: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0438\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B\",\n        onClick: e => handleAddingInterval(e, i),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 33\n        }\n      })));\n    })), /*#__PURE__*/React.createElement(AddIcon, {\n      title: \"\\u041D\\u043E\\u0432\\u0430\\u044F \\u0448\\u043A\\u0430\\u043B\\u0430\",\n      onClick: e => handleAddingScale(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"registerbtn\",\n      value: \"\\u041E\\u043A\",\n      onClick: e => saveTestDraft(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 13\n      }\n    }))\n  );\n};\nexport default AddTest;","map":{"version":3,"sources":["/Users/alisakrylova/Intro/client/src/components/AddTest.js"],"names":["React","useCallback","useContext","useEffect","useState","AuthContext","Translit","useHttp","AddTest","token","userID","createShortLink","loading","request","error","clearError","drafts","setDrafts","testData","setTestData","name","link","shortDescription","description","scales","k","intervals","min","max","important","questions","handleSelect","e","preventDefault","console","log","target","value","fetchDrafts","handleAddingScale","push","handleDeletingScale","i","splice","length","handleAddingInterval","handleDeletingInterval","j","handleAddingQuestion","handleDeletingQuestion","changeHandler","changeScaleHandler","changeIntervalHandler","fetched","Authorization","saveTestDraft","data","message","document","body","style","map","draft","scale","interval"],"mappings":"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","sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport './Appearence/index.css'\nimport './Appearence/AddTest.css'\nimport {AuthContext} from \"./Context/AuthContext\";\nimport {Translit} from \"./Context/Translit\";\nimport {useHttp} from \"../Hooks/http.hook\";\nimport {ReactComponent as AddIcon} from \"./Appearence/Images/AddIcon.svg\"\nimport {ReactComponent as CancelIcon} from \"./Appearence/Images/CancelIcon.svg\"\n\n\nexport const AddTest = () => {\n\n    const {token, userID} = useContext(AuthContext)\n    const {createShortLink} = useContext(Translit)\n    const {loading, request, error, clearError} = useHttp();\n\n    const {drafts, setDrafts} = useState([])\n\n    const [testData, setTestData] = useState({\n        name: '',\n        link: '',\n        shortDescription: '',\n        description: '',\n        scales: [{\n            name: '' ,\n            k: '',\n            intervals: [{\n                name: '',\n                description: '',\n                min: '',\n                max: '',\n                important: false\n            }]\n        }\n        ],\n        questions: [''],\n    })\n\n\n    const handleSelect = e => {\n        e.preventDefault()\n\n        console.log(e.target.value)\n        if (e.target.value === 'draft')\n            fetchDrafts()\n    }\n\n    const handleAddingScale = e => {\n        e.preventDefault()\n        const scales = testData.scales\n        scales.push({\n            name: '' ,\n            k: '',\n            intervals: [{\n                name: '',\n                description: '',\n                min: '',\n                max: '',\n                important: false\n            }]\n        })\n        setTestData({...testData, scales})\n    }\n\n    const handleDeletingScale = (e, i) => {\n        e.preventDefault()\n        let scales = testData.scales\n        scales.splice(i, 1)\n        setTestData({...testData, scales})\n        if (scales.length == 0) handleAddingScale(e)\n    }\n\n    const handleAddingInterval = (e, i) => {\n        e.preventDefault()\n        let scales = testData.scales\n        let intervals = scales[i]['intervals']\n        intervals.push({\n                name: '',\n                description: '',\n                min: '',\n                max: '',\n                important: false\n        })\n        scales['intervals'] = intervals\n        setTestData({...testData, scales})\n    }\n\n    const handleDeletingInterval = (e, i, j) => {\n        e.preventDefault()\n        let scales = testData.scales\n        let intervals = scales[i]['intervals']\n        intervals.splice(j, 1)\n        scales['intervals'] = intervals\n        setTestData({...testData, scales})\n        if (intervals.length == 0) handleAddingInterval(e, i)\n    }\n\n    const handleAddingQuestion = e => {\n        e.preventDefault()\n        const questions = testData.questions\n        questions.push('')\n        setTestData({...testData, questions})\n    }\n\n    const handleDeletingQuestion = (e, i) => {\n        e.preventDefault()\n        let questions = testData.questions\n        questions.splice(i, 1)\n        setTestData({...testData, questions})\n        if (questions.length == 0) handleAddingQuestion(e)\n    }\n\n    const changeHandler = e => {\n        let link\n        if (e.target.name === 'name') {\n            link = createShortLink(e.target.value)\n            setTestData({...testData, [e.target.name]: e.target.value, link})\n        }\n        else setTestData({...testData, [e.target.name]: e.target.value})\n    }\n\n    const changeScaleHandler = (e, i) => {\n        let scales = testData.scales\n        scales[i][e.target.name] = e.target.value\n        setTestData({...testData, scales})\n    }\n\n    const changeIntervalHandler = (e, i, j) => {\n        let scales = testData.scales\n        let intervals = scales[i]['intervals']\n\n        if (e.target.name === 'important')\n            intervals[j]['important'] = !intervals[j]['important']\n        else\n            intervals[j][e.target.name] = e.target.value\n\n        scales[i]['intervals'] = intervals\n        setTestData({...testData, scales})\n    }\n\n    const fetchDrafts = useCallback(async() => {\n        try {\n            const fetched = await request('addtest/drafts', 'GET', null, {\n                Authorization: `Bearer ${token}`\n            })\n            setDrafts(...fetched)\n            console.log(drafts)\n        }\n        catch (e) {}\n    }, [token, request])\n\n    const saveTestDraft = async(e) => {\n        e.preventDefault()\n        const data = await request('addtest/savedraft', 'POST', {...testData})\n        console.log(data.message)\n    }\n\n\n    useEffect(() => {\n        document.body.style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: #FFFFFF;'\n    }, [])\n\n    useEffect(() => {\n        // setInterval(() => {console.log('hi')}, 1000)\n    }, [])\n\n\n    return (\n        // <div className = 'soft_appearing'>\n        <div className = 'addingTest'>\n            <h1>Добавить тест</h1>\n            <select onChange = {e => handleSelect(e)}>\n                <option defaultValue value = 'new'>вручную</option>\n                <option value = 'draft'>из черновиков</option>\n            </select>\n\n            {\n                // drafts &&\n                //  <select>\n                //     {drafts.map((draft, i) => {\n                //         return (\n                //             <option key = {i} value = {i}>{draft.name}</option>\n                //         )\n                //     })}\n                //  </select>\n\n                drafts && drafts.map((draft, i) => {\n                            return (\n                                <p key = {i} value = {i}>{draft.name}</p>\n                            )\n                        })\n            }\n\n            <h2>Название методики</h2>\n            <input type = 'text' name = 'name' value = {testData.name} placeholder = 'Название методики' onChange = {e => changeHandler(e)}/>\n\n            <h3>Краткая ссылка</h3>\n            <input type = 'text' name = 'link' value = {testData.link} placeholder = 'Краткая ссылка' onChange = {e => changeHandler(e)}/>\n\n            <h2>Краткое описание</h2>\n            <textarea name = 'shortDescription' value = {testData.shortDescription} placeholder = 'Краткое описание методики' onChange = {e => changeHandler(e)}/>\n\n            <h2>Описание</h2>\n            <textarea name = 'description' value = {testData.description} placeholder = 'Описание методики' onChange = {e => changeHandler(e)}/>\n\n            <h2>Шкалы</h2>\n            <p>Шкалы – это бываоыаыдйуж ваьыладыыьвда ывалы. Вдлывалад жавдыаж</p>\n            <p>Шкальные интервалы – это бываоыаыдйуж ваьыладыыьвда ывалы. Вдлывалад жавдыаж</p>\n\n            <div className = 'scales'>\n            {\n                testData.scales.map((scale, i) => {\n                    return(\n                        <div className = 'scaleBox'>\n                            <CancelIcon id = 'scaleDeletingIcon' onClick = { e => handleDeletingScale(e, i) }/>\n                        <div className = 'scale soft_appearing' key = {i}>\n                            <input type = 'text' name = 'name' placeholder ={'Название шкалы ' + (i + 1)} value = {scale.name} onChange = { e => changeScaleHandler(e, i) }/>\n                            <p>На сколько будут умножаться баллы?</p>\n                            <input type = 'number' name = 'k' placeholder = 'Коэффициент' min = '1' value = {scale.k} onChange = { e => changeScaleHandler(e, i) }/>\n\n                        </div>\n                            <div className = 'intervals'>\n                                <h3>Шкальные интервалы</h3>\n                            {\n                                scale.intervals.map((interval, j) => {\n                                    return (\n                                        <div className = 'interval soft_appearing' key = {j}>\n                                            <CancelIcon onClick = { e => handleDeletingInterval(e, i, j) }/>\n                                            <input type = 'text' name = 'name' value = {interval.name} placeholder = {'Интервал '+ (j + 1)} onChange = { e => changeIntervalHandler(e, i, j) }/>\n                                            <p>Интервал отображает выраженный результат по шкале?</p>\n                                            <input type = 'checkbox' name = 'important' checked = {interval.important} onChange = { e => changeIntervalHandler(e, i, j) }/>\n                                            <textarea name = 'description' value = {interval.description} placeholder = 'Комментарий' onChange = { e => changeIntervalHandler(e, i, j) }/>\n                                            <input type = 'number' name = 'min' value = {interval.min} placeholder = 'Минимальное кол-во баллов' onChange = { e => changeIntervalHandler(e, i, j) }/>\n                                            <input type = 'number' name = 'max' value = {interval.max} placeholder = 'Максимальное  кол-во баллов' onChange = { e => changeIntervalHandler(e, i, j) }/>\n                                        </div>)})\n                            }\n                                <AddIcon title = 'Новый интервал' onClick = { e => handleAddingInterval(e, i) }/>\n                            </div>\n                        </div>)\n                })\n            }\n            </div>\n            {/*<input type = 'button' value = '+' onClick = { e => handleAddingScale(e) }/>*/}\n            <AddIcon title = 'Новая шкала' onClick = { e => handleAddingScale(e) }/>\n\n            {/*<h2>Вопросы</h2>*/}\n            {/*<div className = 'questionsAdd'>*/}\n            {/*{*/}\n            {/*    testData.questions.map((question, i) => {*/}\n            {/*        return(*/}\n            {/*            <div className = 'questionAdd' key = {i}>*/}\n            {/*                <input type = 'text' name = {'q' + i} placeholder = {'Текст вопроса ' + i} value = {testData.questions[i]} onChange = { e => changeScaleHandler(e, i) }/>*/}\n            {/*                <input type = 'button' value = 'x' onClick = { e => handleDeletingQuestion(e, i) }/>*/}\n            {/*                /!*<input type = 'number' name = 'k' placeholder = 'Коэффициент' min = '1' value = {scale.k} onChange = { e => changeScaleHandler(e, i) }/>*!/*/}\n            {/*                /!*<input type = 'button' value = 'x' onClick = { e => handleDeletingScale(e, i) }/>*!/*/}\n            {/*            </div>)*/}\n            {/*    })*/}\n            {/*}*/}\n            {/*</div>*/}\n            {/*<AddIcon onClick = { e => handleAddingQuestion(e) }/>*/}\n\n            <div className = 'registerbtn' value = 'Ок' onClick = {e => saveTestDraft(e)}></div>\n\n\n        </div>\n\n\n    )\n}\n\nexport default AddTest;"]},"metadata":{},"sourceType":"module"}