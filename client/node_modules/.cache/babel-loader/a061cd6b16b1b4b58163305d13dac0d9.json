{"ast":null,"code":"var _jsxFileName = \"/Users/alisakrylova/Intro2/client/src/components/Profile.js\";\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { useParams, useHistory } from \"react-router-dom\";\nimport './Appearence/Profile.css';\nimport './Appearence/index.css';\nimport './Appearence/DatePicker.css';\nimport { AuthContext } from \"./Context/AuthContext\";\nimport { emojis, emojiToString } from \"./Functions and const/Emoji\";\nimport formatDateToRu from \"./Functions and const/DateFormat\";\nimport showError from './Functions and const/ShowError';\nimport { useHttp } from \"../Hooks/Http.hook\";\nimport { NavLink } from \"react-router-dom\";\nimport RegExps from \"./Functions and const/RegExps\";\nimport { ReactComponent as EditIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!./Appearence/Images/EditIcon.svg\";\nimport { ReactComponent as CancelIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!./Appearence/Images/CancelIcon.svg\";\nimport ConfirmWindow from './Functions and const/ConfirmWindow';\nimport DatePicker from \"react-datepicker/es\";\nimport { registerLocale } from \"react-datepicker\";\nimport notify from \"./Functions and const/Notify\";\nimport SearchIcon from \"./Appearence/Images/SearchIcon\";\nimport { ReactComponent as SortIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!./Appearence/Images/SortIcon.svg\";\nexport const Profile = () => {\n  const months = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];\n  const days = ['вс', 'пн', 'вт', 'ср', 'чт', 'пт', 'сб'];\n  registerLocale('ru', {\n    localize: {\n      month: i => months[i],\n      day: i => days[i]\n    },\n    formatLong: {}\n  });\n  let login = useParams().id;\n  const {\n    request\n  } = useHttp();\n  const {\n    token,\n    username\n  } = useContext(AuthContext);\n  const history = useHistory();\n  const [results, setResults] = useState([]);\n  const [isSearching, activateSearching] = useState('none');\n  const [isEditing, activateEditing] = useState(false);\n  const [isDeleting, activateDeleting] = useState(false);\n  const [isChoosingEmoji, activateChoosingEmoji] = useState(false);\n  const [search, setSearch] = useState('');\n  const [notFound, setNotFound] = useState();\n  const [sorted, setSorted] = useState(false);\n  const [resultsFetched, setResultsFetched] = useState(false);\n  const [userDataFetched, setUserDataFetched] = useState(false);\n  const [errors, setErrors] = useState({\n    name: '',\n    surname: '',\n    login: '',\n    password: ''\n  });\n  const [userData, setUserData] = useState({\n    name: '',\n    surname: '',\n    login: '',\n    type: '',\n    pic: '',\n    birthday: new Date('2000-01-01'),\n    grade: '',\n    letter: ''\n  });\n  const [userEditedData, setUserEditedData] = useState({\n    name: '',\n    surname: '',\n    login: '',\n    pic: '',\n    birthday: new Date('2000-01-01'),\n    password: ''\n  });\n  const fetchUserData = useCallback(async () => {\n    try {\n      const fetched = await request(`/api/users/get/${login}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      });\n\n      if (!fetched.message) {\n        setUserData(fetched);\n\n        if (fetched.birthday) {\n          setUserData({ ...fetched,\n            birthday: new Date(fetched.birthday)\n          });\n          setUserEditedData({ ...fetched,\n            birthday: new Date(fetched.birthday)\n          });\n        } else {\n          setUserData(fetched);\n          setUserEditedData(fetched);\n        }\n\n        document.title = fetched.name + ' ' + fetched.surname;\n      } else console.log(fetched.message);\n\n      setUserDataFetched(true);\n    } catch (e) {}\n  }, [token, login]);\n  const fetchResults = useCallback(async () => {\n    try {\n      const fetched = await request(`/api/results/${login}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      });\n\n      if (!fetched.message) {\n        fetched.sort((a, b) => a.date < b.date ? 1 : -1);\n        setResults(fetched);\n      }\n\n      setResultsFetched(true);\n    } catch (e) {}\n  }, [token, login]);\n\n  const handleSearchActivating = e => {\n    e.preventDefault();\n\n    switch (isSearching) {\n      case 'active':\n        activateSearching('inactive');\n        break;\n\n      case 'none':\n      case 'inactive':\n        activateSearching('active');\n        document.getElementById('search').focus();\n        break;\n    }\n  };\n\n  const doSearch = e => {\n    e.preventDefault();\n\n    try {\n      let searchFilter = e.target.value.toString().toLowerCase();\n      setSearch(searchFilter);\n      setNotFound(false);\n\n      if (searchFilter != '') {\n        let resultsArray = [];\n        results.map(result => {\n          let res = '';\n          result.scales.map(r => {\n            res += r.toString();\n          });\n          resultsArray.push((result.test + res).toString().toLowerCase());\n        });\n        let indexes = [];\n        resultsArray.map((result, i) => {\n          if (resultsArray[i].toString().includes(searchFilter)) indexes.push(i);\n        });\n\n        if (indexes.length != 0) {\n          setNotFound(false);\n        } else setNotFound(true);\n      }\n    } catch (e) {}\n  };\n\n  const doSort = e => {\n    e.preventDefault();\n\n    try {\n      switch (sorted) {\n        case true:\n          document.getElementById('sortIcon').style = 'transform: rotate(360deg);';\n          document.getElementById('resultsCollection').style = 'flex-direction: column;';\n          setSorted(false);\n          break;\n\n        case false:\n          document.getElementById('sortIcon').style = 'transform: rotate(180deg);';\n          document.getElementById('resultsCollection').style = 'flex-direction: column-reverse;';\n          setSorted(true);\n          break;\n      }\n    } catch (e) {}\n  };\n\n  const handleEditActivating = e => {\n    e.preventDefault();\n    activateEditing(!isEditing);\n  };\n\n  const handleDeleteActivating = e => {\n    e.preventDefault();\n    activateDeleting(!isDeleting);\n  };\n\n  const handleDeleting = async e => {\n    e.preventDefault();\n    await deleteUser();\n  };\n\n  const deleteUser = useCallback(async () => {\n    try {\n      const data = await request(`/api/users/${login}/drop`, 'POST', null);\n\n      if (data.message === 'User is deleted') {\n        notify('Пользователь удалён');\n        setTimeout(() => history.push('/students'), 500);\n      }\n    } catch (e) {}\n  }, [token, request]);\n\n  const handleEditing = e => {\n    e.preventDefault();\n    setUserEditedData({ ...userEditedData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const setBirthday = date => {\n    setUserEditedData({ ...userEditedData,\n      birthday: new Date(date)\n    });\n  };\n\n  const handleChooseEmojiActivating = e => {\n    e.preventDefault();\n    activateChoosingEmoji(!isChoosingEmoji);\n  };\n\n  const setUserPic = e => {\n    e.preventDefault();\n    setUserEditedData({ ...userEditedData,\n      pic: emojis[e.target.id.slice(1)]\n    });\n  };\n\n  const checkFields = async e => {\n    e.preventDefault();\n\n    try {\n      let name = '',\n          surname = '',\n          login = '',\n          password = '';\n\n      if (!userEditedData.name) {\n        name = 'Заполните это поле';\n        await showError(true, 'name', 'errorName');\n      } else if (!RegExps.cyrillicsRegExp.test(userEditedData.name)) {\n        name = 'Допустима только из кириллица';\n        await showError(true, 'name', 'errorName');\n      }\n\n      if (!userEditedData.surname) {\n        surname = 'Заполните это поле';\n        await showError(true, 'surname', 'errorSurname');\n      } else if (!RegExps.cyrillicsRegExp.test(userEditedData.surname)) {\n        surname = 'Допустима только из кириллица';\n        await showError(true, 'surname', 'errorSurname');\n      }\n\n      if (!userEditedData.login) {\n        login = 'Заполните это поле';\n        await showError(true, 'loginOnProfile', 'errorLoginOnProfile');\n      } else if (!RegExps.loginRegExp.test(userEditedData.login)) {\n        login = 'Допустимы только a-z, цифры, точка и пробел';\n        await showError(true, 'loginOnProfile', 'errorLoginOnProfile');\n      }\n\n      if (userEditedData.password && !RegExps.passwordRegExp.test(userEditedData.password)) {\n        if (userEditedData.password.length < 6 || userEditedData.password.length > 20) password = 'Пароль должен содержать от 6 до 20 символов';else password = 'Допустимы только A-z, цифры, точка и пробел';\n        await showError(true, 'password', 'errorPassword');\n      }\n\n      !name && (await showError(false, 'name', 'errorName'));\n      !surname && (await showError(false, 'surname', 'errorSurname'));\n      !login && (await showError(false, 'loginOnProfile', 'errorLoginOnProfile'));\n      !password && (await showError(false, 'password', 'errorPassword'));\n      setErrors({\n        name,\n        surname,\n        login,\n        password\n      });\n      if (!name && !surname && !login && !password) return true;else return false;\n    } catch (e) {}\n  };\n\n  const saveEditedData = async e => {\n    e.persist();\n\n    try {\n      if (await checkFields(e)) {\n        const data = await request('/api/users/edit', 'POST', { ...userEditedData,\n          oldLogin: userData.login\n        });\n        if (data.message === 'User\\'ve edited') notify('Данные профиля изменены');\n        setUserEditedData({ ...userEditedData,\n          password: ''\n        });\n        setUserData(userEditedData);\n        handleEditActivating(e);\n      }\n    } catch (e) {}\n  };\n\n  const cancelEditing = e => {\n    e.preventDefault();\n    setUserEditedData(userData);\n    handleEditActivating(e);\n  };\n\n  useEffect(() => {\n    document.body.style = 'transition-duration: .7s; transition-timing-function: ease-in-out; background: white;';\n  });\n  useEffect(() => {\n    activateEditing(false); // !userDataFetched &&\n\n    fetchUserData(); // !resultsFetched &&\n\n    fetchResults();\n  }, [login, resultsFetched, userDataFetched]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 9\n    }\n  }, !isEditing && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profilePic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }\n  }, \" \", emojiToString(userData.pic), \" \"), isDeleting && /*#__PURE__*/React.createElement(ConfirmWindow, {\n    text: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0443\\u0447\\u0435\\u043D\\u0438\\u043A\\u0430?\",\n    confirm: e => handleDeleting(e),\n    cancel: e => handleDeleteActivating(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 13\n    }\n  }), isEditing && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileEditingPic\",\n    onClick: e => handleChooseEmojiActivating(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 13\n    }\n  }, \" \", emojiToString(userEditedData.pic), \" \"), isChoosingEmoji && isEditing && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"emojiContainerOnProfile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileEditingPic\",\n    onClick: e => handleChooseEmojiActivating(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 15\n    }\n  }, \" \", emojiToString(userEditedData.pic), \" \"), emojis.map((emoji, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"addingStudentEmoji\",\n      onClick: e => setUserPic(e),\n      key: i,\n      id: 'e' + i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 23\n      }\n    }, emojiToString(emoji));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 11\n    }\n  }, !isEditing && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileHeaderIcons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(EditIcon, {\n    onClick: e => handleEditActivating(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 19\n    }\n  }), userData.type === 's' && /*#__PURE__*/React.createElement(CancelIcon, {\n    onClick: e => handleDeleteActivating(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 21\n    }\n  })), !isEditing && /*#__PURE__*/React.createElement(\"h1\", {\n    id: \"fio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 13\n    }\n  }, userData.name, \" \", userData.surname), (!isEditing || userData.login === username) && /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"loginOnProfile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 13\n    }\n  }, userData.login), isEditing && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    name: \"name\",\n    className: \"enabledInput\",\n    onChange: e => handleEditing(e),\n    value: userEditedData.name,\n    placeholder: \"\\u0418\\u043C\\u044F\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 13\n    }\n  }), isEditing && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    id: \"errorName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 13\n    }\n  }, errors.name), isEditing && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"surname\",\n    name: \"surname\",\n    className: \"enabledInput\",\n    onChange: e => handleEditing(e),\n    value: userEditedData.surname,\n    placeholder: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 13\n    }\n  }), isEditing && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    id: \"errorSurname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 13\n    }\n  }, errors.surname), isEditing && userData.login !== username && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"loginOnProfile\",\n    name: \"login\",\n    className: \"enabledInput\",\n    onChange: e => handleEditing(e),\n    value: userEditedData.login,\n    placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 13\n    }\n  }), isEditing && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    id: \"errorLoginOnProfile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 13\n    }\n  }, errors.login), isEditing && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"password\",\n    name: \"password\",\n    className: \"enabledInput\",\n    onChange: e => handleEditing(e),\n    value: userEditedData.password,\n    placeholder: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 13\n    }\n  }), isEditing && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    id: \"errorPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 13\n    }\n  }, errors.password), isEditing && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"password\",\n    name: \"password\",\n    className: \"enabledInput\",\n    onChange: e => handleEditing(e),\n    value: userEditedData.password,\n    placeholder: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 13\n    }\n  }), isEditing && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    id: \"errorPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 13\n    }\n  }, errors.password), userData.type === 'p' && /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 13\n    }\n  }, \"\\u041F\\u0435\\u0434\\u0430\\u0433\\u043E\\u0433-\\u043F\\u0441\\u0438\\u0445\\u043E\\u043B\\u043E\\u0433\"), userData.type === 's' && !isEditing && /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"grade\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 30\n    }\n  }, userData.grade + userData.letter, \" \\u043A\\u043B\\u0430\\u0441\\u0441\")), userData.type === 's' && !isEditing && /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"birthday\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 13\n    }\n  }, \"\\u0414\\u0435\\u043D\\u044C \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F: \", formatDateToRu(userData.birthday)), userData.type === 's' && isEditing && /*#__PURE__*/React.createElement(\"div\", {\n    id: \"datePickerProfile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    id: \"datePickerProfileInside\",\n    className: \"datePicker\",\n    value: formatDateToRu(userEditedData.birthday),\n    selected: userEditedData.birthday,\n    onChange: date => setBirthday(date),\n    placeholderText: \"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\",\n    locale: \"ru\",\n    dateFormat: \"dd/MM/yyyy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 19\n    }\n  })), userData.type === 's' && isEditing && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gradeAndLetter\",\n    id: \"gradeAndLetter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"grade\",\n    value: userEditedData.grade,\n    onChange: e => handleEditing(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 17\n    }\n  }, \"\\u041A\\u043B\\u0430\\u0441\\u0441\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 17\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 17\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 17\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 17\n    }\n  }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 17\n    }\n  }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 17\n    }\n  }, \"6\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 17\n    }\n  }, \"7\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 17\n    }\n  }, \"8\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 17\n    }\n  }, \"9\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 17\n    }\n  }, \"10\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"11\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 17\n    }\n  }, \"11\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"letter\",\n    name: \"letter\",\n    value: userEditedData.letter,\n    onChange: e => handleEditing(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 17\n    }\n  }, \"\\u0411\\u0443\\u043A\\u0432\\u0430\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u0410\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 17\n    }\n  }, \"\\u0410\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u0411\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 17\n    }\n  }, \"\\u0411\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u0412\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 17\n    }\n  }, \"\\u0412\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u0413\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 17\n    }\n  }, \"\\u0413\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u0414\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 17\n    }\n  }, \"\\u0414\"))), isEditing && /*#__PURE__*/React.createElement(\"div\", {\n    id: \"saveAndCancelEditing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    id: \"cancelIcon\",\n    onClick: e => cancelEditing(e),\n    width: \"35px\",\n    height: \"35px\",\n    viewBox: \"0 0 300 300\",\n    version: \"1.1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#E88732\",\n    id: \"Logo\",\n    stroke: \"none\",\n    \"stroke-width\": \"1\",\n    \"fill-rule\": \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M231.885822,72.3223305 C241.64893,82.0854378 241.64893,97.9145622 231.885822,107.67767 L184.959,154.604 L222.885822,192.530483 C232.64893,202.293591 232.64893,218.122715 222.885822,227.885822 C213.122715,237.64893 197.293591,237.64893 187.530483,227.885822 L149.604,189.959 L111.67767,227.885822 C101.914562,237.64893 86.0854378,237.64893 76.3223305,227.885822 C66.5592232,218.122715 66.5592232,202.293591 76.3223305,192.530483 L114.249,154.604 L67.3223305,107.67767 C57.5592232,97.9145622 57.5592232,82.0854378 67.3223305,72.3223305 C77.0854378,62.5592232 92.9145622,62.5592232 102.67767,72.3223305 L149.604,119.249 L196.530483,72.3223305 C206.293591,62.5592232 222.122715,62.5592232 231.885822,72.3223305 Z\",\n    id: \"Combined-Shape\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"svg\", {\n    id: \"saveIcon\",\n    onClick: e => saveEditedData(e),\n    width: \"30px\",\n    height: \"30px\",\n    viewBox: \"0 0 300 300\",\n    version: \"1.1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logo\",\n    fill: \"#E0E7B4\",\n    stroke: \"none\",\n    \"stroke-width\": \"1\",\n    \"fill-rule\": \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M274.847645,60.3120342 L279.170453,64.6298082 C288.939247,74.3872257 288.948469,90.2163475 279.191052,99.9851413 C279.18419,99.9920115 279.177324,99.9988777 279.170453,100.00574 L151.781477,227.246365 C146.461489,232.560158 139.343499,234.977726 132.387469,234.499068 C125.431382,234.977957 118.312965,232.560413 112.992721,227.246365 L21.3326328,135.693019 C11.563839,125.935602 11.5546167,110.10648 21.3120342,100.337686 L21.3326328,100.317087 L21.3326328,100.317087 L25.655441,95.9993134 C35.4161868,86.2499345 51.2294296,86.2499345 60.9901754,95.9993134 L132.387,167.312 L239.512911,60.3120342 C249.273657,50.5626553 265.086899,50.5626553 274.847645,60.3120342 Z\",\n    id: \"Combined-Shape\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 21\n    }\n  })))))), results.length != 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchAndSort\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"search\",\n    className: isSearching === 'active' && 'searchAppearing' || isSearching === 'inactive' && 'searchDisappearing' || isSearching === 'none' && 'invisible',\n    placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u0430\\u043C\",\n    onChange: doSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(SearchIcon, {\n    handleSearchActivating: handleSearchActivating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(SortIcon, {\n    onClick: e => doSort(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"resultsCollection\",\n    className: \"results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 9\n    }\n  }, notFound && /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"notFound\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 25\n    }\n  }, \"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\") || !notFound && results[0] && results.map((result, index) => {\n    if ((result.test + result.scales).toLowerCase().includes(search)) return /*#__PURE__*/React.createElement(NavLink, {\n      to: `/tests/${result.link}/${login}`,\n      key: index,\n      className: \"resultItem soft_appearing\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"resultTestName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 23\n      }\n    }, result.test), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"shortResult\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 23\n      }\n    }, result.scales.map((res, i) => {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 33\n        }\n      }, res);\n    })));\n  }), !notFound && !results[0] && /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"notFound\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 13\n    }\n  }, \"\\u0420\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u043E\\u0432 \\u043F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442\")));\n};\nexport default Profile;","map":{"version":3,"sources":["/Users/alisakrylova/Intro2/client/src/components/Profile.js"],"names":["React","useCallback","useContext","useEffect","useState","useParams","useHistory","AuthContext","emojis","emojiToString","formatDateToRu","showError","useHttp","NavLink","RegExps","ConfirmWindow","DatePicker","registerLocale","notify","SearchIcon","Profile","months","days","localize","month","i","day","formatLong","login","id","request","token","username","history","results","setResults","isSearching","activateSearching","isEditing","activateEditing","isDeleting","activateDeleting","isChoosingEmoji","activateChoosingEmoji","search","setSearch","notFound","setNotFound","sorted","setSorted","resultsFetched","setResultsFetched","userDataFetched","setUserDataFetched","errors","setErrors","name","surname","password","userData","setUserData","type","pic","birthday","Date","grade","letter","userEditedData","setUserEditedData","fetchUserData","fetched","Authorization","message","document","title","console","log","e","fetchResults","sort","a","b","date","handleSearchActivating","preventDefault","getElementById","focus","doSearch","searchFilter","target","value","toString","toLowerCase","resultsArray","map","result","res","scales","r","push","test","indexes","includes","length","doSort","style","handleEditActivating","handleDeleteActivating","handleDeleting","deleteUser","data","setTimeout","handleEditing","setBirthday","handleChooseEmojiActivating","setUserPic","slice","checkFields","cyrillicsRegExp","loginRegExp","passwordRegExp","saveEditedData","persist","oldLogin","cancelEditing","body","emoji","index","link"],"mappings":"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","sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport {useParams, useHistory} from \"react-router-dom\";\nimport './Appearence/Profile.css'\nimport './Appearence/index.css'\nimport './Appearence/DatePicker.css';\nimport {AuthContext} from \"./Context/AuthContext\"\nimport {emojis, emojiToString} from \"./Functions and const/Emoji\";\nimport formatDateToRu from \"./Functions and const/DateFormat\"\nimport showError from './Functions and const/ShowError'\nimport {useHttp} from \"../Hooks/Http.hook\"\nimport {NavLink} from \"react-router-dom\"\nimport RegExps from \"./Functions and const/RegExps\"\nimport {ReactComponent as EditIcon} from './Appearence/Images/EditIcon.svg'\nimport {ReactComponent as CancelIcon} from './Appearence/Images/CancelIcon.svg'\nimport ConfirmWindow from './Functions and const/ConfirmWindow'\n\n\nimport DatePicker from \"react-datepicker/es\";\nimport {registerLocale} from \"react-datepicker\";\nimport notify from \"./Functions and const/Notify\";\nimport SearchIcon from \"./Appearence/Images/SearchIcon\";\nimport {ReactComponent as SortIcon} from \"./Appearence/Images/SortIcon.svg\";\n\nexport const Profile = () => {\n\n  const months = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь']\n  const days = ['вс', 'пн', 'вт', 'ср', 'чт', 'пт', 'сб']\n\n  registerLocale('ru', {\n    localize: {\n      month: i => months[i],\n      day: i => days[i]\n    },\n    formatLong:{}\n  });\n\n\n  let login = useParams().id\n\n  const {request} = useHttp();\n  const {token, username} = useContext(AuthContext)\n  const history = useHistory()\n\n  const [results, setResults] = useState([])\n  const [isSearching, activateSearching] = useState('none')\n  const [isEditing, activateEditing] = useState(false)\n  const [isDeleting, activateDeleting] = useState(false)\n  const [isChoosingEmoji, activateChoosingEmoji] = useState(false)\n  const [search, setSearch] = useState('')\n  const [notFound, setNotFound] = useState()\n  const [sorted, setSorted] = useState(false)\n  const [resultsFetched, setResultsFetched] = useState(false)\n  const [userDataFetched, setUserDataFetched] = useState(false)\n  const [errors, setErrors] = useState({\n    name: '',\n    surname: '',\n    login: '',\n    password: ''\n  })\n\n  const [userData, setUserData] = useState({\n    name: '',\n    surname: '',\n    login: '',\n    type: '',\n    pic: '',\n    birthday: new Date('2000-01-01'),\n    grade: '',\n    letter: ''\n  })\n  const [userEditedData, setUserEditedData] = useState({\n    name: '',\n    surname: '',\n    login: '',\n    pic: '',\n    birthday: new Date('2000-01-01'),\n    password: ''\n  })\n\n  const fetchUserData = useCallback(async () => {\n    try {\n      const fetched = await request(`/api/users/get/${login}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      })\n      if (!fetched.message) {\n        setUserData(fetched)\n        if (fetched.birthday) {\n          setUserData({...fetched, birthday: new Date(fetched.birthday)})\n          setUserEditedData({...fetched, birthday: new Date(fetched.birthday)})\n        }\n        else {\n          setUserData(fetched)\n          setUserEditedData(fetched)\n        }\n        document.title = fetched.name + ' ' + fetched.surname\n      }\n      else console.log(fetched.message)\n      setUserDataFetched(true)\n    }\n    catch (e) {}\n  }, [token, login])\n\n  const fetchResults = useCallback(async () => {\n    try {\n      const fetched = await request(`/api/results/${login}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      })\n      if (!fetched.message) {\n        fetched.sort((a, b) => a.date < b.date ? 1 : -1)\n        setResults(fetched)\n      }\n      setResultsFetched(true)\n    }\n    catch (e) {}\n  }, [token, login])\n\n\n  const handleSearchActivating = e => {\n    e.preventDefault()\n    switch (isSearching){\n      case 'active':\n        activateSearching('inactive');\n        break\n      case 'none':\n      case 'inactive':\n        activateSearching('active');\n        document.getElementById('search').focus()\n        break\n    }\n  }\n\n  const doSearch = e => {\n    e.preventDefault()\n    try {\n      let searchFilter = e.target.value.toString().toLowerCase()\n      setSearch(searchFilter)\n      setNotFound(false)\n      if (searchFilter != '') {\n        let resultsArray = []\n        results.map(result => {\n          let res = ''\n          result.scales.map(r => {\n            res += r.toString()\n          })\n          resultsArray.push((result.test + res).toString().toLowerCase())\n        })\n\n        let indexes = []\n        resultsArray.map((result, i) => {\n          if (resultsArray[i].toString().includes(searchFilter))\n            indexes.push(i)\n        })\n\n        if (indexes.length != 0) {\n          setNotFound(false)\n        }\n        else setNotFound(true)\n      }\n    }\n    catch (e) {}\n  }\n\n  const doSort = e => {\n    e.preventDefault()\n    try {\n      switch (sorted) {\n        case true:\n          document.getElementById('sortIcon').style = 'transform: rotate(360deg);'\n          document.getElementById('resultsCollection').style = 'flex-direction: column;'\n          setSorted(false);\n          break;\n        case false:\n          document.getElementById('sortIcon').style = 'transform: rotate(180deg);'\n          document.getElementById('resultsCollection').style = 'flex-direction: column-reverse;'\n          setSorted(true);\n          break;\n      }\n    }\n    catch (e) {}\n  }\n\n  const handleEditActivating = e => {\n    e.preventDefault()\n    activateEditing(!isEditing);\n  }\n\n  const handleDeleteActivating = e => {\n    e.preventDefault()\n    activateDeleting(!isDeleting);\n  }\n\n  const handleDeleting = async (e) => {\n    e.preventDefault()\n    await deleteUser()\n  }\n\n  const deleteUser = useCallback(async() => {\n    try {\n      const data = await request(`/api/users/${login}/drop`, 'POST', null)\n      if (data.message === 'User is deleted') {\n        notify('Пользователь удалён')\n        setTimeout(() => history.push('/students'), 500)\n      }\n    }\n    catch (e) {}\n  }, [token, request])\n\n  const handleEditing = e => {\n    e.preventDefault()\n    setUserEditedData({...userEditedData, [e.target.name]: e.target.value})\n  }\n\n   const setBirthday = date => {\n     setUserEditedData({...userEditedData, birthday: new Date(date)})\n   }\n\n  const handleChooseEmojiActivating = e => {\n    e.preventDefault()\n    activateChoosingEmoji(!isChoosingEmoji)\n  }\n\n  const setUserPic = e => {\n    e.preventDefault()\n    setUserEditedData({...userEditedData, pic: emojis[e.target.id.slice(1)]})\n  }\n\n  const checkFields = async (e) => {\n    e.preventDefault()\n    try {\n      let name = '', surname = '', login = '', password = ''\n      if (!userEditedData.name) {\n        name = 'Заполните это поле'\n        await showError(true,'name', 'errorName')\n      }\n      else if (!RegExps.cyrillicsRegExp.test(userEditedData.name)) {\n        name = 'Допустима только из кириллица'\n        await showError(true,'name', 'errorName')\n      }\n\n      if (!userEditedData.surname) {\n        surname = 'Заполните это поле'\n        await showError(true,'surname', 'errorSurname')\n      }\n      else if (!RegExps.cyrillicsRegExp.test(userEditedData.surname)) {\n        surname = 'Допустима только из кириллица'\n        await showError(true,'surname', 'errorSurname')\n      }\n\n      if (!userEditedData.login) {\n        login = 'Заполните это поле'\n        await showError(true,'loginOnProfile', 'errorLoginOnProfile')\n      }\n      else if (!RegExps.loginRegExp.test(userEditedData.login)) {\n        login = 'Допустимы только a-z, цифры, точка и пробел'\n        await showError(true,'loginOnProfile', 'errorLoginOnProfile')\n      }\n\n      if (userEditedData.password && !RegExps.passwordRegExp.test(userEditedData.password)) {\n        if (userEditedData.password.length < 6 || userEditedData.password.length > 20)\n          password = 'Пароль должен содержать от 6 до 20 символов'\n        else\n          password = 'Допустимы только A-z, цифры, точка и пробел'\n          await showError(true, 'password', 'errorPassword')\n      }\n\n      !name && await showError(false,'name', 'errorName')\n      !surname && await showError(false,'surname', 'errorSurname')\n      !login && await showError(false,'loginOnProfile', 'errorLoginOnProfile')\n      !password && await showError(false,'password', 'errorPassword')\n\n      setErrors({name, surname, login, password})\n\n      if (!name && !surname && !login && !password)\n        return true\n      else\n        return false\n    }\n    catch (e) {}\n  }\n\n  const saveEditedData = async(e) => {\n    e.persist()\n      try {\n        if (await checkFields(e)) {\n          const data = await request('/api/users/edit', 'POST', {...userEditedData, oldLogin: userData.login})\n          if (data.message === 'User\\'ve edited') notify('Данные профиля изменены')\n          setUserEditedData({...userEditedData, password: ''})\n          setUserData(userEditedData)\n          handleEditActivating(e)\n        }\n      }\n      catch (e) {}\n  }\n\n  const cancelEditing = e => {\n    e.preventDefault()\n    setUserEditedData(userData)\n    handleEditActivating(e)\n  }\n\n  useEffect(() => {\n    document.body.style = 'transition-duration: .7s; transition-timing-function: ease-in-out; background: white;'\n  })\n\n  useEffect(() => {\n    activateEditing(false)\n\n    // !userDataFetched &&\n    fetchUserData()\n    // !resultsFetched &&\n    fetchResults()\n\n  }, [login, resultsFetched, userDataFetched])\n\n  return (\n      <div>\n        <div className = 'profileContainer'>\n\n          {\n            !isEditing &&\n            <div className = 'profilePic'> {emojiToString(userData.pic)} </div>\n          }\n          {\n            isDeleting &&\n            <ConfirmWindow text = 'Удалить ученика?' confirm={e => handleDeleting(e)} cancel={e => handleDeleteActivating(e)}/>\n          }\n          {\n            isEditing &&\n            <div className = 'profileEditingPic' onClick = {e => handleChooseEmojiActivating(e)}> {emojiToString(userEditedData.pic)} </div>\n          }\n\n          {\n            isChoosingEmoji && isEditing &&\n            <div className = 'emojiContainerOnProfile'>\n              <div className = 'profileEditingPic' onClick = {e => handleChooseEmojiActivating(e)}> {emojiToString(userEditedData.pic)} </div>\n              {\n                emojis.map((emoji, i) => {\n                  return (\n                      <div className = 'addingStudentEmoji' onClick = {e => setUserPic(e)} key = {i} id = {'e' + i}>\n                        {emojiToString(emoji)}\n                      </div>\n                  )\n                })\n              }\n            </div>\n          }\n\n          <div className = 'profileHeader'>\n\n            {!isEditing &&\n                <div className = 'profileHeaderIcons'>\n                  <EditIcon onClick = {e => handleEditActivating(e)}/>\n                  {\n                    userData.type === 's' &&\n                    <CancelIcon onClick = {e => handleDeleteActivating(e)}/>\n                  }\n                </div>\n            }\n            {!isEditing &&\n            <h1 id = 'fio'>{userData.name} {userData.surname}</h1>}\n            {(!isEditing || userData.login === username) &&\n            <h2 id = 'loginOnProfile'>{userData.login}</h2>}\n\n\n\n            {isEditing &&\n            <input type = 'text' id = 'name' name = 'name' className = 'enabledInput' onChange = {e => handleEditing(e)} value = {userEditedData.name} placeholder = 'Имя'/>}\n            {isEditing &&\n            <p className = 'error' id = 'errorName'>{errors.name}</p>}\n\n            {isEditing &&\n            <input type = 'text' id = 'surname' name = 'surname' className = 'enabledInput' onChange = {e => handleEditing(e)} value = {userEditedData.surname} placeholder = 'Фамилия'/>}\n            {isEditing &&\n            <p className = 'error' id = 'errorSurname'>{errors.surname}</p>}\n\n            {isEditing && userData.login !== username &&\n            <input type = 'text' id = 'loginOnProfile' name = 'login' className = 'enabledInput' onChange = {e => handleEditing(e)} value = {userEditedData.login}  placeholder = 'Логин'/>}\n            {isEditing &&\n            <p className = 'error' id = 'errorLoginOnProfile'>{errors.login}</p>}\n\n            {isEditing &&\n            <input type = 'text' id = 'password' name = 'password' className = 'enabledInput' onChange = {e => handleEditing(e)} value = {userEditedData.password}  placeholder = 'Новый пароль' />}\n            {isEditing &&\n            <p className = 'error' id = 'errorPassword'>{errors.password}</p>}\n\n            {isEditing &&\n            <input type = 'text' id = 'password' name = 'password' className = 'enabledInput' onChange = {e => handleEditing(e)} value = {userEditedData.password}  placeholder = 'Новый пароль' />}\n            {isEditing &&\n            <p className = 'error' id = 'errorPassword'>{errors.password}</p>}\n\n\n            {userData.type === 'p' &&\n            <h3 id = 'type'>Педагог-психолог</h3>}\n            {userData.type === 's' && !isEditing &&\n            <h3 id = 'grade'><b>{userData.grade + userData.letter} класс</b></h3>}\n            {userData.type === 's' && !isEditing &&\n            <h3 id = 'birthday'>День рождения: { formatDateToRu(userData.birthday)}</h3>}\n\n\n            {userData.type === 's' && isEditing &&\n                <div id = 'datePickerProfile'>\n                  <DatePicker id = 'datePickerProfileInside' className = 'datePicker' value = {formatDateToRu(userEditedData.birthday)}\n                      selected = {userEditedData.birthday} onChange = {date => setBirthday(date)}\n                              placeholderText = 'Дата рождения'\n                              locale = 'ru' dateFormat=\"dd/MM/yyyy\" />\n                </div> }\n\n            {userData.type === 's' && isEditing &&\n            <div className = 'gradeAndLetter' id = 'gradeAndLetter'>\n              <select name='grade' value = {userEditedData.grade} onChange={e => handleEditing(e)}>\n                <option value = '' disabled>Класс</option>\n                <option value = '1'>1</option>\n                <option value = '2'>2</option>\n                <option value = '3'>3</option>\n                <option value = '4'>4</option>\n                <option value = '5'>5</option>\n                <option value = '6'>6</option>\n                <option value = '7'>7</option>\n                <option value = '8'>8</option>\n                <option value = '9'>9</option>\n                <option value = '10'>10</option>\n                <option value = '11'>11</option>\n              </select>\n              <div></div>\n              <select id = 'letter' name='letter' value = {userEditedData.letter} onChange={e => handleEditing(e)}>\n                <option value = '' disabled>Буква</option>\n                <option value = 'А'>А</option>\n                <option value = 'Б'>Б</option>\n                <option value = 'В'>В</option>\n                <option value = 'Г'>Г</option>\n                <option value = 'Д'>Д</option>\n              </select>\n            </div>\n            }\n\n            {\n              isEditing &&\n\n              <div id = 'saveAndCancelEditing'>\n\n                <svg id = 'cancelIcon' onClick = {e => cancelEditing(e)} width=\"35px\" height=\"35px\" viewBox=\"0 0 300 300\" version=\"1.1\">\n                  <g fill=\"#E88732\"  id=\"Logo\" stroke=\"none\" stroke-width=\"1\" fill-rule=\"evenodd\">\n                  <path d=\"M231.885822,72.3223305 C241.64893,82.0854378 241.64893,97.9145622 231.885822,107.67767 L184.959,154.604 L222.885822,192.530483 C232.64893,202.293591 232.64893,218.122715 222.885822,227.885822 C213.122715,237.64893 197.293591,237.64893 187.530483,227.885822 L149.604,189.959 L111.67767,227.885822 C101.914562,237.64893 86.0854378,237.64893 76.3223305,227.885822 C66.5592232,218.122715 66.5592232,202.293591 76.3223305,192.530483 L114.249,154.604 L67.3223305,107.67767 C57.5592232,97.9145622 57.5592232,82.0854378 67.3223305,72.3223305 C77.0854378,62.5592232 92.9145622,62.5592232 102.67767,72.3223305 L149.604,119.249 L196.530483,72.3223305 C206.293591,62.5592232 222.122715,62.5592232 231.885822,72.3223305 Z\" id=\"Combined-Shape\"></path>\n                  </g>\n                </svg>\n\n                <svg id = 'saveIcon' onClick = {e => saveEditedData(e)} width=\"30px\" height=\"30px\" viewBox=\"0 0 300 300\" version=\"1.1\">\n                  <g id=\"Logo\" fill=\"#E0E7B4\" stroke=\"none\" stroke-width=\"1\" fill-rule=\"evenodd\">\n                    <path d=\"M274.847645,60.3120342 L279.170453,64.6298082 C288.939247,74.3872257 288.948469,90.2163475 279.191052,99.9851413 C279.18419,99.9920115 279.177324,99.9988777 279.170453,100.00574 L151.781477,227.246365 C146.461489,232.560158 139.343499,234.977726 132.387469,234.499068 C125.431382,234.977957 118.312965,232.560413 112.992721,227.246365 L21.3326328,135.693019 C11.563839,125.935602 11.5546167,110.10648 21.3120342,100.337686 L21.3326328,100.317087 L21.3326328,100.317087 L25.655441,95.9993134 C35.4161868,86.2499345 51.2294296,86.2499345 60.9901754,95.9993134 L132.387,167.312 L239.512911,60.3120342 C249.273657,50.5626553 265.086899,50.5626553 274.847645,60.3120342 Z\" id=\"Combined-Shape\"></path>\n                  </g>\n                </svg>\n\n              </div>\n            }\n\n          </div>\n        </div>\n\n        {results.length != 0 &&\n        <div className = 'searchAndSort'>\n          <input type = 'text' id = 'search'\n                 className = {  isSearching === 'active' && 'searchAppearing' ||\n                 isSearching === 'inactive' && 'searchDisappearing' ||\n                 isSearching === 'none' && 'invisible'}\n                 placeholder = 'Поиск по результатам' onChange = {doSearch}/>\n\n          <SearchIcon handleSearchActivating = {handleSearchActivating}/>\n          <SortIcon onClick = {e => doSort(e)} />\n\n        </div>\n        }\n\n        <div id = 'resultsCollection' className = 'results'>\n          {\n            notFound && <h1 className = 'notFound'>Ничего не найдено</h1> ||\n            !notFound && results[0] &&\n            results.map((result, index) => {\n              if ((result.test + result.scales).toLowerCase().includes(search))\n                return (\n                    <NavLink to={`/tests/${result.link}/${login}`} key={index} className='resultItem soft_appearing'>\n                      <p className='resultTestName'>{result.test}</p>\n                      <div className='shortResult'>\n                        {\n                          result.scales.map((res, i) => {\n                            return (\n                                <p>{res}</p>\n                            )\n                          })\n                        }\n                      </div>\n                    </NavLink>\n                )\n            })\n          }\n          {\n            !notFound && !results[0] &&\n            <h1 className = 'notFound'>Результатов пока нет</h1>\n        }\n        </div>\n\n      </div>\n  )\n\n\n}\n\nexport default Profile"]},"metadata":{},"sourceType":"module"}