{"ast":null,"code":"var _jsxFileName = \"/Users/alisakrylova/Intro/client/src/components/Profile.js\";\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport './Appearence/Profile.css';\nimport './Appearence/index.css';\nimport { AuthContext } from \"./Context/AuthContext\";\nimport { useHttp } from \"../Hooks/http.hook\";\nimport { NavLink } from \"react-router-dom\";\nexport const Profile = () => {\n  const {\n    loading,\n    request\n  } = useHttp();\n  const {\n    token,\n    userID,\n    name,\n    surname,\n    username,\n    userType\n  } = useContext(AuthContext);\n  const [results, setResults] = useState([]);\n  const [shown, setShown] = useState([0, 1]);\n  const [isSearching, activateSearching] = useState('none');\n  const [search, setSearch] = useState('');\n  const fetchResults = useCallback(async () => {\n    try {\n      const fetched = await request(`/results/${username}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      });\n      setResults(fetched);\n    } catch (e) {}\n  }, [token, userID]);\n\n  const handleSearchActivating = e => {\n    e.preventDefault();\n\n    switch (isSearching) {\n      case 'active':\n        activateSearching('inactive');\n        break;\n\n      case 'none':\n      case 'inactive':\n        activateSearching('active');\n        break;\n    }\n  };\n\n  const setSearchFilter = e => {\n    e.preventDefault();\n    let search = e.target.value.toString().toLowerCase();\n    setSearch(search);\n    if (search != '') doSearch();else showAll();\n  };\n\n  const doSearch = e => {\n    try {\n      if (search != '') {\n        let resultsArray = [];\n        results.map(result => {\n          let res = '';\n          result.result.map(r => {\n            res += r.scaleResult.toString();\n          });\n          resultsArray.push((result.test + res).toString().toLowerCase());\n        });\n        let indexes = [];\n        resultsArray.map((result, i) => {\n          if (resultsArray[i].toString().includes(search)) indexes.push(i);\n        });\n        if (indexes.length != 0) setShown([...indexes]);else showAll();\n      } else showAll();\n    } catch (e) {}\n  };\n\n  const showAll = () => {\n    let shownSize = [];\n\n    for (let i = 0; i < results.length; i++) {\n      shownSize.push(i);\n    }\n\n    setShown([...shownSize]);\n  };\n\n  useEffect(() => {\n    document.body.style = 'transition-duration: .7s; transition-timing-function: ease-in-out; background: white;';\n    fetchResults();\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profilePic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, \" \\uD83D\\uDC69\\uD83C\\uDFFB \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, name, \" \", surname, \" \"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, \"@\", username), userType === 'a' && /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, \"\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\"), userType === 'p' && /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"\\u041F\\u0435\\u0434\\u0430\\u0433\\u043E\\u0433-\\u043F\\u0441\\u0438\\u0445\\u043E\\u043B\\u043E\\u0433\"), userType === 'u' && /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, \"\\u0423\\u0447\\u0435\\u043D\\u0438\\u043A\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchAndSort\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"search\",\n    className: isSearching === 'active' && 'searchAppearing' || isSearching === 'inactive' && 'searchDisappearing' || isSearching === 'none' && 'invisible',\n    placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u0430\\u043C\",\n    onChange: setSearchFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"searchIcon\",\n    width: \"250px\",\n    height: \"277px\",\n    viewBox: \"0 0 250 277\",\n    version: \"1.1\",\n    onClick: handleSearchActivating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logo\",\n    stroke: \"none\",\n    \"stroke-width\": \"1\",\n    fill: \"none\",\n    \"fill-rule\": \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    className: isSearching === 'active' && 'activeStroke activeFill' || isSearching === 'inactive' && 'inactiveStroke inactiveFill' || isSearching === 'none' && 'inactiveStroke inactiveFill',\n    d: \"M256.23536,245.633373 C256.240323,245.854751 256.242819,246.076789 256.242819,246.299457 C256.242819,261.211145 245.049938,273.299457 231.242819,273.299457 C217.4357,273.299457 206.242819,261.211145 206.242819,246.299457 C206.242819,246.076789 206.245315,245.854751 206.250278,245.633373 Z\",\n    id: \"Combined-Shape\",\n    transform: \"translate(231.242819, 259.466415) rotate(-40.000000) translate(-231.242819, -259.466415) \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Rectangle\",\n    className: isSearching === 'active' && 'activeStroke activeFill' || isSearching === 'inactive' && 'inactiveStroke inactiveFill' || isSearching === 'none' && 'inactiveStroke inactiveFill',\n    transform: \"translate(199.856726, 222.096267) rotate(-40.000000) translate(-199.856726, -222.096267) \",\n    x: \"174.856726\",\n    y: \"186.596267\",\n    width: \"50\",\n    height: \"71\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    id: \"Oval\",\n    className: isSearching === 'active' && 'activeStroke' || isSearching === 'inactive' && 'inactiveStroke' || isSearching === 'none' && 'inactiveStroke',\n    \"stroke-width\": \"50\",\n    cx: \"125\",\n    cy: \"125\",\n    r: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"380px\",\n    height: \"282px\",\n    viewBox: \"0 0 380 282\",\n    version: \"1.1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logo\",\n    stroke: \"none\",\n    \"stroke-width\": \"1\",\n    fill: \"none\",\n    \"fill-rule\": \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M97.5389392,1 C108.237237,1 117.558758,5.86052589 122.432757,13.0495599 L186.294586,89.1569764 L186.190432,89.2438149 C195.282489,100.638438 194.333773,116.700508 183.930647,125.429767 C173.353781,134.304812 157.009319,132.239273 147.424271,120.816257 C147.281143,120.645684 147.140331,120.473988 147.001834,120.301213 L147.093,120.224 L122.038,90.365 L122.038939,199 L122.03148,199 C122.036443,199.221378 122.038939,199.443416 122.038939,199.666084 C122.038939,214.577772 110.846058,226.666084 97.0389392,226.666084 C83.2318205,226.666084 72.0389392,214.577772 72.0389392,199.666084 C72.0389392,199.443416 72.041435,199.221378 72.0463979,199 L72.0389392,199 L72.038,90.942 L46.5143645,121.360535 L8.21214233,89.2211541 L75.0620537,9.55253206 L75.3266711,9.77465922 C80.5505851,4.42388506 88.559843,1 97.5389392,1 Z M8.12806882,89.1714212 L46.4188636,121.301213 C46.2803665,121.473988 46.1395549,121.645684 45.9964268,121.816257 C36.4113784,133.239273 20.0669169,135.304812 9.49005029,126.429767 C-1.0868163,117.554722 -1.89084377,101.099893 7.69420467,89.6768766 C7.83733276,89.5063032 7.98196805,89.3378163 8.12806882,89.1714212 Z\",\n    id: \"Combined-Shape\",\n    stroke: \"#4A4A4A\",\n    fill: \"#4A4A4A\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M284.538939,55 C295.237237,55 304.558758,59.8605259 309.432757,67.0495599 L373.294586,143.156976 L373.190432,143.243815 C382.282489,154.638438 381.333773,170.700508 370.930647,179.429767 C360.353781,188.304812 344.009319,186.239273 334.424271,174.816257 C334.281143,174.645684 334.140331,174.473988 334.001834,174.301213 L334.093,174.224 L309.038,144.365 L309.038939,253 L309.03148,253 C309.036443,253.221378 309.038939,253.443416 309.038939,253.666084 C309.038939,268.577772 297.846058,280.666084 284.038939,280.666084 C270.23182,280.666084 259.038939,268.577772 259.038939,253.666084 C259.038939,253.443416 259.041435,253.221378 259.046398,253 L259.038939,253 L259.038,144.942 L233.514364,175.360535 L195.212142,143.221154 L262.062054,63.5525321 L262.326671,63.7746592 C267.550585,58.4238851 275.559843,55 284.538939,55 Z M195.128069,143.171421 L233.418864,175.301213 C233.280366,175.473988 233.139555,175.645684 232.996427,175.816257 C223.411378,187.239273 207.066917,189.304812 196.49005,180.429767 C185.913184,171.554722 185.109156,155.099893 194.694205,143.676877 C194.837333,143.506303 194.981968,143.337816 195.128069,143.171421 Z\",\n    id: \"Combined-Shape-Copy-10\",\n    stroke: \"#4A4A4A\",\n    fill: \"#4A4A4A\",\n    transform: \"translate(283.710349, 167.833042) rotate(180.000000) translate(-283.710349, -167.833042) \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"resultsCollection\",\n    className: \"results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, results.map((result, index) => {\n    if (shown.includes(index)) {\n      return /*#__PURE__*/React.createElement(NavLink, {\n        to: '/',\n        key: index,\n        className: \"resultItem soft_appearing\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"resultTestName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 23\n        }\n      }, result.test), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"shortResult\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 23\n        }\n      }, result.result.map((result, i) => {\n        return /*#__PURE__*/React.createElement(\"p\", {\n          key: i,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 37\n          }\n        }, result.scaleResult);\n      })));\n    }\n  })));\n};\nexport default Profile;","map":{"version":3,"sources":["/Users/alisakrylova/Intro/client/src/components/Profile.js"],"names":["React","useCallback","useContext","useEffect","useState","AuthContext","useHttp","NavLink","Profile","loading","request","token","userID","name","surname","username","userType","results","setResults","shown","setShown","isSearching","activateSearching","search","setSearch","fetchResults","fetched","Authorization","e","handleSearchActivating","preventDefault","setSearchFilter","target","value","toString","toLowerCase","doSearch","showAll","resultsArray","map","result","res","r","scaleResult","push","test","indexes","i","includes","length","shownSize","document","body","style","index"],"mappings":"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","sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport './Appearence/Profile.css'\nimport './Appearence/index.css'\nimport {AuthContext} from \"./Context/AuthContext\"\nimport {useHttp} from \"../Hooks/http.hook\";\nimport {NavLink} from \"react-router-dom\";\n\nexport const Profile = () => {\n\n  const {loading, request} = useHttp();\n\n  const {token, userID, name, surname, username, userType} = useContext(AuthContext)\n  const [results, setResults] = useState([])\n  const [shown, setShown] = useState([0, 1])\n  const [isSearching, activateSearching] = useState('none')\n  const [search, setSearch] = useState('')\n\n  const fetchResults = useCallback(async () => {\n    try {\n      const fetched = await request(`/results/${username}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      })\n      setResults(fetched)\n    }\n    catch (e) {}\n  }, [token, userID])\n\n\n  const handleSearchActivating = e => {\n    e.preventDefault()\n    switch (isSearching){\n      case 'active':\n        activateSearching('inactive');\n        break\n      case 'none':\n      case 'inactive':\n        activateSearching('active');\n        break\n    }\n  }\n\n  const setSearchFilter = e => {\n    e.preventDefault()\n    let search = e.target.value.toString().toLowerCase()\n    setSearch(search)\n    if (search != '')\n      doSearch()\n    else showAll()\n\n  }\n\n  const doSearch = e => {\n    try {\n      if (search != '') {\n        let resultsArray = []\n        results.map(result => {\n          let res = ''\n          result.result.map(r => {\n            res += r.scaleResult.toString()\n          })\n          resultsArray.push((result.test + res).toString().toLowerCase())\n        })\n\n        let indexes = []\n        resultsArray.map((result, i) => {\n          if (resultsArray[i].toString().includes(search))\n            indexes.push(i)\n        })\n\n        if (indexes.length != 0)\n          setShown([...indexes])\n        else showAll()\n      }\n      else showAll()\n    }\n    catch (e) {}\n  }\n\n  const showAll = () => {\n    let shownSize = []\n    for (let i = 0; i < results.length; i++){\n      shownSize.push(i)\n    }\n   setShown([...shownSize])\n  }\n\n  useEffect(() => {\n    document.body.style = 'transition-duration: .7s; transition-timing-function: ease-in-out; background: white;'\n    fetchResults()\n  })\n\n    return (\n      <div>\n        <div className = 'profileContainer'>\n          <div className = 'profilePic'> 👩🏻 </div>\n          <div className = 'profileHeader'>\n            <h1>{name} {surname} </h1>\n            <h2>@{username}</h2>\n\n            {userType === 'a' &&\n              <h2>Администратор</h2>}\n            {userType === 'p' &&\n              <h2>Педагог-психолог</h2>}\n            {userType === 'u' &&\n              <h2>Ученик</h2>}\n\n          </div>\n        </div>\n\n        <div className = 'searchAndSort'>\n\n            <input type = 'text' id = 'search'\n                   className = {  isSearching === 'active' && 'searchAppearing' ||\n                                  isSearching === 'inactive' && 'searchDisappearing' ||\n                                  isSearching === 'none' && 'invisible'}\n                   placeholder = 'Поиск по результатам' onChange = {setSearchFilter}/>\n\n          <svg className = 'searchIcon' width=\"250px\" height=\"277px\" viewBox=\"0 0 250 277\" version=\"1.1\" onClick = {handleSearchActivating}>\n            <g id=\"Logo\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n              {/*<path d=\"M256.23536,245.633373 C256.240323,245.854751 256.242819,246.076789 256.242819,246.299457 C256.242819,261.211145 245.049938,273.299457 231.242819,273.299457 C217.4357,273.299457 206.242819,261.211145 206.242819,246.299457 C206.242819,246.076789 206.245315,245.854751 206.250278,245.633373 Z\" id=\"Combined-Shape\" stroke=\"#4A4A4A\" fill=\"#4A4A4A\" transform=\"translate(231.242819, 259.466415) rotate(-40.000000) translate(-231.242819, -259.466415) \"></path>*/}\n              {/*<rect id=\"Rectangle\" stroke=\"#4A4A4A\" fill=\"#4A4A4A\" transform=\"translate(199.856726, 222.096267) rotate(-40.000000) translate(-199.856726, -222.096267) \" x=\"174.856726\" y=\"186.596267\" width=\"50\" height=\"71\"></rect>*/}\n              {/*<circle id=\"Oval\" stroke=\"#4A4A4A\" stroke-width=\"50\" cx=\"125\" cy=\"125\" r=\"100\"></circle>*/}\n              <path className = {   isSearching === 'active' && 'activeStroke activeFill' ||\n                                    isSearching === 'inactive' && 'inactiveStroke inactiveFill' ||\n                                    isSearching === 'none' && 'inactiveStroke inactiveFill'}\n                   d=\"M256.23536,245.633373 C256.240323,245.854751 256.242819,246.076789 256.242819,246.299457 C256.242819,261.211145 245.049938,273.299457 231.242819,273.299457 C217.4357,273.299457 206.242819,261.211145 206.242819,246.299457 C206.242819,246.076789 206.245315,245.854751 206.250278,245.633373 Z\" id=\"Combined-Shape\" transform=\"translate(231.242819, 259.466415) rotate(-40.000000) translate(-231.242819, -259.466415) \"></path>\n              <rect id=\"Rectangle\"\n                    className = {   isSearching === 'active' && 'activeStroke activeFill' ||\n                                    isSearching === 'inactive' && 'inactiveStroke inactiveFill' ||\n                                    isSearching === 'none' && 'inactiveStroke inactiveFill'}\n                    transform=\"translate(199.856726, 222.096267) rotate(-40.000000) translate(-199.856726, -222.096267) \" x=\"174.856726\" y=\"186.596267\" width=\"50\" height=\"71\"></rect>\n              <circle id=\"Oval\"\n                      className = {   isSearching === 'active' && 'activeStroke' ||\n                                      isSearching === 'inactive' && 'inactiveStroke' ||\n                                      isSearching === 'none' && 'inactiveStroke'}\n                      stroke-width=\"50\" cx=\"125\" cy=\"125\" r=\"100\"></circle>\n            </g>\n          </svg>\n\n\n\n          <svg width=\"380px\" height=\"282px\" viewBox=\"0 0 380 282\" version=\"1.1\">\n            <g id=\"Logo\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n              <path d=\"M97.5389392,1 C108.237237,1 117.558758,5.86052589 122.432757,13.0495599 L186.294586,89.1569764 L186.190432,89.2438149 C195.282489,100.638438 194.333773,116.700508 183.930647,125.429767 C173.353781,134.304812 157.009319,132.239273 147.424271,120.816257 C147.281143,120.645684 147.140331,120.473988 147.001834,120.301213 L147.093,120.224 L122.038,90.365 L122.038939,199 L122.03148,199 C122.036443,199.221378 122.038939,199.443416 122.038939,199.666084 C122.038939,214.577772 110.846058,226.666084 97.0389392,226.666084 C83.2318205,226.666084 72.0389392,214.577772 72.0389392,199.666084 C72.0389392,199.443416 72.041435,199.221378 72.0463979,199 L72.0389392,199 L72.038,90.942 L46.5143645,121.360535 L8.21214233,89.2211541 L75.0620537,9.55253206 L75.3266711,9.77465922 C80.5505851,4.42388506 88.559843,1 97.5389392,1 Z M8.12806882,89.1714212 L46.4188636,121.301213 C46.2803665,121.473988 46.1395549,121.645684 45.9964268,121.816257 C36.4113784,133.239273 20.0669169,135.304812 9.49005029,126.429767 C-1.0868163,117.554722 -1.89084377,101.099893 7.69420467,89.6768766 C7.83733276,89.5063032 7.98196805,89.3378163 8.12806882,89.1714212 Z\" id=\"Combined-Shape\" stroke=\"#4A4A4A\" fill=\"#4A4A4A\"></path>\n              <path d=\"M284.538939,55 C295.237237,55 304.558758,59.8605259 309.432757,67.0495599 L373.294586,143.156976 L373.190432,143.243815 C382.282489,154.638438 381.333773,170.700508 370.930647,179.429767 C360.353781,188.304812 344.009319,186.239273 334.424271,174.816257 C334.281143,174.645684 334.140331,174.473988 334.001834,174.301213 L334.093,174.224 L309.038,144.365 L309.038939,253 L309.03148,253 C309.036443,253.221378 309.038939,253.443416 309.038939,253.666084 C309.038939,268.577772 297.846058,280.666084 284.038939,280.666084 C270.23182,280.666084 259.038939,268.577772 259.038939,253.666084 C259.038939,253.443416 259.041435,253.221378 259.046398,253 L259.038939,253 L259.038,144.942 L233.514364,175.360535 L195.212142,143.221154 L262.062054,63.5525321 L262.326671,63.7746592 C267.550585,58.4238851 275.559843,55 284.538939,55 Z M195.128069,143.171421 L233.418864,175.301213 C233.280366,175.473988 233.139555,175.645684 232.996427,175.816257 C223.411378,187.239273 207.066917,189.304812 196.49005,180.429767 C185.913184,171.554722 185.109156,155.099893 194.694205,143.676877 C194.837333,143.506303 194.981968,143.337816 195.128069,143.171421 Z\" id=\"Combined-Shape-Copy-10\" stroke=\"#4A4A4A\" fill=\"#4A4A4A\" transform=\"translate(283.710349, 167.833042) rotate(180.000000) translate(-283.710349, -167.833042) \"></path>\n            </g>\n          </svg>\n        </div>\n\n        <div id = 'resultsCollection' className = 'results'>\n          {\n            results.map((result, index) => {\n              if (shown.includes(index)){\n                return (\n                    <NavLink to={'/'} key={index} className='resultItem soft_appearing'>\n                      <p className='resultTestName'>{result.test}</p>\n                      <div className='shortResult'>\n                        {\n                          result.result.map((result, i) => {\n                                return (\n                                    <p key={i}>{result.scaleResult}</p>\n                                )\n                              }\n                          )}\n                      </div>\n                    </NavLink>\n                )}\n            })\n          }\n        </div>\n\n      </div>\n    )\n\n\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}