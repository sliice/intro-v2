{"ast":null,"code":"var _jsxFileName = \"/Users/alisakrylova/Intro/client/src/components/ResultPage.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport './Appearence/index.css';\nimport { useHttp } from \"../Hooks/http.hook\";\nimport { useAuth } from \"../Hooks/auth.hook\";\nimport { AuthContext } from \"./Context/AuthContext\";\nexport const ResultPage = () => {\n  const login = useParams().id;\n  const link = useParams().link;\n  const {\n    request\n  } = useHttp();\n  const {\n    token\n  } = useContext(AuthContext);\n  const [result, setResult] = useState([]);\n  const [test, setTest] = useState('');\n\n  const fetchResult = async () => {\n    const fetched = await request(`/api/tests/${link}/${login}`, 'GET', null, {\n      Authorization: `Bearer ${token}`\n    });\n    setTest(fetched.test);\n    setResult(fetched.scales);\n  };\n\n  const handleFetchingResults = async e => {\n    e.preventDefault();\n    await fetchResult();\n  };\n\n  useEffect(() => {\n    if (!test) fetchResult();\n  }, [test]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, test), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"\\u0417\\u0430\\u0432\\u044B\\u0448\\u0435\\u043D\\u043D\\u044B\\u0435 \\u043F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u0435\\u043B\\u0438\"), result.map((res, i) => {\n    if (res.important) return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 29\n      }\n    }, res.intervalName), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 29\n      }\n    }, \"\\u0412\\u0430\\u0448\\u0438 \\u0431\\u0430\\u043B\\u043B\\u044B: \", res.points, \" / \", res.maxPoints), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 29\n      }\n    }, res.intervalDescription));\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"\\u041D\\u043E\\u0440\\u043C\\u0430\"), result.map((res, i) => {\n    if (!res.important) return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 33\n      }\n    }, res.intervalName), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 33\n      }\n    }, \"\\u0412\\u0430\\u0448\\u0438 \\u0431\\u0430\\u043B\\u043B\\u044B: \", res.points, \" / \", res.maxPoints), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 33\n      }\n    }, res.intervalDescription));\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    onClick: e => handleFetchingResults(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }));\n};\nexport default ResultPage;","map":{"version":3,"sources":["/Users/alisakrylova/Intro/client/src/components/ResultPage.js"],"names":["React","useContext","useEffect","useState","useParams","useHttp","useAuth","AuthContext","ResultPage","login","id","link","request","token","result","setResult","test","setTest","fetchResult","fetched","Authorization","scales","handleFetchingResults","e","preventDefault","map","res","i","important","intervalName","points","maxPoints","intervalDescription"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from \"react\"\nimport {useParams} from \"react-router-dom\";\nimport './Appearence/index.css'\nimport {useHttp} from \"../Hooks/http.hook\"\nimport {useAuth} from \"../Hooks/auth.hook\"\nimport {AuthContext} from \"./Context/AuthContext\"\n\nexport const ResultPage = () => {\n\n    const login = useParams().id\n    const link = useParams().link\n\n    const {request} = useHttp()\n    const {token} = useContext(AuthContext)\n\n    const [result, setResult] = useState([])\n    const [test, setTest] = useState('')\n\n    const fetchResult = async () => {\n        const fetched = await request(`/api/tests/${link}/${login}`, 'GET', null, {\n            Authorization: `Bearer ${token}`\n        })\n        setTest(fetched.test)\n        setResult(fetched.scales)\n    }\n\n    const handleFetchingResults = async (e) => {\n        e.preventDefault()\n        await fetchResult()\n    }\n\n    useEffect(() => {\n        if (!test)\n            fetchResult()\n    }, [test])\n\n    return(\n        <div>\n            <h1>{test}</h1>\n            <h2>Завышенные показатели</h2>\n            {\n                result.map((res, i) => {\n                    if (res.important)\n                    return (\n                        <div>\n                            <p>{res.intervalName}</p>\n                            <p>Ваши баллы: {res.points} / {res.maxPoints}</p>\n                            <p>{res.intervalDescription}</p>\n                        </div>\n                    )\n                })\n            }\n            <h2>Норма</h2>\n            {\n                result.map((res, i) => {\n                    if (!res.important)\n                        return (\n                            <div>\n                                <p>{res.intervalName}</p>\n                                <p>Ваши баллы: {res.points} / {res.maxPoints}</p>\n                                <p>{res.intervalDescription}</p>\n                            </div>\n                        )\n                })\n            }\n            <input type = 'button' onClick = {e => handleFetchingResults(e)}/>\n        </div>\n    )\n}\n\nexport default ResultPage"]},"metadata":{},"sourceType":"module"}