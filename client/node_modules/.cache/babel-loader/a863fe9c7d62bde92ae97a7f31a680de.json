{"ast":null,"code":"var _jsxFileName = \"/Users/alisakrylova/Intro/client/src/components/Profile.js\";\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport './Appearence/Profile.css';\nimport './Appearence/index.css';\nimport './Appearence/DatePicker.css';\nimport { AuthContext } from \"./Context/AuthContext\";\nimport { useHttp } from \"../Hooks/http.hook\";\nimport { NavLink } from \"react-router-dom\";\nimport { Emoji } from \"./Context/Emoji\";\nimport { RegExps } from \"./Context/RegExps\";\nimport DatePicker from \"react-datepicker/es\";\nimport { registerLocale } from \"react-datepicker\";\nexport const Profile = () => {\n  const months = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'];\n  const days = ['вс', 'пн', 'вт', 'ср', 'чт', 'пт', 'сб'];\n  registerLocale('ru', {\n    localize: {\n      month: i => months[i],\n      day: i => days[i]\n    },\n    formatLong: {}\n  });\n  let username = useParams().id;\n  const {\n    loading,\n    request\n  } = useHttp(); // const {token, userID, name, surname, username, userType} = useContext(AuthContext)\n\n  const {\n    token,\n    userID\n  } = useContext(AuthContext);\n  const {\n    emojis,\n    emojiToString\n  } = useContext(Emoji);\n  const [results, setResults] = useState([]);\n  const [shown, setShown] = useState([]);\n  const [isSearching, activateSearching] = useState('none');\n  const [isEditing, activateEditing] = useState(false);\n  const [isChoosingEmoji, activateChoosingEmoji] = useState(false);\n  const [search, setSearch] = useState('');\n  const [notFound, setNotFound] = useState();\n  const [sorted, setSorted] = useState(false);\n  const [resultsFetched, setResultsFetched] = useState(false);\n  const [userDataFetched, setUserDataFetched] = useState(false);\n  const {\n    cyrillicsRegExp,\n    loginRegExp,\n    passwordRegExp\n  } = useContext(RegExps);\n  const [errors, setErrors] = useState({\n    name: '',\n    surname: '',\n    login: '',\n    password: ''\n  });\n  const [userData, setUserData] = useState({\n    name: '',\n    surname: '',\n    login: '',\n    type: '',\n    pic: '',\n    birthdate: '',\n    grade: '',\n    letter: ''\n  });\n  const [userEditedData, setUserEditedData] = useState({\n    name: '',\n    surname: '',\n    login: '',\n    pic: '',\n    birthdate: '',\n    password: ''\n  });\n\n  const showAll = () => {\n    let shownSize = [];\n\n    for (let i = 0; i < results.length; i++) {\n      shownSize.push(i);\n    }\n\n    setShown([...shownSize]);\n  };\n\n  const fetchUserData = useCallback(async () => {\n    try {\n      const fetched = await request(`/users/get/${username}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      });\n      setUserData(fetched);\n      setUserEditedData(fetched);\n      setUserDataFetched(true);\n    } catch (e) {}\n  }, [token, username]);\n  const fetchResults = useCallback(async () => {\n    try {\n      const fetched = await request(`/results/${username}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      });\n      fetched.sort((a, b) => a.result[0].date > b.result[0].date ? 1 : -1);\n      setResults(fetched);\n      setResultsFetched(true);\n    } catch (e) {}\n  }, [token, userID, username]);\n\n  const handleSearchActivating = e => {\n    e.preventDefault();\n\n    switch (isSearching) {\n      case 'active':\n        activateSearching('inactive');\n        break;\n\n      case 'none':\n      case 'inactive':\n        activateSearching('active');\n        document.getElementById('search').focus();\n        break;\n    }\n  };\n\n  const doSearch = e => {\n    e.preventDefault();\n\n    try {\n      let searchFilter = e.target.value.toString().toLowerCase();\n      setSearch(searchFilter);\n      setNotFound(false);\n\n      if (searchFilter != '') {\n        let resultsArray = [];\n        results.map(result => {\n          let res = '';\n          result.result.map(r => {\n            res += r.scaleResult.toString();\n          });\n          resultsArray.push((result.test + res).toString().toLowerCase());\n        });\n        let indexes = [];\n        resultsArray.map((result, i) => {\n          if (resultsArray[i].toString().includes(searchFilter)) indexes.push(i);\n        });\n\n        if (indexes.length != 0) {\n          setShown([...indexes]);\n          setNotFound(false);\n        } else setNotFound(true);\n      } else showAll();\n    } catch (e) {}\n  };\n\n  const doSort = e => {\n    e.preventDefault();\n\n    try {\n      switch (sorted) {\n        case true:\n          document.getElementById('sortIcon').style = 'transform: rotate(360deg);';\n          document.getElementById('resultsCollection').style = 'flex-direction: column;';\n          setSorted(false);\n          break;\n\n        case false:\n          document.getElementById('sortIcon').style = 'transform: rotate(180deg);';\n          document.getElementById('resultsCollection').style = 'flex-direction: column-reverse;';\n          setSorted(true);\n          break;\n      }\n    } catch (e) {}\n  };\n\n  const handleEditActivating = e => {\n    e.preventDefault();\n    activateEditing(!isEditing);\n  };\n\n  const handleEditing = e => {\n    e.preventDefault();\n    setUserEditedData({ ...userEditedData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const setBirthdate = date => {\n    setUserEditedData({ ...userEditedData,\n      birthdate: date\n    });\n  };\n\n  const handleChooseEmojiActivating = e => {\n    e.preventDefault();\n    activateChoosingEmoji(!isChoosingEmoji);\n  };\n\n  const setUserPic = e => {\n    e.preventDefault();\n    setUserEditedData({ ...userEditedData,\n      pic: emojis[e.target.id.slice(1)]\n    });\n  };\n\n  const checkFields = e => {\n    e.preventDefault();\n\n    try {\n      let name = '',\n          surname = '',\n          login = '',\n          password = '';\n\n      if (!userEditedData.name) {\n        name = 'Заполните это поле';\n        showError(true, 'name', 'errorName');\n      } else if (!cyrillicsRegExp.test(userEditedData.name)) {\n        name = 'Допустима только из кириллица';\n        showError(true, 'name', 'errorName');\n      }\n\n      if (!userEditedData.surname) {\n        surname = 'Заполните это поле';\n        showError(true, 'surname', 'errorSurname');\n      } else if (!cyrillicsRegExp.test(userEditedData.surname)) {\n        surname = 'Допустима только из кириллица';\n        showError(true, 'surname', 'errorSurname');\n      }\n\n      if (!userEditedData.login) {\n        login = 'Заполните это поле';\n        showError(true, 'loginOnProfile', 'errorLoginOnProfile');\n      } else if (!loginRegExp.test(userEditedData.login)) {\n        login = 'Допустимы только a-z, цифры, точка и пробел';\n        showError(true, 'loginOnProfile', 'errorLoginOnProfile');\n      }\n\n      if (userEditedData.password && !passwordRegExp.test(userEditedData.password)) {\n        if (userEditedData.password.length < 6 || userEditedData.password.length > 20) password = 'Пароль должен содержать от 6 до 20 символов';else password = 'Допустимы только A-z, цифры, точка и пробел';\n        showError(true, 'password', 'errorPassword');\n      }\n\n      !name && showError(false, 'name', 'errorName');\n      !surname && showError(false, 'surname', 'errorSurname');\n      !login && showError(false, 'loginOnProfile', 'errorLoginOnProfile');\n      !password && showError(false, 'password', 'errorPassword');\n      setErrors({\n        name,\n        surname,\n        login,\n        password\n      });\n      if (!name && !surname && !login && !password) return true;else return false;\n    } catch (e) {}\n  };\n\n  const showError = async (show, inputID, errorID) => {\n    // if show is true => show errors\n    try {\n      if (show) {\n        document.getElementById(inputID).style.borderBottomColor = '#E88732';\n        document.getElementById(errorID).className = 'error soft_appearing';\n        document.getElementById(errorID).style.display = 'inline-block';\n      } // if false => hide errors\n      else document.getElementById(inputID).style.borderBottomColor = '#E0E7B4';\n    } catch (e) {}\n  };\n\n  const saveEditedData = async e => {\n    e.persist();\n\n    try {\n      if (checkFields(e)) {\n        const data = await request('/users/edit', 'POST', { ...userEditedData,\n          oldLogin: userData.login\n        });\n        console.log(data.message);\n        setUserData(userEditedData);\n        handleEditActivating(e);\n      }\n    } catch (e) {}\n  };\n\n  const cancelEditing = e => {\n    e.preventDefault();\n    setUserEditedData(userData);\n    handleEditActivating(e);\n  };\n\n  useEffect(() => {\n    document.body.style = 'transition-duration: .7s; transition-timing-function: ease-in-out; background: white;'; //   // !resultsFetched && username !== userData.login && fetchResults()\n    //   // !userDataFetched && username !== userData.login && fetchUserData()\n\n    const d = new Date('2010-08-05');\n    const ye = new Intl.DateTimeFormat('en', {\n      year: 'numeric'\n    }).format(d);\n    const mo = new Intl.DateTimeFormat('en', {\n      month: 'short'\n    }).format(d);\n    const da = new Intl.DateTimeFormat('en', {\n      day: '2-digit'\n    }).format(d);\n    console.log(ye, mo, da);\n    fetchUserData();\n    fetchResults();\n    if (shown.length == 0) showAll();\n  }, [resultsFetched, userDataFetched, username]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 9\n    }\n  }, !isEditing && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profilePic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 13\n    }\n  }, \" \", emojiToString(userData.pic), \" \"), isEditing && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileEditingPic\",\n    onClick: e => handleChooseEmojiActivating(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 13\n    }\n  }, \" \", emojiToString(userEditedData.pic), \" \"), isChoosingEmoji && isEditing && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"emojiContainerOnProfile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileEditingPic\",\n    onClick: e => handleChooseEmojiActivating(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 15\n    }\n  }, \" \", emojiToString(userEditedData.pic), \" \"), emojis.map((emoji, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"addingStudentEmoji\",\n      onClick: e => setUserPic(e),\n      key: i,\n      id: 'e' + i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 23\n      }\n    }, emojiToString(emoji));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profileHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 11\n    }\n  }, !isEditing && /*#__PURE__*/React.createElement(\"svg\", {\n    id: \"editIcon\",\n    width: \"30px\",\n    height: \"30px\",\n    viewBox: \"0 0 240 240\",\n    version: \"1.1\",\n    onClick: e => handleEditActivating(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logo\",\n    stroke: \"none\",\n    \"stroke-width\": \"1\",\n    \"fill-rule\": \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.6776695,185.870058 L53.0330086,221.225397 L7.10542736e-13,238.903066 L17.6776695,185.870058 Z M173.428273,31.119 L208.783273,66.474 L123.053824,152.204581 L66.4852814,208.773124 L31.1299423,173.417785 L173.428273,31.119 Z M232.580736,7.32233047 C242.343843,17.0854378 242.343843,32.9145622 232.580736,42.6776695 L222.926273,52.332 L187.571273,16.977 L197.225397,7.32233047 C206.988504,-2.44077682 222.817629,-2.44077682 232.580736,7.32233047 Z\",\n    id: \"Combined-Shape\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 19\n    }\n  }))), !isEditing && /*#__PURE__*/React.createElement(\"h1\", {\n    id: \"fio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 13\n    }\n  }, userData.name, \" \", userData.surname), !isEditing && /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"loginOnProfile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 13\n    }\n  }, userData.login), isEditing && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    name: \"name\",\n    className: \"enabledInput\",\n    onChange: e => handleEditing(e),\n    value: userEditedData.name,\n    placeholder: \"\\u0418\\u043C\\u044F\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 13\n    }\n  }), isEditing && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    id: \"errorName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 13\n    }\n  }, errors.name), isEditing && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"surname\",\n    name: \"surname\",\n    className: \"enabledInput\",\n    onChange: e => handleEditing(e),\n    value: userEditedData.surname,\n    placeholder: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 13\n    }\n  }), isEditing && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    id: \"errorSurname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }\n  }, errors.surname), isEditing && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"loginOnProfile\",\n    name: \"login\",\n    className: \"enabledInput\",\n    onChange: e => handleEditing(e),\n    value: userEditedData.login,\n    placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 13\n    }\n  }), isEditing && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    id: \"errorLoginOnProfile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 13\n    }\n  }, errors.login), isEditing && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"password\",\n    name: \"password\",\n    className: \"enabledInput\",\n    onChange: e => handleEditing(e),\n    value: userEditedData.password,\n    placeholder: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 13\n    }\n  }), isEditing && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    id: \"errorPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 13\n    }\n  }, errors.password), isEditing && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"password\",\n    name: \"password\",\n    className: \"enabledInput\",\n    onChange: e => handleEditing(e),\n    value: userEditedData.password,\n    placeholder: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 13\n    }\n  }), isEditing && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    id: \"errorPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 13\n    }\n  }, errors.password), userData.type === 'p' && /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 13\n    }\n  }, \"\\u041F\\u0435\\u0434\\u0430\\u0433\\u043E\\u0433-\\u043F\\u0441\\u0438\\u0445\\u043E\\u043B\\u043E\\u0433\"), userData.type === 's' && !isEditing && /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 29\n    }\n  }, userData.grade + userData.letter, \" \\u043A\\u043B\\u0430\\u0441\\u0441\")), userData.type === 's' && !isEditing && /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 13\n    }\n  }, \"\\u0414\\u0435\\u043D\\u044C \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F: \", userData.birthdate), userData.type === 's' && isEditing && /*#__PURE__*/React.createElement(DatePicker, {\n    id: \"birthdate\",\n    className: \"datePicker\",\n    selected: new Date(userEditedData.birthdate),\n    onChange: date => setBirthdate(date),\n    placeholderText: \"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\",\n    locale: \"ru\",\n    dateFormat: \"dd/MM/yyyy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 13\n    }\n  }), userData.type === 's' && isEditing && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gradeAndLetter\",\n    id: \"gradeAndLetter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"grade\",\n    value: userData.grade // onChange={e => changeHandler(e)}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 17\n    }\n  }, \"\\u041A\\u043B\\u0430\\u0441\\u0441\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 17\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 17\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 17\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 17\n    }\n  }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 17\n    }\n  }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 17\n    }\n  }, \"6\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 17\n    }\n  }, \"7\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 17\n    }\n  }, \"8\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 17\n    }\n  }, \"9\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 17\n    }\n  }, \"10\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"11\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 17\n    }\n  }, \"11\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    id: \"letter\",\n    name: \"letter\",\n    value: userData.letter // onChange={e => changeHandler(e)}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 17\n    }\n  }, \"\\u0411\\u0443\\u043A\\u0432\\u0430\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u0410\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 17\n    }\n  }, \"\\u0410\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u0411\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 17\n    }\n  }, \"\\u0411\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u0412\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 17\n    }\n  }, \"\\u0412\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u0413\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 17\n    }\n  }, \"\\u0413\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u0414\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 17\n    }\n  }, \"\\u0414\"))), isEditing && /*#__PURE__*/React.createElement(\"div\", {\n    id: \"saveAndCancelEditing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    id: \"cancelIcon\",\n    onClick: e => cancelEditing(e),\n    width: \"35px\",\n    height: \"35px\",\n    viewBox: \"0 0 300 300\",\n    version: \"1.1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#E88732\",\n    id: \"Logo\",\n    stroke: \"none\",\n    \"stroke-width\": \"1\",\n    \"fill-rule\": \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M231.885822,72.3223305 C241.64893,82.0854378 241.64893,97.9145622 231.885822,107.67767 L184.959,154.604 L222.885822,192.530483 C232.64893,202.293591 232.64893,218.122715 222.885822,227.885822 C213.122715,237.64893 197.293591,237.64893 187.530483,227.885822 L149.604,189.959 L111.67767,227.885822 C101.914562,237.64893 86.0854378,237.64893 76.3223305,227.885822 C66.5592232,218.122715 66.5592232,202.293591 76.3223305,192.530483 L114.249,154.604 L67.3223305,107.67767 C57.5592232,97.9145622 57.5592232,82.0854378 67.3223305,72.3223305 C77.0854378,62.5592232 92.9145622,62.5592232 102.67767,72.3223305 L149.604,119.249 L196.530483,72.3223305 C206.293591,62.5592232 222.122715,62.5592232 231.885822,72.3223305 Z\",\n    id: \"Combined-Shape\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"svg\", {\n    id: \"saveIcon\",\n    onClick: e => saveEditedData(e),\n    width: \"30px\",\n    height: \"30px\",\n    viewBox: \"0 0 300 300\",\n    version: \"1.1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logo\",\n    fill: \"#E0E7B4\",\n    stroke: \"none\",\n    \"stroke-width\": \"1\",\n    \"fill-rule\": \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M274.847645,60.3120342 L279.170453,64.6298082 C288.939247,74.3872257 288.948469,90.2163475 279.191052,99.9851413 C279.18419,99.9920115 279.177324,99.9988777 279.170453,100.00574 L151.781477,227.246365 C146.461489,232.560158 139.343499,234.977726 132.387469,234.499068 C125.431382,234.977957 118.312965,232.560413 112.992721,227.246365 L21.3326328,135.693019 C11.563839,125.935602 11.5546167,110.10648 21.3120342,100.337686 L21.3326328,100.317087 L21.3326328,100.317087 L25.655441,95.9993134 C35.4161868,86.2499345 51.2294296,86.2499345 60.9901754,95.9993134 L132.387,167.312 L239.512911,60.3120342 C249.273657,50.5626553 265.086899,50.5626553 274.847645,60.3120342 Z\",\n    id: \"Combined-Shape\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 21\n    }\n  })))))), results.length != 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchAndSort\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"search\",\n    className: isSearching === 'active' && 'searchAppearing' || isSearching === 'inactive' && 'searchDisappearing' || isSearching === 'none' && 'invisible',\n    placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u0430\\u043C\",\n    onChange: doSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"searchIcon\",\n    name: \"searchIcon\",\n    width: \"250px\",\n    height: \"277px\",\n    viewBox: \"0 0 250 277\",\n    version: \"1.1\",\n    onClick: handleSearchActivating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logo\",\n    stroke: \"none\",\n    \"stroke-width\": \"1\",\n    fill: \"none\",\n    \"fill-rule\": \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    className: isSearching === 'active' && 'activeStroke activeFill' || isSearching === 'inactive' && 'inactiveStroke inactiveFill' || isSearching === 'none' && 'inactiveStroke inactiveFill',\n    d: \"M256.23536,245.633373 C256.240323,245.854751 256.242819,246.076789 256.242819,246.299457 C256.242819,261.211145 245.049938,273.299457 231.242819,273.299457 C217.4357,273.299457 206.242819,261.211145 206.242819,246.299457 C206.242819,246.076789 206.245315,245.854751 206.250278,245.633373 Z\",\n    id: \"Combined-Shape\",\n    transform: \"translate(231.242819, 259.466415) rotate(-40.000000) translate(-231.242819, -259.466415) \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Rectangle\",\n    className: isSearching === 'active' && 'activeStroke activeFill' || isSearching === 'inactive' && 'inactiveStroke inactiveFill' || isSearching === 'none' && 'inactiveStroke inactiveFill',\n    transform: \"translate(199.856726, 222.096267) rotate(-40.000000) translate(-199.856726, -222.096267) \",\n    x: \"174.856726\",\n    y: \"186.596267\",\n    width: \"50\",\n    height: \"71\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    id: \"Oval\",\n    className: isSearching === 'active' && 'activeStroke' || isSearching === 'inactive' && 'inactiveStroke' || isSearching === 'none' && 'inactiveStroke',\n    \"stroke-width\": \"50\",\n    cx: \"125\",\n    cy: \"125\",\n    r: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"sortIcon\",\n    id: \"sortIcon\",\n    onClick: doSort,\n    width: \"378px\",\n    height: \"282px\",\n    viewBox: \"0 0 378 282\",\n    version: \"1.1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logo\",\n    stroke: \"none\",\n    \"stroke-width\": \"1\",\n    fill: \"none\",\n    \"fill-rule\": \"evenodd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M96.0389392,1 C106.609669,1 115.859436,5.58308193 120.9273,12.4308996 L121.015825,12.5525321 L184.479,88.185 L184.496508,88.1714212 C184.642609,88.3378163 184.787245,88.5063032 184.930373,88.6768766 C194.515421,100.099893 193.711394,116.554722 183.134527,125.429767 C172.70048,134.184972 156.653546,132.29306 147.020097,121.273869 L146.992363,121.296357 L121.038,90.365 L121.038939,199 L121.03148,199 C121.036443,199.221378 121.038939,199.443416 121.038939,199.666084 C121.038939,214.577772 109.846058,226.666084 96.0389392,226.666084 C82.2318205,226.666084 71.0389392,214.577772 71.0389392,199.666084 C71.0389392,199.443416 71.041435,199.221378 71.0463979,199 L71.0389392,199 L71.038,90.942 L46.409,120.293 L46.4188636,120.301213 C46.2803665,120.473988 46.1395549,120.645684 45.9964268,120.816257 C36.4113784,132.239273 20.0669169,134.304812 9.49005029,125.429767 C-0.91459931,116.699229 -1.8620698,100.633732 7.23426161,89.2388073 L7.21214233,89.2211541 L69.5356122,14.9464184 C74.0533978,6.728782 84.2205763,1 96.0389392,1 Z\",\n    id: \"Combined-Shape\",\n    stroke: \"#4A4A4A\",\n    fill: \"#4A4A4A\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M282.185638,55 C294.279566,55 304.644412,60.9990492 308.99572,69.5252612 L370.259061,142.536 L370.296508,142.505337 C370.442609,142.671732 370.587245,142.840219 370.730373,143.010793 C380.315421,154.433809 379.511394,170.888638 368.934527,179.763683 C358.495096,188.523405 342.436985,186.625021 332.805192,175.590722 L332.757304,175.630273 L306.803061,144.699 L306.80388,253.333916 L306.796421,253.333916 C306.801384,253.555294 306.80388,253.777332 306.80388,254 C306.80388,268.911688 295.610999,281 281.80388,281 C267.996761,281 256.80388,268.911688 256.80388,254 C256.80388,253.777332 256.806376,253.555294 256.811339,253.333916 L256.80388,253.333916 L256.803061,145.276 L232.172061,174.629 L232.179924,174.635129 C232.041427,174.807904 231.900616,174.9796 231.757488,175.150173 C222.172439,186.573189 205.827978,188.638728 195.251111,179.763683 C184.845967,171.03273 183.898901,154.96612 192.99662,143.571098 L192.977083,143.55507 L255.890594,68.5762614 C260.507198,60.5572584 270.545545,55 282.185638,55 Z\",\n    id: \"Combined-Shape-Copy-10\",\n    stroke: \"#D6D6D6\",\n    fill: \"#D6D6D6\",\n    transform: \"translate(282.092819, 168.000000) rotate(180.000000) translate(-282.092819, -168.000000) \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"resultsCollection\",\n    className: \"results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 9\n    }\n  }, notFound && /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"notFound\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 25\n    }\n  }, \"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\") || !notFound && results.map((result, index) => {\n    if (shown.includes(index)) {\n      return /*#__PURE__*/React.createElement(NavLink, {\n        to: '/',\n        key: index,\n        className: \"resultItem soft_appearing\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"resultTestName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 23\n        }\n      }, result.test), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"shortResult\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 23\n        }\n      }, result.result.map((result, i) => {\n        return /*#__PURE__*/React.createElement(\"p\", {\n          key: i,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 37\n          }\n        }, result.scaleResult);\n      })));\n    }\n  })));\n};\nexport default Profile;","map":{"version":3,"sources":["/Users/alisakrylova/Intro/client/src/components/Profile.js"],"names":["React","useCallback","useContext","useEffect","useState","useParams","AuthContext","useHttp","NavLink","Emoji","RegExps","DatePicker","registerLocale","Profile","months","days","localize","month","i","day","formatLong","username","id","loading","request","token","userID","emojis","emojiToString","results","setResults","shown","setShown","isSearching","activateSearching","isEditing","activateEditing","isChoosingEmoji","activateChoosingEmoji","search","setSearch","notFound","setNotFound","sorted","setSorted","resultsFetched","setResultsFetched","userDataFetched","setUserDataFetched","cyrillicsRegExp","loginRegExp","passwordRegExp","errors","setErrors","name","surname","login","password","userData","setUserData","type","pic","birthdate","grade","letter","userEditedData","setUserEditedData","showAll","shownSize","length","push","fetchUserData","fetched","Authorization","e","fetchResults","sort","a","b","result","date","handleSearchActivating","preventDefault","document","getElementById","focus","doSearch","searchFilter","target","value","toString","toLowerCase","resultsArray","map","res","r","scaleResult","test","indexes","includes","doSort","style","handleEditActivating","handleEditing","setBirthdate","handleChooseEmojiActivating","setUserPic","slice","checkFields","showError","show","inputID","errorID","borderBottomColor","className","display","saveEditedData","persist","data","oldLogin","console","log","message","cancelEditing","body","d","Date","ye","Intl","DateTimeFormat","year","format","mo","da","emoji","index"],"mappings":"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","sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport {useParams} from \"react-router-dom\";\nimport './Appearence/Profile.css'\nimport './Appearence/index.css'\nimport './Appearence/DatePicker.css';\nimport {AuthContext} from \"./Context/AuthContext\"\nimport {useHttp} from \"../Hooks/http.hook\"\nimport {NavLink} from \"react-router-dom\"\nimport {Emoji} from \"./Context/Emoji\"\nimport {RegExps} from \"./Context/RegExps\"\nimport DatePicker from \"react-datepicker/es\";\nimport {registerLocale} from \"react-datepicker\";\n\nexport const Profile = () => {\n\n  const months = ['Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь']\n  const days = ['вс', 'пн', 'вт', 'ср', 'чт', 'пт', 'сб']\n\n  registerLocale('ru', {\n    localize: {\n      month: i => months[i],\n      day: i => days[i]\n    },\n    formatLong:{}\n  });\n\n\n  let username = useParams().id\n  const {loading, request} = useHttp();\n\n  // const {token, userID, name, surname, username, userType} = useContext(AuthContext)\n  const {token, userID} = useContext(AuthContext)\n  const {emojis, emojiToString} = useContext(Emoji)\n  const [results, setResults] = useState([])\n  const [shown, setShown] = useState([])\n  const [isSearching, activateSearching] = useState('none')\n  const [isEditing, activateEditing] = useState(false)\n  const [isChoosingEmoji, activateChoosingEmoji] = useState(false)\n  const [search, setSearch] = useState('')\n  const [notFound, setNotFound] = useState()\n  const [sorted, setSorted] = useState(false)\n  const [resultsFetched, setResultsFetched] = useState(false)\n  const [userDataFetched, setUserDataFetched] = useState(false)\n  const {cyrillicsRegExp, loginRegExp, passwordRegExp } = useContext(RegExps)\n  const [errors, setErrors] = useState({\n    name: '',\n    surname: '',\n    login: '',\n    password: ''\n  })\n\n  const [userData, setUserData] = useState({\n    name: '',\n    surname: '',\n    login: '',\n    type: '',\n    pic: '',\n    birthdate: '',\n    grade: '',\n    letter: ''\n  })\n  const [userEditedData, setUserEditedData] = useState({\n    name: '',\n    surname: '',\n    login: '',\n    pic: '',\n    birthdate: '',\n    password: ''\n  })\n\n  const showAll = () => {\n    let shownSize = []\n    for (let i = 0; i < results.length; i++){\n      shownSize.push(i)\n    }\n    setShown([...shownSize])\n  }\n\n\n  const fetchUserData = useCallback(async () => {\n    try {\n      const fetched = await request(`/users/get/${username}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      })\n      setUserData(fetched)\n      setUserEditedData(fetched)\n      setUserDataFetched(true)\n    }\n    catch (e) {}\n  }, [token, username])\n\n  const fetchResults = useCallback(async () => {\n    try {\n      const fetched = await request(`/results/${username}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      })\n\n      fetched.sort((a, b) => a.result[0].date > b.result[0].date ? 1 : -1);\n      setResults(fetched)\n      setResultsFetched(true)\n    }\n    catch (e) {}\n  }, [token, userID, username])\n\n\n  const handleSearchActivating = e => {\n    e.preventDefault()\n    switch (isSearching){\n      case 'active':\n        activateSearching('inactive');\n        break\n      case 'none':\n      case 'inactive':\n        activateSearching('active');\n        document.getElementById('search').focus()\n        break\n    }\n  }\n\n  const doSearch = e => {\n    e.preventDefault()\n    try {\n      let searchFilter = e.target.value.toString().toLowerCase()\n      setSearch(searchFilter)\n      setNotFound(false)\n      if (searchFilter != '') {\n        let resultsArray = []\n        results.map(result => {\n          let res = ''\n          result.result.map(r => {\n            res += r.scaleResult.toString()\n          })\n          resultsArray.push((result.test + res).toString().toLowerCase())\n        })\n\n        let indexes = []\n        resultsArray.map((result, i) => {\n          if (resultsArray[i].toString().includes(searchFilter))\n            indexes.push(i)\n        })\n\n        if (indexes.length != 0) {\n          setShown([...indexes])\n          setNotFound(false)\n        }\n        else setNotFound(true)\n      }\n      else showAll()\n    }\n    catch (e) {}\n  }\n\n  const doSort = e => {\n    e.preventDefault()\n    try {\n      switch (sorted) {\n        case true:\n          document.getElementById('sortIcon').style = 'transform: rotate(360deg);'\n          document.getElementById('resultsCollection').style = 'flex-direction: column;'\n          setSorted(false);\n          break;\n        case false:\n          document.getElementById('sortIcon').style = 'transform: rotate(180deg);'\n          document.getElementById('resultsCollection').style = 'flex-direction: column-reverse;'\n          setSorted(true);\n          break;\n      }\n    }\n    catch (e) {}\n  }\n\n  const handleEditActivating = e => {\n    e.preventDefault()\n    activateEditing(!isEditing);\n  }\n\n  const handleEditing = e => {\n    e.preventDefault()\n    setUserEditedData({...userEditedData, [e.target.name]: e.target.value})\n  }\n\n   const setBirthdate = date => {\n     setUserEditedData({...userEditedData, birthdate: date})\n   }\n\n  const handleChooseEmojiActivating = e => {\n    e.preventDefault()\n    activateChoosingEmoji(!isChoosingEmoji)\n  }\n\n  const setUserPic = e => {\n    e.preventDefault()\n    setUserEditedData({...userEditedData, pic: emojis[e.target.id.slice(1)]})\n  }\n\n  const checkFields = e => {\n    e.preventDefault()\n    try {\n      let name = '', surname = '', login = '', password = ''\n      if (!userEditedData.name) {\n        name = 'Заполните это поле'\n        showError(true,'name', 'errorName')\n      }\n      else if (!cyrillicsRegExp.test(userEditedData.name)) {\n        name = 'Допустима только из кириллица'\n        showError(true,'name', 'errorName')\n      }\n\n      if (!userEditedData.surname) {\n        surname = 'Заполните это поле'\n        showError(true,'surname', 'errorSurname')\n      }\n      else if (!cyrillicsRegExp.test(userEditedData.surname)) {\n        surname = 'Допустима только из кириллица'\n        showError(true,'surname', 'errorSurname')\n      }\n\n      if (!userEditedData.login) {\n        login = 'Заполните это поле'\n        showError(true,'loginOnProfile', 'errorLoginOnProfile')\n      }\n      else if (!loginRegExp.test(userEditedData.login)) {\n        login = 'Допустимы только a-z, цифры, точка и пробел'\n        showError(true,'loginOnProfile', 'errorLoginOnProfile')\n      }\n\n      if (userEditedData.password && !passwordRegExp.test(userEditedData.password)) {\n        if (userEditedData.password.length < 6 || userEditedData.password.length > 20)\n          password = 'Пароль должен содержать от 6 до 20 символов'\n        else\n          password = 'Допустимы только A-z, цифры, точка и пробел'\n          showError(true, 'password', 'errorPassword')\n      }\n\n      !name && showError(false,'name', 'errorName')\n      !surname && showError(false,'surname', 'errorSurname')\n      !login && showError(false,'loginOnProfile', 'errorLoginOnProfile')\n      !password && showError(false,'password', 'errorPassword')\n\n      setErrors({name, surname, login, password})\n\n      if (!name && !surname && !login && !password)\n        return true\n      else\n        return false\n    }\n    catch (e) {}\n  }\n\n  const showError = async (show, inputID, errorID) => {\n    // if show is true => show errors\n    try {\n      if (show){\n        document.getElementById(inputID).style.borderBottomColor = '#E88732'\n        document.getElementById(errorID).className = 'error soft_appearing'\n        document.getElementById(errorID).style.display = 'inline-block'\n      }\n      // if false => hide errors\n      else\n        document.getElementById(inputID).style.borderBottomColor = '#E0E7B4'\n    }\n    catch (e) {}\n  }\n\n  const saveEditedData = async(e) => {\n    e.persist()\n      try {\n        if (checkFields(e)) {\n          const data = await request('/users/edit', 'POST', {...userEditedData, oldLogin: userData.login})\n          console.log(data.message)\n          setUserData(userEditedData)\n          handleEditActivating(e)\n        }\n      }\n      catch (e) {}\n  }\n\n\n  const cancelEditing = e => {\n    e.preventDefault()\n    setUserEditedData(userData)\n    handleEditActivating(e)\n  }\n\n\n  useEffect(() => {\n    document.body.style = 'transition-duration: .7s; transition-timing-function: ease-in-out; background: white;'\n\n  //   // !resultsFetched && username !== userData.login && fetchResults()\n  //   // !userDataFetched && username !== userData.login && fetchUserData()\n\n    const d = new Date('2010-08-05')\n    const ye = new Intl.DateTimeFormat('en', { year: 'numeric' }).format(d)\n    const mo = new Intl.DateTimeFormat('en', { month: 'short' }).format(d)\n    const da = new Intl.DateTimeFormat('en', { day: '2-digit' }).format(d)\n    console.log(ye, mo, da)\n\n    fetchUserData()\n    fetchResults()\n\n    if (shown.length == 0) showAll()\n\n  }, [resultsFetched, userDataFetched, username])\n\n\n  return (\n      <div>\n        <div className = 'profileContainer'>\n\n          {\n            !isEditing &&\n            <div className = 'profilePic'> {emojiToString(userData.pic)} </div>\n          }\n          {\n            isEditing &&\n            <div className = 'profileEditingPic' onClick = {e => handleChooseEmojiActivating(e)}> {emojiToString(userEditedData.pic)} </div>\n          }\n\n          {\n            isChoosingEmoji && isEditing &&\n            <div className = 'emojiContainerOnProfile'>\n              <div className = 'profileEditingPic' onClick = {e => handleChooseEmojiActivating(e)}> {emojiToString(userEditedData.pic)} </div>\n              {\n                emojis.map((emoji, i) => {\n                  return (\n                      <div className = 'addingStudentEmoji' onClick = {e => setUserPic(e)} key = {i} id = {'e' + i}>\n                        {emojiToString(emoji)}\n                      </div>\n                  )\n                })\n              }\n            </div>\n          }\n\n          <div className = 'profileHeader'>\n\n            {!isEditing &&\n              <svg id = 'editIcon' width=\"30px\" height=\"30px\" viewBox=\"0 0 240 240\" version=\"1.1\" onClick = {e => handleEditActivating(e)}>\n                <g id=\"Logo\" stroke=\"none\" stroke-width=\"1\" fill-rule=\"evenodd\">\n                  <path d=\"M17.6776695,185.870058 L53.0330086,221.225397 L7.10542736e-13,238.903066 L17.6776695,185.870058 Z M173.428273,31.119 L208.783273,66.474 L123.053824,152.204581 L66.4852814,208.773124 L31.1299423,173.417785 L173.428273,31.119 Z M232.580736,7.32233047 C242.343843,17.0854378 242.343843,32.9145622 232.580736,42.6776695 L222.926273,52.332 L187.571273,16.977 L197.225397,7.32233047 C206.988504,-2.44077682 222.817629,-2.44077682 232.580736,7.32233047 Z\" id=\"Combined-Shape\"></path>\n                </g>\n              </svg>\n            }\n            {!isEditing &&\n            <h1 id = 'fio'>{userData.name} {userData.surname}</h1>}\n            {!isEditing &&\n            <h2 id = 'loginOnProfile'>{userData.login}</h2>}\n\n\n\n            {isEditing &&\n            <input type = 'text' id = 'name' name = 'name' className = 'enabledInput' onChange = {e => handleEditing(e)} value = {userEditedData.name} placeholder = 'Имя'/>}\n            {isEditing &&\n            <p className = 'error' id = 'errorName'>{errors.name}</p>}\n\n            {isEditing &&\n            <input type = 'text' id = 'surname' name = 'surname' className = 'enabledInput' onChange = {e => handleEditing(e)} value = {userEditedData.surname} placeholder = 'Фамилия'/>}\n            {isEditing &&\n            <p className = 'error' id = 'errorSurname'>{errors.surname}</p>}\n\n            {isEditing &&\n            <input type = 'text' id = 'loginOnProfile' name = 'login' className = 'enabledInput' onChange = {e => handleEditing(e)} value = {userEditedData.login}  placeholder = 'Логин' />}\n            {isEditing &&\n            <p className = 'error' id = 'errorLoginOnProfile'>{errors.login}</p>}\n\n            {isEditing &&\n            <input type = 'text' id = 'password' name = 'password' className = 'enabledInput' onChange = {e => handleEditing(e)} value = {userEditedData.password}  placeholder = 'Новый пароль' />}\n            {isEditing &&\n            <p className = 'error' id = 'errorPassword'>{errors.password}</p>}\n\n            {isEditing &&\n            <input type = 'text' id = 'password' name = 'password' className = 'enabledInput' onChange = {e => handleEditing(e)} value = {userEditedData.password}  placeholder = 'Новый пароль' />}\n            {isEditing &&\n            <p className = 'error' id = 'errorPassword'>{errors.password}</p>}\n\n\n            {userData.type === 'p' &&\n            <h3 id = 'type'>Педагог-психолог</h3>}\n            {userData.type === 's' && !isEditing &&\n            <h3 id = 'type'><b>{userData.grade + userData.letter} класс</b></h3>}\n            {userData.type === 's' && !isEditing &&\n            <h3 id = 'type'>День рождения: { userData.birthdate}</h3>}\n\n\n            {userData.type === 's' && isEditing &&\n            <DatePicker id = 'birthdate' className = 'datePicker'\n                selected = {new Date(userEditedData.birthdate)} onChange = {date => setBirthdate(date)}\n                        placeholderText = 'Дата рождения'\n                        locale = 'ru' dateFormat=\"dd/MM/yyyy\" /> }\n\n            {userData.type === 's' && isEditing &&\n            <div className = 'gradeAndLetter' id = 'gradeAndLetter'>\n              <select name='grade' value = {userData.grade}\n                      // onChange={e => changeHandler(e)}\n              >\n                <option value = '' disabled>Класс</option>\n                <option value = '1'>1</option>\n                <option value = '2'>2</option>\n                <option value = '3'>3</option>\n                <option value = '4'>4</option>\n                <option value = '5'>5</option>\n                <option value = '6'>6</option>\n                <option value = '7'>7</option>\n                <option value = '8'>8</option>\n                <option value = '9'>9</option>\n                <option value = '10'>10</option>\n                <option value = '11'>11</option>\n              </select>\n              <div></div>\n              <select id = 'letter' name='letter' value = {userData.letter}\n                      // onChange={e => changeHandler(e)}\n              >\n                <option value = '' disabled>Буква</option>\n                <option value = 'А'>А</option>\n                <option value = 'Б'>Б</option>\n                <option value = 'В'>В</option>\n                <option value = 'Г'>Г</option>\n                <option value = 'Д'>Д</option>\n              </select>\n            </div>\n            }\n\n            {\n              isEditing &&\n\n              <div id = 'saveAndCancelEditing'>\n\n                <svg id = 'cancelIcon' onClick = {e => cancelEditing(e)} width=\"35px\" height=\"35px\" viewBox=\"0 0 300 300\" version=\"1.1\">\n                  <g fill=\"#E88732\"  id=\"Logo\" stroke=\"none\" stroke-width=\"1\" fill-rule=\"evenodd\">\n                  <path d=\"M231.885822,72.3223305 C241.64893,82.0854378 241.64893,97.9145622 231.885822,107.67767 L184.959,154.604 L222.885822,192.530483 C232.64893,202.293591 232.64893,218.122715 222.885822,227.885822 C213.122715,237.64893 197.293591,237.64893 187.530483,227.885822 L149.604,189.959 L111.67767,227.885822 C101.914562,237.64893 86.0854378,237.64893 76.3223305,227.885822 C66.5592232,218.122715 66.5592232,202.293591 76.3223305,192.530483 L114.249,154.604 L67.3223305,107.67767 C57.5592232,97.9145622 57.5592232,82.0854378 67.3223305,72.3223305 C77.0854378,62.5592232 92.9145622,62.5592232 102.67767,72.3223305 L149.604,119.249 L196.530483,72.3223305 C206.293591,62.5592232 222.122715,62.5592232 231.885822,72.3223305 Z\" id=\"Combined-Shape\"></path>\n                  </g>\n                </svg>\n\n                <svg id = 'saveIcon' onClick = {e => saveEditedData(e)} width=\"30px\" height=\"30px\" viewBox=\"0 0 300 300\" version=\"1.1\">\n                  <g id=\"Logo\" fill=\"#E0E7B4\" stroke=\"none\" stroke-width=\"1\" fill-rule=\"evenodd\">\n                    <path d=\"M274.847645,60.3120342 L279.170453,64.6298082 C288.939247,74.3872257 288.948469,90.2163475 279.191052,99.9851413 C279.18419,99.9920115 279.177324,99.9988777 279.170453,100.00574 L151.781477,227.246365 C146.461489,232.560158 139.343499,234.977726 132.387469,234.499068 C125.431382,234.977957 118.312965,232.560413 112.992721,227.246365 L21.3326328,135.693019 C11.563839,125.935602 11.5546167,110.10648 21.3120342,100.337686 L21.3326328,100.317087 L21.3326328,100.317087 L25.655441,95.9993134 C35.4161868,86.2499345 51.2294296,86.2499345 60.9901754,95.9993134 L132.387,167.312 L239.512911,60.3120342 C249.273657,50.5626553 265.086899,50.5626553 274.847645,60.3120342 Z\" id=\"Combined-Shape\"></path>\n                  </g>\n                </svg>\n\n              </div>\n            }\n\n          </div>\n        </div>\n\n        {results.length != 0 &&\n        <div className = 'searchAndSort'>\n          <input type = 'text' id = 'search'\n                 className = {  isSearching === 'active' && 'searchAppearing' ||\n                 isSearching === 'inactive' && 'searchDisappearing' ||\n                 isSearching === 'none' && 'invisible'}\n                 placeholder = 'Поиск по результатам' onChange = {doSearch}/>\n\n          <svg className = 'searchIcon' name = 'searchIcon' width=\"250px\" height=\"277px\" viewBox=\"0 0 250 277\" version=\"1.1\"\n               onClick = {handleSearchActivating}>\n            <g id=\"Logo\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n              <path className = {   isSearching === 'active' && 'activeStroke activeFill' ||\n              isSearching === 'inactive' && 'inactiveStroke inactiveFill' ||\n              isSearching === 'none' && 'inactiveStroke inactiveFill'}\n                    d=\"M256.23536,245.633373 C256.240323,245.854751 256.242819,246.076789 256.242819,246.299457 C256.242819,261.211145 245.049938,273.299457 231.242819,273.299457 C217.4357,273.299457 206.242819,261.211145 206.242819,246.299457 C206.242819,246.076789 206.245315,245.854751 206.250278,245.633373 Z\" id=\"Combined-Shape\" transform=\"translate(231.242819, 259.466415) rotate(-40.000000) translate(-231.242819, -259.466415) \"></path>\n              <rect id=\"Rectangle\"\n                    className = {   isSearching === 'active' && 'activeStroke activeFill' ||\n                    isSearching === 'inactive' && 'inactiveStroke inactiveFill' ||\n                    isSearching === 'none' && 'inactiveStroke inactiveFill'}\n                    transform=\"translate(199.856726, 222.096267) rotate(-40.000000) translate(-199.856726, -222.096267) \" x=\"174.856726\" y=\"186.596267\" width=\"50\" height=\"71\"></rect>\n              <circle id=\"Oval\"\n                      className = {   isSearching === 'active' && 'activeStroke' ||\n                      isSearching === 'inactive' && 'inactiveStroke' ||\n                      isSearching === 'none' && 'inactiveStroke'}\n                      stroke-width=\"50\" cx=\"125\" cy=\"125\" r=\"100\"></circle>\n            </g>\n          </svg>\n\n          <svg className = 'sortIcon' id = 'sortIcon' onClick = {doSort} width=\"378px\" height=\"282px\" viewBox=\"0 0 378 282\" version=\"1.1\">\n            <g id=\"Logo\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n              <path d=\"M96.0389392,1 C106.609669,1 115.859436,5.58308193 120.9273,12.4308996 L121.015825,12.5525321 L184.479,88.185 L184.496508,88.1714212 C184.642609,88.3378163 184.787245,88.5063032 184.930373,88.6768766 C194.515421,100.099893 193.711394,116.554722 183.134527,125.429767 C172.70048,134.184972 156.653546,132.29306 147.020097,121.273869 L146.992363,121.296357 L121.038,90.365 L121.038939,199 L121.03148,199 C121.036443,199.221378 121.038939,199.443416 121.038939,199.666084 C121.038939,214.577772 109.846058,226.666084 96.0389392,226.666084 C82.2318205,226.666084 71.0389392,214.577772 71.0389392,199.666084 C71.0389392,199.443416 71.041435,199.221378 71.0463979,199 L71.0389392,199 L71.038,90.942 L46.409,120.293 L46.4188636,120.301213 C46.2803665,120.473988 46.1395549,120.645684 45.9964268,120.816257 C36.4113784,132.239273 20.0669169,134.304812 9.49005029,125.429767 C-0.91459931,116.699229 -1.8620698,100.633732 7.23426161,89.2388073 L7.21214233,89.2211541 L69.5356122,14.9464184 C74.0533978,6.728782 84.2205763,1 96.0389392,1 Z\" id=\"Combined-Shape\"\n                    stroke=\"#4A4A4A\" fill=\"#4A4A4A\"></path>\n              <path d=\"M282.185638,55 C294.279566,55 304.644412,60.9990492 308.99572,69.5252612 L370.259061,142.536 L370.296508,142.505337 C370.442609,142.671732 370.587245,142.840219 370.730373,143.010793 C380.315421,154.433809 379.511394,170.888638 368.934527,179.763683 C358.495096,188.523405 342.436985,186.625021 332.805192,175.590722 L332.757304,175.630273 L306.803061,144.699 L306.80388,253.333916 L306.796421,253.333916 C306.801384,253.555294 306.80388,253.777332 306.80388,254 C306.80388,268.911688 295.610999,281 281.80388,281 C267.996761,281 256.80388,268.911688 256.80388,254 C256.80388,253.777332 256.806376,253.555294 256.811339,253.333916 L256.80388,253.333916 L256.803061,145.276 L232.172061,174.629 L232.179924,174.635129 C232.041427,174.807904 231.900616,174.9796 231.757488,175.150173 C222.172439,186.573189 205.827978,188.638728 195.251111,179.763683 C184.845967,171.03273 183.898901,154.96612 192.99662,143.571098 L192.977083,143.55507 L255.890594,68.5762614 C260.507198,60.5572584 270.545545,55 282.185638,55 Z\" id=\"Combined-Shape-Copy-10\"\n                    stroke=\"#D6D6D6\" fill=\"#D6D6D6\" transform=\"translate(282.092819, 168.000000) rotate(180.000000) translate(-282.092819, -168.000000) \"></path>\n            </g>\n          </svg>\n\n\n\n        </div>\n        }\n\n        <div id = 'resultsCollection' className = 'results'>\n          {\n            notFound && <h1 className = 'notFound'>Ничего не найдено</h1> ||\n            !notFound &&\n            results.map((result, index) => {\n              if (shown.includes(index)){\n                return (\n                    <NavLink to={'/'} key={index} className='resultItem soft_appearing'>\n                      <p className='resultTestName'>{result.test}</p>\n                      <div className='shortResult'>\n                        {\n                          result.result.map((result, i) => {\n                                return (\n                                    <p key={i}>{result.scaleResult}</p>\n                                )\n                              }\n                          )}\n                      </div>\n                    </NavLink>\n                )}\n            })\n          }\n        </div>\n\n      </div>\n  )\n\n\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}