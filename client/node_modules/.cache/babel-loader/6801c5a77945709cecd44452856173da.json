{"ast":null,"code":"var _jsxFileName = \"/Users/alisakrylova/Intro/client/src/components/Students.js\";\nimport React, { useEffect, useState } from 'react';\nimport './Appearence/index.css';\nimport './Appearence/Auth.css';\nimport { useHttp } from \"../hooks/http.hook\";\nexport const Students = () => {\n  const {\n    loading,\n    request,\n    error,\n    clearError\n  } = useHttp();\n  const [form, setForm] = useState({\n    login: '',\n    password: '',\n    type: '',\n    name: '',\n    surname: '',\n    grade: null,\n    letter: ''\n  });\n\n  const changeHandler = event => {\n    setForm({ ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const registerHandler = async () => {\n    try {\n      const data = await request('api/students/create', 'POST', { ...form\n      });\n      console.log(data.message);\n\n      if (data.message === 'User\\'ve created') {\n        setForm({\n          login: '',\n          password: '',\n          type: '',\n          name: '',\n          surname: '',\n          grade: null,\n          letter: ''\n        });\n      }\n    } catch (e) {}\n  };\n\n  useEffect = async () => {\n    const students = await request('api/students/', 'POST', { ...form\n    });\n    console.log(students.message);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"authform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"login\",\n    name: \"login\",\n    placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\",\n    onChange: changeHandler,\n    value: form.login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"password\",\n    name: \"password\",\n    placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    onChange: changeHandler,\n    value: form.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"type\",\n    name: \"type\",\n    placeholder: \"\\u0422\\u0438\\u043F\",\n    onChange: changeHandler,\n    value: form.type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    name: \"name\",\n    placeholder: \"\\u0418\\u043C\\u044F\",\n    onChange: changeHandler,\n    value: form.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"surname\",\n    name: \"surname\",\n    placeholder: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",\n    onChange: changeHandler,\n    value: form.surname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }), form.type === 'u' && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"grade\",\n    name: \"grade\",\n    placeholder: \"\\u041A\\u043B\\u0430\\u0441\\u0441\",\n    onChange: changeHandler,\n    value: form.grade,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }), form.type === 'u' && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"letter\",\n    name: \"letter\",\n    placeholder: \"\\u0411\\u0443\\u043A\\u0432\\u0430\",\n    onChange: changeHandler,\n    value: form.letter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    className: \"loginbtn\",\n    value: \"reg\",\n    onClick: registerHandler,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }));\n};\nexport default Students;","map":{"version":3,"sources":["/Users/alisakrylova/Intro/client/src/components/Students.js"],"names":["React","useEffect","useState","useHttp","Students","loading","request","error","clearError","form","setForm","login","password","type","name","surname","grade","letter","changeHandler","event","target","value","registerHandler","data","console","log","message","e","students"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport './Appearence/index.css'\nimport './Appearence/Auth.css';\nimport {useHttp} from \"../hooks/http.hook\";\n\n\nexport const Students = () => {\n\n    const {loading, request, error, clearError} = useHttp();\n\n    const [form, setForm] = useState({\n        login: '',\n        password: '',\n        type: '',\n        name: '',\n        surname: '',\n        grade: null,\n        letter: ''\n    })\n\n    const changeHandler = event => {\n        setForm({...form, [event.target.name]: event.target.value})\n    }\n\n    const registerHandler = async () => {\n        try {\n            const data = await request('api/students/create', 'POST', {...form})\n            console.log(data.message)\n            if (data.message === 'User\\'ve created'){\n                setForm({\n                    login: '',\n                    password: '',\n                    type: '',\n                    name: '',\n                    surname: '',\n                    grade: null,\n                    letter: ''\n                })\n            }\n        }\n        catch (e) {}\n    }\n\n    useEffect = async() => {\n        const students = await request('api/students/', 'POST', {...form})\n        console.log(students.message)\n    }\n\n    return(\n        <div>\n            <div className = 'authform'>\n                <input type='text' id = 'login' name='login' placeholder='Логин' onChange={changeHandler} value = {form.login}/>\n                <input type='text' id = 'password' name='password' placeholder='Пароль' onChange={changeHandler} value = {form.password}/>\n                <input type='text' id = 'type' name='type' placeholder='Тип' onChange={changeHandler} value = {form.type}/>\n                <input type='text' id = 'name' name='name' placeholder='Имя' onChange={changeHandler} value = {form.name}/>\n                <input type='text' id = 'surname' name='surname' placeholder='Фамилия' onChange={changeHandler} value = {form.surname}/>\n                { form.type === 'u' &&\n                    <input type='text' id = 'grade' name='grade' placeholder='Класс' onChange={changeHandler} value = {form.grade}/>}\n                { form.type === 'u' &&\n                    <input type='text' id = 'letter' name='letter' placeholder='Буква' onChange={changeHandler} value = {form.letter}/>}\n            </div>\n            <input type='button' className = 'loginbtn' value='reg' onClick = {registerHandler} disabled={loading}/>\n        </div>\n    )\n}\n\nexport default Students"]},"metadata":{},"sourceType":"module"}