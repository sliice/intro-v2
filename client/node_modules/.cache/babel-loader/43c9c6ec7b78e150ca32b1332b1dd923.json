{"ast":null,"code":"var _jsxFileName = \"/Users/alisakrylova/Intro/client/src/components/AddTest.js\";\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport classNames from 'classnames/bind';\nimport './Appearence/index.css';\nimport './Appearence/AddTest.css';\nimport { AuthContext } from \"./Context/AuthContext\";\nimport createShortLink from \"./Functions and const/CreateShortLink\";\nimport { useHttp } from \"../Hooks/http.hook\";\nimport { ReactComponent as AddIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!./Appearence/Images/AddIcon.svg\";\nimport { ReactComponent as CancelIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!./Appearence/Images/CancelIcon.svg\";\nimport notify from './Functions and const/Notify';\nimport showError from './Functions and const/ShowError';\nimport { RegExps } from \"./Functions and const/RegExps\";\nimport ConfirmWindow from \"./Functions and const/ConfirmWindow\";\nexport const AddTest = () => {\n  const {\n    token\n  } = useContext(AuthContext);\n  const {\n    request\n  } = useHttp();\n  const history = useHistory();\n  const [drafts, setDrafts] = useState();\n  const [fromDrafts, setFromDrafts] = useState(false);\n  const [isDeleting, activateDeleting] = useState(false);\n  const [errors, setErrors] = useState({\n    name: '',\n    link: ''\n  });\n  const [saveBtnClasses, setSaveBtnClasses] = useState({\n    test: 'invisible',\n    draft: 'invisible',\n    deletebtn: 'invisible'\n  });\n  const [testData, setTestData] = useState({\n    name: '',\n    link: '',\n    shortDescription: '',\n    description: '',\n    scales: [{\n      name: '',\n      intervals: [{\n        name: '',\n        description: '',\n        min: '',\n        max: '',\n        important: false\n      }],\n      scaleanswers: [{\n        k: '',\n        questions: []\n      }]\n    }],\n    questions: [''],\n    answers: ['']\n  });\n\n  const handleSaveBtnClasses = (e, test, draft, deletebtn) => {\n    e.preventDefault();\n    let testClass, draftClass, deleteClass;\n    if (!test) testClass = 'invisible';else testClass = 'slow_appearing';\n    if (!draft) draftClass = 'invisible';else draftClass = 'slow_appearing';\n    if (!deletebtn) deleteClass = 'invisible';else deleteClass = 'slow_appearing';\n    setSaveBtnClasses({\n      test: testClass,\n      draft: draftClass,\n      deletebtn: deleteClass\n    });\n  };\n\n  const isImportantBtn = isImportant => {\n    return classNames({\n      inactiveImportantBtn: !isImportant,\n      activeImportantBtn: isImportant\n    });\n  };\n\n  const saveDraftBtnClasses = isImportant => {\n    return classNames({\n      inactiveImportantBtn: !isImportant,\n      activeImportantBtn: isImportant\n    });\n  };\n\n  const textStatus = isActive => {\n    return classNames({\n      inactiveText: !isActive,\n      activeText: isActive\n    });\n  };\n\n  const fetchDrafts = useCallback(async () => {\n    try {\n      const fetched = await request('addtest/drafts', 'GET', null, {\n        Authorization: `Bearer ${token}`\n      });\n      setDrafts(fetched);\n    } catch (e) {}\n  }, [token, request]);\n\n  const handleSaving = async (e, type) => {\n    e.preventDefault();\n\n    switch (type) {\n      case 'test':\n        await saveTest();\n        break;\n\n      case 'draft':\n        await saveTestDraft();\n        break;\n    }\n  };\n\n  const saveTestDraft = async () => {\n    try {\n      if (await checkFields(false)) {\n        console.log('было ', testData);\n        const data = await request('addtest/savedraft', 'POST', { ...testData,\n          date: new Date()\n        });\n\n        if (data.message === 'Draft is saved') {\n          notify('Черновик сохранён');\n          setTestData({ ...testData,\n            _id: data.id\n          });\n          console.log('стало ', data); // fetchDrafts()\n        }\n      }\n    } catch (e) {}\n  };\n\n  const saveTest = async () => {\n    try {\n      if (await checkFields(true)) {\n        console.log(testData);\n        const data = await request('addtest/savetest', 'POST', { ...testData,\n          date: new Date()\n        });\n\n        if (data.message === 'Test is saved') {\n          notify('Тест сохранён');\n          setTestData({ ...testData,\n            _id: data.id\n          });\n        }\n      }\n    } catch (e) {}\n  };\n\n  const handleDeleteActivating = e => {\n    e.preventDefault();\n    activateDeleting(!isDeleting);\n  };\n\n  const handleDeleting = async e => {\n    e.preventDefault();\n    await deleteTest();\n  };\n\n  const deleteTest = useCallback(async () => {\n    try {\n      const shortLink = document.getElementById('testLink').value;\n      const data = await request(`/api/tests/${shortLink}/drop`, 'POST', null);\n\n      if (data.message === 'Test is deleted') {\n        notify('Тест удалён');\n        setTimeout(() => history.push('/'), 1000);\n        activateDeleting(!isDeleting);\n      }\n    } catch (e) {}\n  }, [token, request]);\n\n  const checkFields = async doubleCheck => {\n    let permission = false;\n\n    try {\n      let name = '',\n          link = '';\n\n      if (testData.name && !RegExps.testNameRegExp.test(testData.name)) {\n        name = 'Допустима только кириллица, пробелы и знаки препинания';\n        await showError(true, 'testName', 'errorTestName');\n      } else if (!testData.name) {\n        name = 'Введите название методики';\n        !doubleCheck && notify('Введите название методики, чтобы сохранить черновик');\n        await showError(true, 'testName', 'errorTestName');\n      }\n\n      if (testData.link && !RegExps.linkRegExp.test(testData.link)) {\n        if (name) {\n          testData.link = '';\n        } else if (!name) {\n          link = 'Допустимы только буквы a-z, цифры и дефис между ними';\n          await showError(true, 'testLink', 'errorTestLink');\n        }\n      } else if (!testData.link) {\n        if (!name) testData.link = createShortLink(testData.name);else testData.link = '';\n      }\n\n      await setErrors({\n        name,\n        link\n      });\n      !name && (await showError(false, 'testName', 'errorTestName'));\n      !link && (await showError(false, 'testLink', 'errorTestLink'));\n      if (!name && !link) permission = true;\n      let check = '';\n      if (!testData.name) check += 'n';\n      if (!testData.questions[0]) check += 'q';\n      if (!testData.answers[0]) check += 'a';\n\n      if (doubleCheck) {\n        switch (check) {\n          case 'nqa':\n            notify('Введите название методики, хотя бы один вопрос и вариант ответа');\n            break;\n\n          case 'qa':\n            notify('Введите хотя бы один вопрос и вариант ответа');\n            break;\n\n          case 'nq':\n            notify('Введите название методики и хотя бы один вопрос');\n            break;\n\n          case 'na':\n            notify('Введите название методики и хотя бы один вариант ответа');\n            break;\n\n          case 'q':\n            notify('Введите хотя бы один вопрос');\n            break;\n\n          case 'a':\n            notify('Введите хотя бы один вариант ответа');\n            break;\n        }\n\n        if (check !== '') permission = false;\n      }\n\n      if (!permission && testData.name) setTimeout(() => saveTestDraft(), 20000);\n      return permission;\n    } catch (e) {}\n  };\n\n  const chooseDraft = e => {\n    e.preventDefault();\n    setTestData(drafts[e.target.value]);\n  };\n\n  const changeHandler = async e => {\n    e.preventDefault();\n\n    if (e.target.name === 'name') {\n      let link = createShortLink(e.target.value);\n      await setTestData({ ...testData,\n        [e.target.name]: e.target.value,\n        link\n      });\n    } else await setTestData({ ...testData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleAddingScale = e => {\n    e.preventDefault();\n    const scales = testData.scales;\n    scales.push({\n      name: '',\n      intervals: [{\n        name: '',\n        description: '',\n        min: '',\n        max: '',\n        important: false\n      }],\n      scaleanswers: [{\n        k: '',\n        questions: []\n      }]\n    });\n    setTestData({ ...testData,\n      scales\n    });\n  };\n\n  const handleDeletingScale = (e, i) => {\n    e.preventDefault();\n    let scales = testData.scales;\n    scales.splice(i, 1);\n    setTestData({ ...testData,\n      scales\n    });\n    if (scales.length == 0) handleAddingScale(e);\n  };\n\n  const handleAddingInterval = (e, i) => {\n    e.preventDefault();\n    let scales = testData.scales;\n    let intervals = scales[i]['intervals'];\n    intervals.push({\n      name: '',\n      description: '',\n      min: '',\n      max: '',\n      important: false\n    });\n    scales['intervals'] = intervals;\n    setTestData({ ...testData,\n      scales\n    });\n  };\n\n  const handleDeletingInterval = (e, i, j) => {\n    e.preventDefault();\n    let scales = testData.scales;\n    let intervals = scales[i]['intervals'];\n    intervals.splice(j, 1);\n    scales['intervals'] = intervals;\n    setTestData({ ...testData,\n      scales\n    });\n    if (intervals.length == 0) handleAddingInterval(e, i);\n  };\n\n  const handleAddingAnswer = e => {\n    e.preventDefault();\n    const answers = testData.answers; // answers.push(e.target.value)\n\n    answers.push('');\n    setTestData({ ...testData,\n      answers\n    });\n  };\n\n  const handleDeletingAnswer = (e, i) => {\n    e.preventDefault();\n    let answers = testData.answers;\n    answers.splice(i, 1);\n    setTestData({ ...testData,\n      answers\n    });\n    if (answers.length == 0) handleAddingAnswer(e);\n  };\n\n  const handleAddingQuestion = e => {\n    e.preventDefault();\n    const questions = testData.questions; // questions.push(e.target.value)\n\n    questions.push('');\n    setTestData({ ...testData,\n      questions\n    });\n  };\n\n  const handleDeletingQuestion = (e, i) => {\n    e.preventDefault();\n    let questions = testData.questions;\n    questions.splice(i, 1);\n    setTestData({ ...testData,\n      questions\n    });\n    if (questions.length == 0) handleAddingQuestion(e);\n  };\n\n  const changeScaleHandler = (e, i) => {\n    let scales = testData.scales;\n    if (e.target.name === 'k' && !e.target.value) scales[i][e.target.name] = 1;else scales[i][e.target.name] = e.target.value;\n    setTestData({ ...testData,\n      scales\n    });\n  };\n\n  const changeIntervalHandler = (e, i, j) => {\n    e.preventDefault();\n    let scales = testData.scales;\n    let intervals = scales[i]['intervals']; // if (e.target.id === 'isImportantYes' || e.target.id === 'isImportantNo' || e.target.id === 'isImportantP')\n\n    if (e.target.id === 'isImportantYes' || e.target.id === 'isImportantNo') intervals[j]['important'] = !intervals[j]['important'];else if (e.target.name === 'min' || e.target.name === 'max') intervals[j][e.target.name] = parseInt(e.target.value);else intervals[j][e.target.name] = e.target.value;\n    scales[i]['intervals'] = intervals;\n    setTestData({ ...testData,\n      scales\n    });\n  };\n\n  const changeAnswersHandler = (e, i) => {\n    e.preventDefault();\n    let answers = testData.answers;\n    answers[i] = e.target.value;\n    setTestData({ ...testData,\n      answers\n    });\n  };\n\n  const changeQuestionsHandler = (e, i) => {\n    e.preventDefault();\n    let questions = testData.questions;\n    questions[i] = e.target.value;\n    setTestData({ ...testData,\n      questions\n    });\n  };\n\n  const changeScaleAnswersHandler = (e, i, j, k) => {\n    e.preventDefault();\n\n    try {\n      let data = testData;\n      let scale = data.scales[i];\n      let questions = [],\n          index,\n          scaleanswers = [];\n      if (scale.scaleanswers[j]) scaleanswers = scale.scaleanswers[j];else scaleanswers = {};\n      if (e.target.name === 'k') scaleanswers.k = parseInt(e.target.value);else {\n        if (scaleanswers.questions) {\n          questions = scaleanswers.questions;\n          index = questions.indexOf(k);\n          if (index == -1) questions.push(k);else questions.splice(index, 1);\n        } else questions.push(k);\n\n        questions.sort((a, b) => a > b ? 1 : -1);\n        scaleanswers.questions = questions;\n      }\n      scale.scaleanswers[j] = scaleanswers;\n      data.scales[i] = scale;\n      setTestData({ ...testData,\n        data\n      });\n    } catch (e) {}\n  };\n\n  const colorBackground = (e, el, i, j, c, side) => {\n    try {\n      let color;\n\n      switch (c) {\n        case 'red':\n          if (side) document.getElementById(el + i + j).style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: linear-gradient(90deg, #ffffff 0%, #fbe7d6 100%);';else document.getElementById(el + i + j).style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: linear-gradient(90deg, #fbe7d6 0%, #ffffff 100%);';\n          break;\n\n        case 'white':\n          document.getElementById(el + i + j).style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: inherit;';\n          break;\n      }\n    } catch (e) {}\n  };\n\n  const keyPressedHandler = (e, i) => {\n    e.preventDefault();\n\n    if (e.which == 13 || e.keyCode == 13) {\n      if (e.target.name === 'q') handleAddingQuestion(e);else if (e.target.name === 'a') handleAddingAnswer(e);\n    }\n\n    if ((e.which == 8 || e.keyCode == 8 || e.key === 'Backspace' || e.which == 46 || e.keyCode == 46 || e.key === 'Delete') && e.target.value === '') {\n      if (e.target.name === 'q') handleDeletingQuestion(e, i);else if (e.target.name === 'a') handleDeletingAnswer(e, i);\n    }\n  };\n\n  useEffect(() => {\n    document.body.style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: #FFFFFF;';\n  }, []);\n  useEffect(() => {\n    if (fromDrafts && !drafts) {\n      fetchDrafts();\n    } else if (!fromDrafts && drafts && testData.name) {\n      saveTestDraft(); // fetchDrafts()\n\n      setTestData({\n        id: '',\n        name: '',\n        link: '',\n        shortDescription: '',\n        description: '',\n        scales: [{\n          name: '',\n          intervals: [{\n            name: '',\n            description: '',\n            min: '',\n            max: '',\n            important: false\n          }],\n          scaleanswers: [{\n            k: '',\n            questions: []\n          }]\n        }],\n        questions: [''],\n        answers: ['']\n      });\n    }\n  }, [fromDrafts]);\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (testData.name) saveTestDraft();\n    }, 10000);\n    return () => clearInterval(interval);\n  }, [testData.name, testData.shortDescription, testData.description, testData._id]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addingTest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 13\n    }\n  }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0435\\u0441\\u0442\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: () => setFromDrafts(!fromDrafts),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    defaultValue: true,\n    value: \"new\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 17\n    }\n  }, \"\\u0432\\u0440\\u0443\\u0447\\u043D\\u0443\\u044E\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"draft\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 17\n    }\n  }, \"\\u0438\\u0437 \\u0447\\u0435\\u0440\\u043D\\u043E\\u0432\\u0438\\u043A\\u043E\\u0432\")), fromDrafts && drafts && /*#__PURE__*/React.createElement(\"select\", {\n    defaultValue: \"\",\n    onChange: e => chooseDraft(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 22\n    }\n  }, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0447\\u0435\\u0440\\u043D\\u043E\\u0432\\u0438\\u043A\"), drafts.map((draft, i) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: i,\n      value: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 29\n      }\n    }, draft.name);\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addingTestModule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 17\n    }\n  }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputWithError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 17\n    }\n  }, testData.name !== 'Без названия' && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    id: \"testName\",\n    value: testData.name,\n    placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438\",\n    onChange: e => changeHandler(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 25\n    }\n  }), testData.name === 'Без названия' && /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    id: \"testName\",\n    value: \"\",\n    placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438\",\n    onChange: e => changeHandler(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    id: \"errorTestName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 21\n    }\n  }, errors.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shortLinkBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 21\n    }\n  }, \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u0430\\u044F \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"testLink\",\n    name: \"link\",\n    value: testData.link,\n    placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u0430\\u044F \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430\",\n    onChange: e => changeHandler(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addingTestModule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 17\n    }\n  }, \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"shortDescription\",\n    value: testData.shortDescription,\n    placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u043E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0436\\u0430\\u0442\\u044C\\u0441\\u044F \\u043D\\u0430 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0435 \\u0441\\u043E \\u0432\\u0441\\u0435\\u043C\\u0438 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0430\\u043C\\u0438\",\n    onChange: e => changeHandler(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addingTestModule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 17\n    }\n  }, \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"description\",\n    value: testData.description,\n    placeholder: \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u043E\\u0442\\u043E\\u0431\\u0440\\u0430\\u0436\\u0430\\u0442\\u044C\\u0441\\u044F \\u043D\\u0430 \\u0441\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438\",\n    onChange: e => changeHandler(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addingTestModule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 546,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 17\n    }\n  }, \"\\u0412\\u0430\\u0440\\u0438\\u0430\\u043D\\u0442\\u044B \\u043E\\u0442\\u0432\\u0435\\u0442\\u043E\\u0432\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addingTestModule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"answersAdd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 17\n    }\n  }, testData.answers.map((answer, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"questionAdd\",\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 37\n      }\n    }, i + 1), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"a\",\n      id: 'a' + i,\n      placeholder: \"\\u0412\\u0430\\u0440\\u0438\\u0430\\u043D\\u0442 \\u043E\\u0442\\u0432\\u0435\\u0442\\u0430 \",\n      value: testData.answers[i],\n      onChange: e => changeAnswersHandler(e, i),\n      onKeyUp: e => keyPressedHandler(e, i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(CancelIcon, {\n      onMouseEnter: e => colorBackground(e, 'a', i, '', 'red', false),\n      onMouseLeave: e => colorBackground(e, 'a', i, '', 'white', false),\n      onClick: e => handleDeletingAnswer(e, i),\n      titile: \"\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C \\u044D\\u0442\\u043E\\u0442 \\u0432\\u0430\\u0440\\u0438\\u0430\\u043D\\u0442 \\u043E\\u0442\\u0432\\u0435\\u0442\\u0430\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 37\n      }\n    }));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: e => handleAddingAnswer(e),\n    className: \"adding\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 566,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    title: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0432\\u0430\\u0440\\u0438\\u0430\\u043D\\u0442 \\u043E\\u0442\\u0432\\u0435\\u0442\\u0430\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: textStatus(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 568,\n      columnNumber: 21\n    }\n  }, \"\\u0415\\u0449\\u0451 \\u043E\\u0434\\u0438\\u043D \\u0432\\u0430\\u0440\\u0438\\u0430\\u043D\\u0442 \\u043E\\u0442\\u0432\\u0435\\u0442\\u0430\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addingTestModule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 17\n    }\n  }, \"\\u0412\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addingTestModule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"questionsAdd\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 17\n    }\n  }, testData.questions.map((question, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"questionAdd\",\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 37\n      }\n    }, i + 1), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"q\",\n      id: 'q' + i,\n      placeholder: \"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u0430 \",\n      value: testData.questions[i],\n      onChange: e => changeQuestionsHandler(e, i),\n      onKeyUp: e => keyPressedHandler(e, i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(CancelIcon, {\n      onMouseEnter: e => colorBackground(e, 'q', i, '', 'red', false),\n      onMouseLeave: e => colorBackground(e, 'q', i, '', 'white', false),\n      onClick: e => handleDeletingQuestion(e, i),\n      titile: \"\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C \\u044D\\u0442\\u043E\\u0442 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 37\n      }\n    }));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: e => handleAddingQuestion(e),\n    className: \"adding\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 590,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    title: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0432\\u0430\\u0440\\u0438\\u0430\\u043D\\u0442 \\u043E\\u0442\\u0432\\u0435\\u0442\\u0430\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: textStatus(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 21\n    }\n  }, \"\\u0415\\u0449\\u0451 \\u043E\\u0434\\u0438\\u043D \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addingTestModule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 598,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 599,\n      columnNumber: 17\n    }\n  }, \"\\u0428\\u043A\\u0430\\u043B\\u044B\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addingTestModule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 17\n    }\n  }, \"\\u0428\\u043A\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435 \\u0438\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B\\u044B \\u2013 \\u044D\\u0442\\u043E \\u0431\\u044B\\u0432\\u0430\\u043E\\u044B\\u0430\\u044B\\u0434\\u0439\\u0443\\u0436 \\u0432\\u0430\\u044C\\u044B\\u043B\\u0430\\u0434\\u044B\\u044B\\u044C\\u0432\\u0434fsddsdffsdsdfsfdfdfdssfdsfdsdfsdfd\\u0430 \\u044B\\u0432\\u0430sdjskdjflkdsjfklsdjklfsdjlfksdj\\u043B\\u044B. \\u0412\\u0434\\u043B\\u044B\\u0432\\u0430\\u043B\\u0430\\u0434 \\u0436\\u0430\\u0432\\u0434\\u044B\\u0430\\u0436\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"scales\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 17\n    }\n  }, testData.scales.map((scale, i) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"scaleBox\",\n      id: 'scale' + i,\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(CancelIcon, {\n      className: \"scaleDeletingIcon\",\n      onClick: e => handleDeletingScale(e, i),\n      titile: \"\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C \\u044D\\u0442\\u0443 \\u0448\\u043A\\u0430\\u043B\\u0443\",\n      onMouseEnter: e => colorBackground(e, 'scale', i, '', 'red', true),\n      onMouseLeave: e => colorBackground(e, 'scale', i, '', 'white', true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"scale soft_appearing\",\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      placeholder: 'Название шкалы ' + (i + 1),\n      value: scale.name,\n      onChange: e => changeScaleHandler(e, i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"intervals\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 33\n      }\n    }, scale.intervals.map((interval, j) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"interval soft_appearing\",\n        id: 'interval' + i + j,\n        key: j,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(CancelIcon, {\n        className: \"cancelIcon intervalDeletingIcon\",\n        onMouseEnter: e => colorBackground(e, 'interval', i, j, 'red', true),\n        onMouseLeave: e => colorBackground(e, 'interval', i, j, 'white', true),\n        onClick: e => handleDeletingInterval(e, i, j),\n        titile: \"\\u0423\\u0431\\u0440\\u0430\\u0442\\u044C \\u044D\\u0442\\u043E\\u0442 \\u0438\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"intervalName\",\n        name: \"name\",\n        value: interval.name,\n        placeholder: 'Интервал ' + (j + 1),\n        onChange: e => changeIntervalHandler(e, i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"intervalP\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 49\n        }\n      }, \"\\u0418\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B \\u043E\\u0437\\u043D\\u0430\\u0447\\u0430\\u0435\\u0442 \\u043D\\u0430\\u0440\\u0443\\u0448\\u0435\\u043D\\u0438\\u0435, \\u0432\\u044B\\u0445\\u043E\\u0434 \\u0437\\u0430 \\u043F\\u0440\\u0435\\u0434\\u0435\\u043B\\u044B \\u043D\\u043E\\u0440\\u043C\\u044B?\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"isImportantYesContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"isImportantYes\",\n        id: \"isImportantYes\",\n        className: isImportantBtn(interval.important),\n        onClick: e => changeIntervalHandler(e, i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 53\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: textStatus(interval.important),\n        onClick: e => changeIntervalHandler(e, i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 53\n        }\n      }, \"\\u0414\\u0430\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"isImportantNoContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"isImportantNo\",\n        id: \"isImportantNo\",\n        className: isImportantBtn(!interval.important),\n        onClick: e => changeIntervalHandler(e, i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 53\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: textStatus(!interval.important),\n        onClick: e => changeIntervalHandler(e, i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 53\n        }\n      }, \"\\u041D\\u0435\\u0442\")), /*#__PURE__*/React.createElement(\"textarea\", {\n        className: \"intervalDescription\",\n        name: \"description\",\n        value: interval.description,\n        placeholder: \"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439\",\n        onChange: e => changeIntervalHandler(e, i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 49\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"intervalP2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 49\n        }\n      }, \"\\u0421\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u0431\\u0430\\u043B\\u043B\\u043E\\u0432 \\u043F\\u043E \\u0448\\u043A\\u0430\\u043B\\u0435 \\u043D\\u0443\\u0436\\u043D\\u043E \\u043D\\u0430\\u0431\\u0440\\u0430\\u0442\\u044C, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043F\\u043E\\u043F\\u0430\\u0441\\u0442\\u044C \\u0432 \\u0438\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B?\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"intervalMin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 53\n        }\n      }, \"\\u041E\\u0442 \"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        name: \"min\",\n        value: interval.min,\n        placeholder: \"\\u0431\\u0430\\u043B\\u043B\\u043E\\u0432\",\n        onChange: e => changeIntervalHandler(e, i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"intervalMax\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 643,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 53\n        }\n      }, \"\\u0414\\u043E \"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        name: \"max\",\n        value: interval.max,\n        placeholder: \"\\u0431\\u0430\\u043B\\u043B\\u043E\\u0432\",\n        onChange: e => changeIntervalHandler(e, i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 53\n        }\n      })));\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"adding\",\n      onClick: e => handleAddingInterval(e, i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 648,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(AddIcon, {\n      title: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u0438\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: textStatus(false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 41\n      }\n    }, \"\\u0415\\u0449\\u0451 \\u043E\\u0434\\u0438\\u043D \\u0438\\u043D\\u0442\\u0435\\u0440\\u0432\\u0430\\u043B\"))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"scaleAnswers\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 654,\n        columnNumber: 33\n      }\n    }, testData.answers[0] && testData.answers.map((answer, j) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: j,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 45\n        }\n      }, \"\\u041D\\u0430 \\u043A\\u0430\\u043A\\u0438\\u0435 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B \\u043D\\u0443\\u0436\\u043D\\u043E \\u043E\\u0442\\u0432\\u0435\\u0442\\u0438\\u0442\\u044C \\\"\", answer, \"\\\"?\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"scaleAnswer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 45\n        }\n      }, testData.questions[0] && testData.questions.map((q, k) => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          title: q,\n          className: isImportantBtn(testData.scales[i].scaleanswers && testData.scales[i].scaleanswers[j] && testData.scales[i].scaleanswers[j].questions && testData.scales[i].scaleanswers[j].questions.includes(k)),\n          onClick: e => changeScaleAnswersHandler(e, i, j, k),\n          key: k,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 53\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 57\n          }\n        }, k + 1));\n      })), testData.scales[i].scaleanswers[j] && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 53\n        }\n      }, \"\\u041D\\u0430 \\u0441\\u043A\\u043E\\u043B\\u044C\\u043A\\u043E \\u0431\\u0443\\u0434\\u0443\\u0442 \\u0443\\u043C\\u043D\\u043E\\u0436\\u0430\\u0442\\u044C\\u0441\\u044F \\u0431\\u0430\\u043B\\u043B\\u044B \\u043E\\u0442 \\u043E\\u0442\\u0432\\u0435\\u0442\\u0430 \\\"\", answer, \"\\\"?\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        name: \"k\",\n        placeholder: \"\\u041A\\u043E\\u044D\\u0444\\u0444\\u0438\\u0446\\u0438\\u0435\\u043D\\u0442\",\n        min: \"1\",\n        value: testData.scales[i].scaleanswers[j].k,\n        onChange: e => changeScaleAnswersHandler(e, i, j, null),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 53\n        }\n      })));\n    })));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"scaleAddingIcon\",\n    className: \"adding\",\n    onClick: e => handleAddingScale(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 694,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    title: \"\\u041D\\u043E\\u0432\\u0430\\u044F \\u0448\\u043A\\u0430\\u043B\\u0430\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 695,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: textStatus(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 696,\n      columnNumber: 21\n    }\n  }, \"\\u0415\\u0449\\u0451 \\u043E\\u0434\\u043D\\u0430 \\u0448\\u043A\\u0430\\u043B\\u0430\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"savebtns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"savedraftbtn\",\n    onClick: e => handleSaving(e, 'draft'),\n    onMouseEnter: e => handleSaveBtnClasses(e, false, true, false),\n    onMouseLeave: e => handleSaveBtnClasses(e, false, false, false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 701,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: saveBtnClasses.draft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 704,\n      columnNumber: 21\n    }\n  }, \" \\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0447\\u0435\\u0440\\u043D\\u043E\\u0432\\u0438\\u043A\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"savetestbtn\",\n    onClick: e => handleSaving(e, 'test'),\n    onMouseEnter: e => handleSaveBtnClasses(e, true, false, false),\n    onMouseLeave: e => handleSaveBtnClasses(e, false, false, false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 706,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: saveBtnClasses.test,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 709,\n      columnNumber: 21\n    }\n  }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0442\\u0435\\u0441\\u0442\")), testData._id && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"deletetestbtn\",\n    onClick: e => handleDeleteActivating(e),\n    onMouseEnter: e => handleSaveBtnClasses(e, false, false, true),\n    onMouseLeave: e => handleSaveBtnClasses(e, false, false, false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 714,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: saveBtnClasses.deletebtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 717,\n      columnNumber: 25\n    }\n  }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0442\\u0435\\u0441\\u0442\")), isDeleting && /*#__PURE__*/React.createElement(ConfirmWindow, {\n    text: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0442\\u0435\\u0441\\u0442?\",\n    confirm: e => handleDeleting(e),\n    cancel: e => handleDeleteActivating(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 723,\n      columnNumber: 21\n    }\n  })));\n};\nexport default AddTest;","map":{"version":3,"sources":["/Users/alisakrylova/Intro/client/src/components/AddTest.js"],"names":["React","useCallback","useContext","useEffect","useState","useHistory","classNames","AuthContext","createShortLink","useHttp","notify","showError","RegExps","ConfirmWindow","AddTest","token","request","history","drafts","setDrafts","fromDrafts","setFromDrafts","isDeleting","activateDeleting","errors","setErrors","name","link","saveBtnClasses","setSaveBtnClasses","test","draft","deletebtn","testData","setTestData","shortDescription","description","scales","intervals","min","max","important","scaleanswers","k","questions","answers","handleSaveBtnClasses","e","preventDefault","testClass","draftClass","deleteClass","isImportantBtn","isImportant","inactiveImportantBtn","activeImportantBtn","saveDraftBtnClasses","textStatus","isActive","inactiveText","activeText","fetchDrafts","fetched","Authorization","handleSaving","type","saveTest","saveTestDraft","checkFields","console","log","data","date","Date","message","_id","id","handleDeleteActivating","handleDeleting","deleteTest","shortLink","document","getElementById","value","setTimeout","push","doubleCheck","permission","testNameRegExp","linkRegExp","check","chooseDraft","target","changeHandler","handleAddingScale","handleDeletingScale","i","splice","length","handleAddingInterval","handleDeletingInterval","j","handleAddingAnswer","handleDeletingAnswer","handleAddingQuestion","handleDeletingQuestion","changeScaleHandler","changeIntervalHandler","parseInt","changeAnswersHandler","changeQuestionsHandler","changeScaleAnswersHandler","scale","index","indexOf","sort","a","b","colorBackground","el","c","side","color","style","keyPressedHandler","which","keyCode","key","body","interval","setInterval","clearInterval","map","answer","question","q","includes"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,WAAf,EAA4BC,UAA5B,EAAwCC,SAAxC,EAAmDC,QAAnD,QAAkE,OAAlE;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,UAAP,MAAuB,iBAAvB;AACA,OAAO,wBAAP;AACA,OAAO,0BAAP;AACA,SAAQC,WAAR,QAA0B,uBAA1B;AACA,OAAOC,eAAP,MAA4B,uCAA5B;AACA,SAAQC,OAAR,QAAsB,oBAAtB;;;AAGA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,SAAQC,OAAR,QAAsB,+BAAtB;AACA,OAAOC,aAAP,MAA0B,qCAA1B;AAGA,OAAO,MAAMC,OAAO,GAAG,MAAM;AAEzB,QAAM;AAACC,IAAAA;AAAD,MAAUb,UAAU,CAACK,WAAD,CAA1B;AACA,QAAM;AAACS,IAAAA;AAAD,MAAYP,OAAO,EAAzB;AACA,QAAMQ,OAAO,GAAGZ,UAAU,EAA1B;AAEA,QAAM,CAACa,MAAD,EAASC,SAAT,IAAsBf,QAAQ,EAApC;AACA,QAAM,CAACgB,UAAD,EAAaC,aAAb,IAA8BjB,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACkB,UAAD,EAAaC,gBAAb,IAAiCnB,QAAQ,CAAC,KAAD,CAA/C;AACA,QAAM,CAACoB,MAAD,EAASC,SAAT,IAAsBrB,QAAQ,CAAC;AAAEsB,IAAAA,IAAI,EAAE,EAAR;AAAYC,IAAAA,IAAI,EAAE;AAAlB,GAAD,CAApC;AACA,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCzB,QAAQ,CAAC;AAAC0B,IAAAA,IAAI,EAAE,WAAP;AAAoBC,IAAAA,KAAK,EAAE,WAA3B;AAAwCC,IAAAA,SAAS,EAAE;AAAnD,GAAD,CAApD;AAEA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0B9B,QAAQ,CAAC;AACrCsB,IAAAA,IAAI,EAAE,EAD+B;AAErCC,IAAAA,IAAI,EAAE,EAF+B;AAGrCQ,IAAAA,gBAAgB,EAAE,EAHmB;AAIrCC,IAAAA,WAAW,EAAE,EAJwB;AAKrCC,IAAAA,MAAM,EAAE,CAAC;AACLX,MAAAA,IAAI,EAAE,EADD;AAELY,MAAAA,SAAS,EAAE,CAAC;AACRZ,QAAAA,IAAI,EAAE,EADE;AAERU,QAAAA,WAAW,EAAE,EAFL;AAGRG,QAAAA,GAAG,EAAE,EAHG;AAIRC,QAAAA,GAAG,EAAE,EAJG;AAKRC,QAAAA,SAAS,EAAE;AALH,OAAD,CAFN;AASLC,MAAAA,YAAY,EAAE,CAAC;AACXC,QAAAA,CAAC,EAAE,EADQ;AAEXC,QAAAA,SAAS,EAAE;AAFA,OAAD;AATT,KAAD,CAL6B;AAmBrCA,IAAAA,SAAS,EAAE,CAAC,EAAD,CAnB0B;AAoBrCC,IAAAA,OAAO,EAAE,CAAC,EAAD;AApB4B,GAAD,CAAxC;;AAuBA,QAAMC,oBAAoB,GAAG,CAACC,CAAD,EAAIjB,IAAJ,EAAUC,KAAV,EAAiBC,SAAjB,KAA+B;AACxDe,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIC,SAAJ,EAAeC,UAAf,EAA2BC,WAA3B;AACA,QAAI,CAACrB,IAAL,EACImB,SAAS,GAAG,WAAZ,CADJ,KAEKA,SAAS,GAAG,gBAAZ;AAEL,QAAI,CAAClB,KAAL,EACImB,UAAU,GAAG,WAAb,CADJ,KAEKA,UAAU,GAAG,gBAAb;AAEL,QAAI,CAAClB,SAAL,EACImB,WAAW,GAAG,WAAd,CADJ,KAEKA,WAAW,GAAG,gBAAd;AAELtB,IAAAA,iBAAiB,CAAC;AAACC,MAAAA,IAAI,EAAEmB,SAAP;AAAkBlB,MAAAA,KAAK,EAAEmB,UAAzB;AAAqClB,MAAAA,SAAS,EAAEmB;AAAhD,KAAD,CAAjB;AACH,GAhBD;;AAkBA,QAAMC,cAAc,GAAGC,WAAW,IAAI;AACrC,WAAO/C,UAAU,CAAC;AAACgD,MAAAA,oBAAoB,EAAE,CAACD,WAAxB;AAAqCE,MAAAA,kBAAkB,EAAEF;AAAzD,KAAD,CAAjB;AACA,GAFD;;AAIA,QAAMG,mBAAmB,GAAGH,WAAW,IAAI;AACvC,WAAO/C,UAAU,CAAC;AAACgD,MAAAA,oBAAoB,EAAE,CAACD,WAAxB;AAAqCE,MAAAA,kBAAkB,EAAEF;AAAzD,KAAD,CAAjB;AACH,GAFD;;AAIA,QAAMI,UAAU,GAAGC,QAAQ,IAAI;AAC3B,WAAOpD,UAAU,CAAC;AAACqD,MAAAA,YAAY,EAAE,CAACD,QAAhB;AAA0BE,MAAAA,UAAU,EAAEF;AAAtC,KAAD,CAAjB;AACH,GAFD;;AAIA,QAAMG,WAAW,GAAG5D,WAAW,CAAC,YAAW;AACvC,QAAI;AACA,YAAM6D,OAAO,GAAG,MAAM9C,OAAO,CAAC,gBAAD,EAAmB,KAAnB,EAA0B,IAA1B,EAAgC;AACzD+C,QAAAA,aAAa,EAAG,UAAShD,KAAM;AAD0B,OAAhC,CAA7B;AAGAI,MAAAA,SAAS,CAAC2C,OAAD,CAAT;AACH,KALD,CAMA,OAAOf,CAAP,EAAU,CAAE;AACf,GAR8B,EAQ5B,CAAChC,KAAD,EAAQC,OAAR,CAR4B,CAA/B;;AAUA,QAAMgD,YAAY,GAAG,OAAMjB,CAAN,EAASkB,IAAT,KAAkB;AACnClB,IAAAA,CAAC,CAACC,cAAF;;AACA,YAAQiB,IAAR;AACI,WAAK,MAAL;AACI,cAAMC,QAAQ,EAAd;AACA;;AACJ,WAAK,OAAL;AACI,cAAMC,aAAa,EAAnB;AACA;AANR;AAQH,GAVD;;AAYA,QAAMA,aAAa,GAAG,YAAW;AAC7B,QAAI;AACA,UAAI,MAAMC,WAAW,CAAC,KAAD,CAArB,EAA8B;AAC1BC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBrC,QAArB;AACA,cAAMsC,IAAI,GAAG,MAAMvD,OAAO,CAAC,mBAAD,EAAsB,MAAtB,EAA8B,EAAC,GAAGiB,QAAJ;AAAcuC,UAAAA,IAAI,EAAE,IAAIC,IAAJ;AAApB,SAA9B,CAA1B;;AACA,YAAIF,IAAI,CAACG,OAAL,KAAiB,gBAArB,EAAuC;AACnChE,UAAAA,MAAM,CAAC,mBAAD,CAAN;AACAwB,UAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAc0C,YAAAA,GAAG,EAAEJ,IAAI,CAACK;AAAxB,WAAD,CAAX;AACAP,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBC,IAAtB,EAHmC,CAInC;AACH;AACJ;AACJ,KAXD,CAYA,OAAOxB,CAAP,EAAU,CAAE;AACf,GAdD;;AAgBA,QAAMmB,QAAQ,GAAG,YAAW;AACxB,QAAI;AACA,UAAI,MAAME,WAAW,CAAC,IAAD,CAArB,EAA6B;AACzBC,QAAAA,OAAO,CAACC,GAAR,CAAYrC,QAAZ;AACA,cAAMsC,IAAI,GAAG,MAAMvD,OAAO,CAAC,kBAAD,EAAqB,MAArB,EAA6B,EAAC,GAAGiB,QAAJ;AAAcuC,UAAAA,IAAI,EAAE,IAAIC,IAAJ;AAApB,SAA7B,CAA1B;;AACA,YAAIF,IAAI,CAACG,OAAL,KAAiB,eAArB,EAAsC;AAClChE,UAAAA,MAAM,CAAC,eAAD,CAAN;AACAwB,UAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAc0C,YAAAA,GAAG,EAAEJ,IAAI,CAACK;AAAxB,WAAD,CAAX;AACH;AACJ;AACJ,KATD,CAUA,OAAO7B,CAAP,EAAU,CAAE;AACf,GAZD;;AAcA,QAAM8B,sBAAsB,GAAG9B,CAAC,IAAI;AAChCA,IAAAA,CAAC,CAACC,cAAF;AACAzB,IAAAA,gBAAgB,CAAC,CAACD,UAAF,CAAhB;AACH,GAHD;;AAKA,QAAMwD,cAAc,GAAG,MAAO/B,CAAP,IAAa;AAChCA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAM+B,UAAU,EAAhB;AACH,GAHD;;AAKA,QAAMA,UAAU,GAAG9E,WAAW,CAAC,YAAW;AACtC,QAAI;AACA,YAAM+E,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAAtD;AACA,YAAMZ,IAAI,GAAG,MAAMvD,OAAO,CAAE,cAAagE,SAAU,OAAzB,EAAiC,MAAjC,EAAyC,IAAzC,CAA1B;;AACA,UAAIT,IAAI,CAACG,OAAL,KAAiB,iBAArB,EAAwC;AACpChE,QAAAA,MAAM,CAAC,aAAD,CAAN;AACA0E,QAAAA,UAAU,CAAC,MAAMnE,OAAO,CAACoE,IAAR,CAAa,GAAb,CAAP,EAA0B,IAA1B,CAAV;AACA9D,QAAAA,gBAAgB,CAAC,CAACD,UAAF,CAAhB;AACH;AACJ,KARD,CASA,OAAOyB,CAAP,EAAU,CAAE;AACf,GAX6B,EAW3B,CAAChC,KAAD,EAAQC,OAAR,CAX2B,CAA9B;;AAaA,QAAMoD,WAAW,GAAG,MAAMkB,WAAN,IAAsB;AACtC,QAAIC,UAAU,GAAG,KAAjB;;AACA,QAAI;AAEA,UAAI7D,IAAI,GAAG,EAAX;AAAA,UAAeC,IAAI,GAAG,EAAtB;;AACA,UAAIM,QAAQ,CAACP,IAAT,IAAiB,CAACd,OAAO,CAAC4E,cAAR,CAAuB1D,IAAvB,CAA4BG,QAAQ,CAACP,IAArC,CAAtB,EAAkE;AAC9DA,QAAAA,IAAI,GAAG,wDAAP;AACA,cAAMf,SAAS,CAAC,IAAD,EAAO,UAAP,EAAmB,eAAnB,CAAf;AACH,OAHD,MAIK,IAAI,CAACsB,QAAQ,CAACP,IAAd,EAAoB;AACrBA,QAAAA,IAAI,GAAG,2BAAP;AACA,SAAC4D,WAAD,IAAgB5E,MAAM,CAAC,qDAAD,CAAtB;AACA,cAAMC,SAAS,CAAC,IAAD,EAAO,UAAP,EAAmB,eAAnB,CAAf;AACH;;AACD,UAAIsB,QAAQ,CAACN,IAAT,IAAiB,CAACf,OAAO,CAAC6E,UAAR,CAAmB3D,IAAnB,CAAwBG,QAAQ,CAACN,IAAjC,CAAtB,EAA8D;AAC1D,YAAID,IAAJ,EAAS;AACLO,UAAAA,QAAQ,CAACN,IAAT,GAAgB,EAAhB;AACH,SAFD,MAGK,IAAI,CAACD,IAAL,EAAU;AACXC,UAAAA,IAAI,GAAG,sDAAP;AACA,gBAAMhB,SAAS,CAAC,IAAD,EAAO,UAAP,EAAmB,eAAnB,CAAf;AACH;AACJ,OARD,MASK,IAAI,CAACsB,QAAQ,CAACN,IAAd,EAAoB;AACrB,YAAI,CAACD,IAAL,EAAWO,QAAQ,CAACN,IAAT,GAAgBnB,eAAe,CAACyB,QAAQ,CAACP,IAAV,CAA/B,CAAX,KACKO,QAAQ,CAACN,IAAT,GAAgB,EAAhB;AACR;;AAED,YAAMF,SAAS,CAAC;AAACC,QAAAA,IAAD;AAAOC,QAAAA;AAAP,OAAD,CAAf;AAEA,OAACD,IAAD,KAAS,MAAMf,SAAS,CAAC,KAAD,EAAQ,UAAR,EAAoB,eAApB,CAAxB;AACA,OAACgB,IAAD,KAAS,MAAMhB,SAAS,CAAC,KAAD,EAAQ,UAAR,EAAoB,eAApB,CAAxB;AAEA,UAAI,CAACe,IAAD,IAAS,CAACC,IAAd,EACI4D,UAAU,GAAG,IAAb;AAEJ,UAAIG,KAAK,GAAG,EAAZ;AACA,UAAI,CAACzD,QAAQ,CAACP,IAAd,EAAoBgE,KAAK,IAAI,GAAT;AACpB,UAAI,CAACzD,QAAQ,CAACW,SAAT,CAAmB,CAAnB,CAAL,EAA4B8C,KAAK,IAAI,GAAT;AAC5B,UAAI,CAACzD,QAAQ,CAACY,OAAT,CAAiB,CAAjB,CAAL,EAA0B6C,KAAK,IAAI,GAAT;;AAE1B,UAAIJ,WAAJ,EAAgB;AACZ,gBAAQI,KAAR;AACI,eAAK,KAAL;AACIhF,YAAAA,MAAM,CAAC,iEAAD,CAAN;AACA;;AACJ,eAAK,IAAL;AACIA,YAAAA,MAAM,CAAC,8CAAD,CAAN;AACA;;AACJ,eAAK,IAAL;AACIA,YAAAA,MAAM,CAAC,iDAAD,CAAN;AACA;;AACJ,eAAK,IAAL;AACIA,YAAAA,MAAM,CAAC,yDAAD,CAAN;AACA;;AACJ,eAAK,GAAL;AACIA,YAAAA,MAAM,CAAC,6BAAD,CAAN;AACA;;AACJ,eAAK,GAAL;AACIA,YAAAA,MAAM,CAAC,qCAAD,CAAN;AACA;AAlBR;;AAoBA,YAAIgF,KAAK,KAAK,EAAd,EAAkBH,UAAU,GAAG,KAAb;AACrB;;AAED,UAAI,CAACA,UAAD,IAAetD,QAAQ,CAACP,IAA5B,EACI0D,UAAU,CAAC,MAAMjB,aAAa,EAApB,EAAwB,KAAxB,CAAV;AAEJ,aAAOoB,UAAP;AACH,KAnED,CAoEA,OAAOxC,CAAP,EAAU,CAAE;AACf,GAvED;;AAyEA,QAAM4C,WAAW,GAAG5C,CAAC,IAAI;AACrBA,IAAAA,CAAC,CAACC,cAAF;AACAd,IAAAA,WAAW,CAAChB,MAAM,CAAC6B,CAAC,CAAC6C,MAAF,CAAST,KAAV,CAAP,CAAX;AACH,GAHD;;AAKA,QAAMU,aAAa,GAAG,MAAO9C,CAAP,IAAa;AAC/BA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAID,CAAC,CAAC6C,MAAF,CAASlE,IAAT,KAAkB,MAAtB,EAA8B;AAC1B,UAAIC,IAAI,GAAGnB,eAAe,CAACuC,CAAC,CAAC6C,MAAF,CAAST,KAAV,CAA1B;AACA,YAAMjD,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAc,SAACc,CAAC,CAAC6C,MAAF,CAASlE,IAAV,GAAiBqB,CAAC,CAAC6C,MAAF,CAAST,KAAxC;AAA+CxD,QAAAA;AAA/C,OAAD,CAAjB;AACH,KAHD,MAKI,MAAMO,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAc,OAACc,CAAC,CAAC6C,MAAF,CAASlE,IAAV,GAAiBqB,CAAC,CAAC6C,MAAF,CAAST;AAAxC,KAAD,CAAjB;AACP,GARD;;AAUA,QAAMW,iBAAiB,GAAG/C,CAAC,IAAI;AAC3BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMX,MAAM,GAAGJ,QAAQ,CAACI,MAAxB;AACAA,IAAAA,MAAM,CAACgD,IAAP,CAAY;AACR3D,MAAAA,IAAI,EAAE,EADE;AAERY,MAAAA,SAAS,EAAE,CAAC;AACRZ,QAAAA,IAAI,EAAE,EADE;AAERU,QAAAA,WAAW,EAAE,EAFL;AAGRG,QAAAA,GAAG,EAAE,EAHG;AAIRC,QAAAA,GAAG,EAAE,EAJG;AAKRC,QAAAA,SAAS,EAAE;AALH,OAAD,CAFH;AASRC,MAAAA,YAAY,EAAE,CAAC;AACXC,QAAAA,CAAC,EAAE,EADQ;AAEXC,QAAAA,SAAS,EAAE;AAFA,OAAD;AATN,KAAZ;AAcAV,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcI,MAAAA;AAAd,KAAD,CAAX;AACH,GAlBD;;AAoBA,QAAM0D,mBAAmB,GAAG,CAAChD,CAAD,EAAIiD,CAAJ,KAAU;AAClCjD,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIX,MAAM,GAAGJ,QAAQ,CAACI,MAAtB;AACAA,IAAAA,MAAM,CAAC4D,MAAP,CAAcD,CAAd,EAAiB,CAAjB;AACA9D,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcI,MAAAA;AAAd,KAAD,CAAX;AACA,QAAIA,MAAM,CAAC6D,MAAP,IAAiB,CAArB,EAAwBJ,iBAAiB,CAAC/C,CAAD,CAAjB;AAC3B,GAND;;AAQA,QAAMoD,oBAAoB,GAAG,CAACpD,CAAD,EAAIiD,CAAJ,KAAU;AACnCjD,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIX,MAAM,GAAGJ,QAAQ,CAACI,MAAtB;AACA,QAAIC,SAAS,GAAGD,MAAM,CAAC2D,CAAD,CAAN,CAAU,WAAV,CAAhB;AACA1D,IAAAA,SAAS,CAAC+C,IAAV,CAAe;AACP3D,MAAAA,IAAI,EAAE,EADC;AAEPU,MAAAA,WAAW,EAAE,EAFN;AAGPG,MAAAA,GAAG,EAAE,EAHE;AAIPC,MAAAA,GAAG,EAAE,EAJE;AAKPC,MAAAA,SAAS,EAAE;AALJ,KAAf;AAOAJ,IAAAA,MAAM,CAAC,WAAD,CAAN,GAAsBC,SAAtB;AACAJ,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcI,MAAAA;AAAd,KAAD,CAAX;AACH,GAbD;;AAeA,QAAM+D,sBAAsB,GAAG,CAACrD,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,KAAa;AACxCtD,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIX,MAAM,GAAGJ,QAAQ,CAACI,MAAtB;AACA,QAAIC,SAAS,GAAGD,MAAM,CAAC2D,CAAD,CAAN,CAAU,WAAV,CAAhB;AACA1D,IAAAA,SAAS,CAAC2D,MAAV,CAAiBI,CAAjB,EAAoB,CAApB;AACAhE,IAAAA,MAAM,CAAC,WAAD,CAAN,GAAsBC,SAAtB;AACAJ,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcI,MAAAA;AAAd,KAAD,CAAX;AACA,QAAIC,SAAS,CAAC4D,MAAV,IAAoB,CAAxB,EAA2BC,oBAAoB,CAACpD,CAAD,EAAIiD,CAAJ,CAApB;AAC9B,GARD;;AAUA,QAAMM,kBAAkB,GAAGvD,CAAC,IAAI;AAC5BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMH,OAAO,GAAGZ,QAAQ,CAACY,OAAzB,CAF4B,CAG5B;;AACAA,IAAAA,OAAO,CAACwC,IAAR,CAAa,EAAb;AACAnD,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcY,MAAAA;AAAd,KAAD,CAAX;AACH,GAND;;AAQA,QAAM0D,oBAAoB,GAAG,CAACxD,CAAD,EAAIiD,CAAJ,KAAU;AACnCjD,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIH,OAAO,GAAGZ,QAAQ,CAACY,OAAvB;AACAA,IAAAA,OAAO,CAACoD,MAAR,CAAeD,CAAf,EAAkB,CAAlB;AACA9D,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcY,MAAAA;AAAd,KAAD,CAAX;AACA,QAAIA,OAAO,CAACqD,MAAR,IAAkB,CAAtB,EAAyBI,kBAAkB,CAACvD,CAAD,CAAlB;AAC5B,GAND;;AAQA,QAAMyD,oBAAoB,GAAGzD,CAAC,IAAI;AAC9BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMJ,SAAS,GAAGX,QAAQ,CAACW,SAA3B,CAF8B,CAG9B;;AACAA,IAAAA,SAAS,CAACyC,IAAV,CAAe,EAAf;AACAnD,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcW,MAAAA;AAAd,KAAD,CAAX;AACH,GAND;;AAQA,QAAM6D,sBAAsB,GAAG,CAAC1D,CAAD,EAAIiD,CAAJ,KAAU;AACrCjD,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIJ,SAAS,GAAGX,QAAQ,CAACW,SAAzB;AACAA,IAAAA,SAAS,CAACqD,MAAV,CAAiBD,CAAjB,EAAoB,CAApB;AACA9D,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcW,MAAAA;AAAd,KAAD,CAAX;AACA,QAAIA,SAAS,CAACsD,MAAV,IAAoB,CAAxB,EAA2BM,oBAAoB,CAACzD,CAAD,CAApB;AAC9B,GAND;;AAQA,QAAM2D,kBAAkB,GAAG,CAAC3D,CAAD,EAAIiD,CAAJ,KAAU;AACjC,QAAI3D,MAAM,GAAGJ,QAAQ,CAACI,MAAtB;AACA,QAAIU,CAAC,CAAC6C,MAAF,CAASlE,IAAT,KAAkB,GAAlB,IAAyB,CAACqB,CAAC,CAAC6C,MAAF,CAAST,KAAvC,EACI9C,MAAM,CAAC2D,CAAD,CAAN,CAAUjD,CAAC,CAAC6C,MAAF,CAASlE,IAAnB,IAA2B,CAA3B,CADJ,KAGIW,MAAM,CAAC2D,CAAD,CAAN,CAAUjD,CAAC,CAAC6C,MAAF,CAASlE,IAAnB,IAA2BqB,CAAC,CAAC6C,MAAF,CAAST,KAApC;AACJjD,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcI,MAAAA;AAAd,KAAD,CAAX;AACH,GAPD;;AASA,QAAMsE,qBAAqB,GAAG,CAAC5D,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,KAAa;AACvCtD,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIX,MAAM,GAAGJ,QAAQ,CAACI,MAAtB;AACA,QAAIC,SAAS,GAAGD,MAAM,CAAC2D,CAAD,CAAN,CAAU,WAAV,CAAhB,CAHuC,CAKvC;;AACA,QAAIjD,CAAC,CAAC6C,MAAF,CAAShB,EAAT,KAAgB,gBAAhB,IAAoC7B,CAAC,CAAC6C,MAAF,CAAShB,EAAT,KAAgB,eAAxD,EACItC,SAAS,CAAC+D,CAAD,CAAT,CAAa,WAAb,IAA4B,CAAC/D,SAAS,CAAC+D,CAAD,CAAT,CAAa,WAAb,CAA7B,CADJ,KAGK,IAAItD,CAAC,CAAC6C,MAAF,CAASlE,IAAT,KAAkB,KAAlB,IAA2BqB,CAAC,CAAC6C,MAAF,CAASlE,IAAT,KAAkB,KAAjD,EACDY,SAAS,CAAC+D,CAAD,CAAT,CAAatD,CAAC,CAAC6C,MAAF,CAASlE,IAAtB,IAA8BkF,QAAQ,CAAC7D,CAAC,CAAC6C,MAAF,CAAST,KAAV,CAAtC,CADC,KAGD7C,SAAS,CAAC+D,CAAD,CAAT,CAAatD,CAAC,CAAC6C,MAAF,CAASlE,IAAtB,IAA8BqB,CAAC,CAAC6C,MAAF,CAAST,KAAvC;AAEJ9C,IAAAA,MAAM,CAAC2D,CAAD,CAAN,CAAU,WAAV,IAAyB1D,SAAzB;AACAJ,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcI,MAAAA;AAAd,KAAD,CAAX;AACH,GAhBD;;AAkBA,QAAMwE,oBAAoB,GAAG,CAAC9D,CAAD,EAAIiD,CAAJ,KAAU;AACnCjD,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIH,OAAO,GAAGZ,QAAQ,CAACY,OAAvB;AACAA,IAAAA,OAAO,CAACmD,CAAD,CAAP,GAAajD,CAAC,CAAC6C,MAAF,CAAST,KAAtB;AACAjD,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcY,MAAAA;AAAd,KAAD,CAAX;AACH,GALD;;AAOA,QAAMiE,sBAAsB,GAAG,CAAC/D,CAAD,EAAIiD,CAAJ,KAAU;AACrCjD,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIJ,SAAS,GAAGX,QAAQ,CAACW,SAAzB;AACAA,IAAAA,SAAS,CAACoD,CAAD,CAAT,GAAejD,CAAC,CAAC6C,MAAF,CAAST,KAAxB;AACAjD,IAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcW,MAAAA;AAAd,KAAD,CAAX;AACH,GALD;;AAOA,QAAMmE,yBAAyB,GAAG,CAAChE,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,EAAU1D,CAAV,KAAgB;AAC9CI,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAI;AACA,UAAIuB,IAAI,GAAGtC,QAAX;AACA,UAAI+E,KAAK,GAAGzC,IAAI,CAAClC,MAAL,CAAY2D,CAAZ,CAAZ;AACA,UAAIpD,SAAS,GAAG,EAAhB;AAAA,UAAoBqE,KAApB;AAAA,UAA2BvE,YAAY,GAAG,EAA1C;AAEA,UAAIsE,KAAK,CAACtE,YAAN,CAAmB2D,CAAnB,CAAJ,EACI3D,YAAY,GAAGsE,KAAK,CAACtE,YAAN,CAAmB2D,CAAnB,CAAf,CADJ,KAGI3D,YAAY,GAAG,EAAf;AAEJ,UAAIK,CAAC,CAAC6C,MAAF,CAASlE,IAAT,KAAkB,GAAtB,EACIgB,YAAY,CAACC,CAAb,GAAiBiE,QAAQ,CAAC7D,CAAC,CAAC6C,MAAF,CAAST,KAAV,CAAzB,CADJ,KAGK;AACD,YAAIzC,YAAY,CAACE,SAAjB,EAA4B;AACxBA,UAAAA,SAAS,GAAGF,YAAY,CAACE,SAAzB;AACAqE,UAAAA,KAAK,GAAGrE,SAAS,CAACsE,OAAV,CAAkBvE,CAAlB,CAAR;AACA,cAAIsE,KAAK,IAAI,CAAC,CAAd,EACIrE,SAAS,CAACyC,IAAV,CAAe1C,CAAf,EADJ,KAGIC,SAAS,CAACqD,MAAV,CAAiBgB,KAAjB,EAAwB,CAAxB;AACP,SAPD,MASIrE,SAAS,CAACyC,IAAV,CAAe1C,CAAf;;AAEJC,QAAAA,SAAS,CAACuE,IAAV,CAAe,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAAJ,GAAQ,CAAR,GAAY,CAAC,CAAtC;AACA3E,QAAAA,YAAY,CAACE,SAAb,GAAyBA,SAAzB;AACH;AAEDoE,MAAAA,KAAK,CAACtE,YAAN,CAAmB2D,CAAnB,IAAwB3D,YAAxB;AACA6B,MAAAA,IAAI,CAAClC,MAAL,CAAY2D,CAAZ,IAAiBgB,KAAjB;AACA9E,MAAAA,WAAW,CAAC,EAAC,GAAGD,QAAJ;AAAcsC,QAAAA;AAAd,OAAD,CAAX;AACH,KAhCD,CAiCA,OAAOxB,CAAP,EAAU,CAAE;AACf,GArCD;;AAuCA,QAAMuE,eAAe,GAAG,CAACvE,CAAD,EAAIwE,EAAJ,EAAQvB,CAAR,EAAWK,CAAX,EAAcmB,CAAd,EAAiBC,IAAjB,KAA0B;AAC9C,QAAI;AACA,UAAIC,KAAJ;;AACA,cAAQF,CAAR;AACI,aAAK,KAAL;AACI,cAAIC,IAAJ,EAAUxC,QAAQ,CAACC,cAAT,CAAwBqC,EAAE,GAAGvB,CAAL,GAASK,CAAjC,EAAoCsB,KAApC,GAA4C,iIAA5C,CAAV,KACK1C,QAAQ,CAACC,cAAT,CAAwBqC,EAAE,GAAGvB,CAAL,GAASK,CAAjC,EAAoCsB,KAApC,GAA4C,iIAA5C;AACL;;AAEA,aAAK,OAAL;AACI1C,UAAAA,QAAQ,CAACC,cAAT,CAAwBqC,EAAE,GAAGvB,CAAL,GAASK,CAAjC,EAAoCsB,KAApC,GAA4C,wFAA5C;AACJ;AARR;AAUH,KAZD,CAaA,OAAO5E,CAAP,EAAU,CAAE;AACf,GAfD;;AAiBA,QAAM6E,iBAAiB,GAAG,CAAC7E,CAAD,EAAIiD,CAAJ,KAAU;AAChCjD,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAID,CAAC,CAAC8E,KAAF,IAAW,EAAX,IAAiB9E,CAAC,CAAC+E,OAAF,IAAa,EAAlC,EAAsC;AAClC,UAAI/E,CAAC,CAAC6C,MAAF,CAASlE,IAAT,KAAkB,GAAtB,EACI8E,oBAAoB,CAACzD,CAAD,CAApB,CADJ,KAEK,IAAIA,CAAC,CAAC6C,MAAF,CAASlE,IAAT,KAAkB,GAAtB,EACD4E,kBAAkB,CAACvD,CAAD,CAAlB;AACP;;AAED,QAAI,CAACA,CAAC,CAAC8E,KAAF,IAAW,CAAX,IAAgB9E,CAAC,CAAC+E,OAAF,IAAa,CAA7B,IAAkC/E,CAAC,CAACgF,GAAF,KAAU,WAA5C,IACDhF,CAAC,CAAC8E,KAAF,IAAW,EADV,IACgB9E,CAAC,CAAC+E,OAAF,IAAa,EAD7B,IACmC/E,CAAC,CAACgF,GAAF,KAAU,QAD9C,KAC2DhF,CAAC,CAAC6C,MAAF,CAAST,KAAT,KAAmB,EADlF,EACqF;AACjF,UAAIpC,CAAC,CAAC6C,MAAF,CAASlE,IAAT,KAAkB,GAAtB,EACI+E,sBAAsB,CAAC1D,CAAD,EAAIiD,CAAJ,CAAtB,CADJ,KAEK,IAAIjD,CAAC,CAAC6C,MAAF,CAASlE,IAAT,KAAkB,GAAtB,EACD6E,oBAAoB,CAACxD,CAAD,EAAIiD,CAAJ,CAApB;AACP;AAEJ,GAlBD;;AAqBA7F,EAAAA,SAAS,CAAC,MAAM;AACZ8E,IAAAA,QAAQ,CAAC+C,IAAT,CAAcL,KAAd,GAAsB,wFAAtB;AACH,GAFQ,EAEN,EAFM,CAAT;AAIAxH,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIiB,UAAU,IAAI,CAACF,MAAnB,EAA0B;AACtB2C,MAAAA,WAAW;AACd,KAFD,MAGK,IAAI,CAACzC,UAAD,IAAeF,MAAf,IAAyBe,QAAQ,CAACP,IAAtC,EAA2C;AAC5CyC,MAAAA,aAAa,GAD+B,CAE5C;;AACAjC,MAAAA,WAAW,CAAC;AACR0C,QAAAA,EAAE,EAAE,EADI;AAERlD,QAAAA,IAAI,EAAE,EAFE;AAGRC,QAAAA,IAAI,EAAE,EAHE;AAIRQ,QAAAA,gBAAgB,EAAE,EAJV;AAKRC,QAAAA,WAAW,EAAE,EALL;AAMRC,QAAAA,MAAM,EAAE,CAAC;AACLX,UAAAA,IAAI,EAAE,EADD;AAELY,UAAAA,SAAS,EAAE,CAAC;AACRZ,YAAAA,IAAI,EAAE,EADE;AAERU,YAAAA,WAAW,EAAE,EAFL;AAGRG,YAAAA,GAAG,EAAE,EAHG;AAIRC,YAAAA,GAAG,EAAE,EAJG;AAKRC,YAAAA,SAAS,EAAE;AALH,WAAD,CAFN;AASLC,UAAAA,YAAY,EAAE,CAAC;AACXC,YAAAA,CAAC,EAAE,EADQ;AAEXC,YAAAA,SAAS,EAAE;AAFA,WAAD;AATT,SAAD,CANA;AAqBRA,QAAAA,SAAS,EAAE,CAAC,EAAD,CArBH;AAsBRC,QAAAA,OAAO,EAAE,CAAC,EAAD;AAtBD,OAAD,CAAX;AAwBH;AACJ,GAhCQ,EAgCN,CAACzB,UAAD,CAhCM,CAAT;AAkCAjB,EAAAA,SAAS,CAAC,MAAM;AACf,UAAM8H,QAAQ,GAAGC,WAAW,CAAC,MAAM;AAC/B,UAAIjG,QAAQ,CAACP,IAAb,EACIyC,aAAa;AAChB,KAHuB,EAGrB,KAHqB,CAA5B;AAKG,WAAO,MAAMgE,aAAa,CAACF,QAAD,CAA1B;AACH,GAPQ,EAON,CAAChG,QAAQ,CAACP,IAAV,EAAgBO,QAAQ,CAACE,gBAAzB,EAA2CF,QAAQ,CAACG,WAApD,EAAiEH,QAAQ,CAAC0C,GAA1E,CAPM,CAAT;AASA,sBACI;AAAK,IAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iFAFJ,eAII;AAAQ,IAAA,QAAQ,EAAI,MAAMtD,aAAa,CAAC,CAACD,UAAF,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,YAAY,MAApB;AAAqB,IAAA,KAAK,EAAG,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDADJ,eAEI;AAAQ,IAAA,KAAK,EAAG,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iFAFJ,CAJJ,EAUQA,UAAU,IAAIF,MAAd,iBACC;AAAQ,IAAA,YAAY,EAAG,EAAvB;AAA0B,IAAA,QAAQ,EAAI6B,CAAC,IAAI4C,WAAW,CAAC5C,CAAD,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,KAAK,EAAG,EAAhB;AAAmB,IAAA,QAAQ,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yGADJ,EAEI7B,MAAM,CAACkH,GAAP,CAAW,CAACrG,KAAD,EAAQiE,CAAR,KAAc;AACtB,wBACI;AAAQ,MAAA,GAAG,EAAIA,CAAf;AAAkB,MAAA,KAAK,EAAIA,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA+BjE,KAAK,CAACL,IAArC,CADJ;AAGH,GAJA,CAFJ,CAXT,eAqBI;AAAK,IAAA,SAAS,EAAG,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yGADJ,eAGI;AAAK,IAAA,SAAS,EAAG,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACQO,QAAQ,CAACP,IAAT,KAAkB,cAAlB,iBACA;AAAO,IAAA,IAAI,EAAG,MAAd;AAAqB,IAAA,IAAI,EAAG,MAA5B;AAAmC,IAAA,EAAE,EAAG,UAAxC;AAAmD,IAAA,KAAK,EAAIO,QAAQ,CAACP,IAArE;AAA2E,IAAA,WAAW,EAAG,mGAAzF;AAA6G,IAAA,QAAQ,EAAIqB,CAAC,IAAI8C,aAAa,CAAC9C,CAAD,CAA3I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFR,EAGQd,QAAQ,CAACP,IAAT,KAAkB,cAAlB,iBACA;AAAO,IAAA,IAAI,EAAG,MAAd;AAAqB,IAAA,IAAI,EAAG,MAA5B;AAAmC,IAAA,EAAE,EAAG,UAAxC;AAAmD,IAAA,KAAK,EAAG,EAA3D;AAA8D,IAAA,WAAW,EAAG,mGAA5E;AAAgG,IAAA,QAAQ,EAAIqB,CAAC,IAAI8C,aAAa,CAAC9C,CAAD,CAA9H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJR,eAKI;AAAG,IAAA,SAAS,EAAG,OAAf;AAAuB,IAAA,EAAE,EAAG,eAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6CvB,MAAM,CAACE,IAApD,CALJ,CAHJ,eAYI;AAAK,IAAA,SAAS,EAAG,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yFADJ,eAEI;AAAO,IAAA,IAAI,EAAG,MAAd;AAAqB,IAAA,EAAE,EAAG,UAA1B;AAAqC,IAAA,IAAI,EAAG,MAA5C;AAAmD,IAAA,KAAK,EAAIO,QAAQ,CAACN,IAArE;AAA2E,IAAA,WAAW,EAAG,iFAAzF;AAA0G,IAAA,QAAQ,EAAIoB,CAAC,IAAI8C,aAAa,CAAC9C,CAAD,CAAxI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAZJ,CArBJ,eAuCI;AAAK,IAAA,SAAS,EAAG,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mGADJ,eAEI;AAAU,IAAA,IAAI,EAAG,kBAAjB;AAAoC,IAAA,KAAK,EAAId,QAAQ,CAACE,gBAAtD;AAAwE,IAAA,WAAW,EAAG,6ZAAtF;AAAqK,IAAA,QAAQ,EAAIY,CAAC,IAAI8C,aAAa,CAAC9C,CAAD,CAAnM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAvCJ,eA4CI;AAAK,IAAA,SAAS,EAAG,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDADJ,eAEI;AAAU,IAAA,IAAI,EAAG,aAAjB;AAA+B,IAAA,KAAK,EAAId,QAAQ,CAACG,WAAjD;AAA8D,IAAA,WAAW,EAAG,+VAA5E;AAA+I,IAAA,QAAQ,EAAIW,CAAC,IAAI8C,aAAa,CAAC9C,CAAD,CAA7K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CA5CJ,eAkDI;AAAK,IAAA,SAAS,EAAG,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mGADJ,CAlDJ,eAsDI;AAAK,IAAA,SAAS,EAAG,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQd,QAAQ,CAACY,OAAT,CAAiBuF,GAAjB,CAAqB,CAACC,MAAD,EAASrC,CAAT,KAAe;AAChC,wBACI;AAAK,MAAA,SAAS,EAAG,aAAjB;AAA+B,MAAA,GAAG,EAAIA,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMA,CAAC,GAAG,CAAV,CADJ,eAEI;AAAO,MAAA,IAAI,EAAG,MAAd;AAAqB,MAAA,IAAI,EAAG,GAA5B;AAAgC,MAAA,EAAE,EAAI,MAAMA,CAA5C;AAA+C,MAAA,WAAW,EAAG,kFAA7D;AAA+E,MAAA,KAAK,EAAI/D,QAAQ,CAACY,OAAT,CAAiBmD,CAAjB,CAAxF;AACO,MAAA,QAAQ,EAAKjD,CAAC,IAAI8D,oBAAoB,CAAC9D,CAAD,EAAIiD,CAAJ,CAD7C;AAEO,MAAA,OAAO,EAAKjD,CAAC,IAAI6E,iBAAiB,CAAC7E,CAAD,EAAIiD,CAAJ,CAFzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAMI,oBAAC,UAAD;AAAY,MAAA,YAAY,EAAIjD,CAAC,IAAIuE,eAAe,CAACvE,CAAD,EAAI,GAAJ,EAASiD,CAAT,EAAY,EAAZ,EAAgB,KAAhB,EAAuB,KAAvB,CAAhD;AAA+E,MAAA,YAAY,EAAIjD,CAAC,IAAIuE,eAAe,CAACvE,CAAD,EAAI,GAAJ,EAASiD,CAAT,EAAY,EAAZ,EAAgB,OAAhB,EAAyB,KAAzB,CAAnH;AAAoJ,MAAA,OAAO,EAAKjD,CAAC,IAAIwD,oBAAoB,CAACxD,CAAD,EAAIiD,CAAJ,CAAzL;AAAkM,MAAA,MAAM,EAAG,+IAA3M;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,CADJ;AASH,GAVD,CAFR,CADJ,eAgBI;AAAK,IAAA,OAAO,EAAKjD,CAAC,IAAIuD,kBAAkB,CAACvD,CAAD,CAAxC;AAA8C,IAAA,SAAS,EAAG,QAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAG,gHAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAG,IAAA,SAAS,EAAIU,UAAU,CAAC,KAAD,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mIAFJ,CAhBJ,CAtDJ,eA4EI;AAAK,IAAA,SAAS,EAAG,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDADJ,CA5EJ,eAgFI;AAAK,IAAA,SAAS,EAAG,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAG,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQxB,QAAQ,CAACW,SAAT,CAAmBwF,GAAnB,CAAuB,CAACE,QAAD,EAAWtC,CAAX,KAAiB;AACpC,wBACI;AAAK,MAAA,SAAS,EAAG,aAAjB;AAA+B,MAAA,GAAG,EAAIA,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMA,CAAC,GAAG,CAAV,CADJ,eAGI;AAAO,MAAA,IAAI,EAAG,MAAd;AAAqB,MAAA,IAAI,EAAG,GAA5B;AAAgC,MAAA,EAAE,EAAI,MAAMA,CAA5C;AAA+C,MAAA,WAAW,EAAG,4EAA7D;AAA8E,MAAA,KAAK,EAAI/D,QAAQ,CAACW,SAAT,CAAmBoD,CAAnB,CAAvF;AAA8G,MAAA,QAAQ,EAAKjD,CAAC,IAAI+D,sBAAsB,CAAC/D,CAAD,EAAIiD,CAAJ,CAAtJ;AAA+J,MAAA,OAAO,EAAKjD,CAAC,IAAI6E,iBAAiB,CAAC7E,CAAD,EAAIiD,CAAJ,CAAjM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,eAII,oBAAC,UAAD;AAAY,MAAA,YAAY,EAAIjD,CAAC,IAAIuE,eAAe,CAACvE,CAAD,EAAI,GAAJ,EAASiD,CAAT,EAAY,EAAZ,EAAgB,KAAhB,EAAuB,KAAvB,CAAhD;AAA+E,MAAA,YAAY,EAAIjD,CAAC,IAAIuE,eAAe,CAACvE,CAAD,EAAI,GAAJ,EAASiD,CAAT,EAAY,EAAZ,EAAgB,OAAhB,EAAyB,KAAzB,CAAnH;AAAoJ,MAAA,OAAO,EAAKjD,CAAC,IAAI0D,sBAAsB,CAAC1D,CAAD,EAAIiD,CAAJ,CAA3L;AAAoM,MAAA,MAAM,EAAG,oGAA7M;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADJ;AAOH,GARD,CAFR,CADJ,eAcI;AAAK,IAAA,OAAO,EAAKjD,CAAC,IAAIyD,oBAAoB,CAACzD,CAAD,CAA1C;AAAgD,IAAA,SAAS,EAAG,QAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAG,gHAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAG,IAAA,SAAS,EAAIU,UAAU,CAAC,KAAD,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wFAFJ,CAdJ,CAhFJ,eAsGI;AAAK,IAAA,SAAS,EAAG,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADJ,eAEI;AAAK,IAAA,SAAS,EAAG,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oeADA,CAFJ,eAMI;AAAK,IAAA,SAAS,EAAG,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEIxB,QAAQ,CAACI,MAAT,CAAgB+F,GAAhB,CAAoB,CAACpB,KAAD,EAAQhB,CAAR,KAAc;AAC9B,wBACI;AAAK,MAAA,SAAS,EAAG,UAAjB;AAA4B,MAAA,EAAE,EAAI,UAAUA,CAA5C;AAA+C,MAAA,GAAG,EAAIA,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,UAAD;AAAY,MAAA,SAAS,EAAG,mBAAxB;AAA4C,MAAA,OAAO,EAAKjD,CAAC,IAAIgD,mBAAmB,CAAChD,CAAD,EAAIiD,CAAJ,CAAhF;AAAyF,MAAA,MAAM,EAAG,wFAAlG;AACY,MAAA,YAAY,EAAIjD,CAAC,IAAIuE,eAAe,CAACvE,CAAD,EAAI,OAAJ,EAAaiD,CAAb,EAAgB,EAAhB,EAAoB,KAApB,EAA2B,IAA3B,CADhD;AACkF,MAAA,YAAY,EAAIjD,CAAC,IAAIuE,eAAe,CAACvE,CAAD,EAAI,OAAJ,EAAciD,CAAd,EAAiB,EAAjB,EAAqB,OAArB,EAA8B,IAA9B,CADtH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAGA;AAAK,MAAA,SAAS,EAAG,sBAAjB;AAAwC,MAAA,GAAG,EAAIA,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAG,MAAd;AAAqB,MAAA,IAAI,EAAG,MAA5B;AAAmC,MAAA,WAAW,EAAI,qBAAqBA,CAAC,GAAG,CAAzB,CAAlD;AAAgF,MAAA,KAAK,EAAIgB,KAAK,CAACtF,IAA/F;AAAqG,MAAA,QAAQ,EAAKqB,CAAC,IAAI2D,kBAAkB,CAAC3D,CAAD,EAAIiD,CAAJ,CAAzI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAHA,eAOI;AAAK,MAAA,SAAS,EAAG,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACIgB,KAAK,CAAC1E,SAAN,CAAgB8F,GAAhB,CAAoB,CAACH,QAAD,EAAW5B,CAAX,KAAiB;AACjC,0BACI;AAAK,QAAA,SAAS,EAAG,yBAAjB;AAA2C,QAAA,EAAE,EAAI,aAAaL,CAAb,GAAiBK,CAAlE;AAAqE,QAAA,GAAG,EAAIA,CAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,UAAD;AAAY,QAAA,SAAS,EAAG,iCAAxB;AAA0D,QAAA,YAAY,EAAItD,CAAC,IAAIuE,eAAe,CAACvE,CAAD,EAAI,UAAJ,EAAgBiD,CAAhB,EAAmBK,CAAnB,EAAsB,KAAtB,EAA6B,IAA7B,CAA9F;AAAkI,QAAA,YAAY,EAAItD,CAAC,IAAIuE,eAAe,CAACvE,CAAD,EAAI,UAAJ,EAAgBiD,CAAhB,EAAmBK,CAAnB,EAAsB,OAAtB,EAA+B,IAA/B,CAAtK;AAA4M,QAAA,OAAO,EAAKtD,CAAC,IAAIqD,sBAAsB,CAACrD,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,CAAnP;AAA+P,QAAA,MAAM,EAAG,gHAAxQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAEI;AAAO,QAAA,IAAI,EAAG,MAAd;AAAqB,QAAA,SAAS,EAAG,cAAjC;AAAgD,QAAA,IAAI,EAAG,MAAvD;AAA8D,QAAA,KAAK,EAAI4B,QAAQ,CAACvG,IAAhF;AAAsF,QAAA,WAAW,EAAI,eAAe2E,CAAC,GAAG,CAAnB,CAArG;AAA4H,QAAA,QAAQ,EAAKtD,CAAC,IAAI4D,qBAAqB,CAAC5D,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,CAAnK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,eAII;AAAG,QAAA,SAAS,EAAG,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4RAJJ,eAMI;AAAK,QAAA,SAAS,EAAG,yBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAG,gBAAjB;AAAkC,QAAA,EAAE,EAAG,gBAAvC;AAAwD,QAAA,SAAS,EAAKjD,cAAc,CAAC6E,QAAQ,CAACxF,SAAV,CAApF;AAA2G,QAAA,OAAO,EAAKM,CAAC,IAAI4D,qBAAqB,CAAC5D,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,CAAjJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAEI;AAAG,QAAA,SAAS,EAAI5C,UAAU,CAACwE,QAAQ,CAACxF,SAAV,CAA1B;AAAgD,QAAA,OAAO,EAAKM,CAAC,IAAI4D,qBAAqB,CAAC5D,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,CAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,CANJ,eAUI;AAAK,QAAA,SAAS,EAAG,wBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAG,eAAjB;AAAiC,QAAA,EAAE,EAAG,eAAtC;AAAsD,QAAA,SAAS,EAAKjD,cAAc,CAAC,CAAC6E,QAAQ,CAACxF,SAAX,CAAlF;AAA0G,QAAA,OAAO,EAAKM,CAAC,IAAI4D,qBAAqB,CAAC5D,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,CAAhJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,eAEI;AAAG,QAAA,SAAS,EAAI5C,UAAU,CAAC,CAACwE,QAAQ,CAACxF,SAAX,CAA1B;AAAiD,QAAA,OAAO,EAAKM,CAAC,IAAI4D,qBAAqB,CAAC5D,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,CAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFJ,CAVJ,eAgBI;AAAU,QAAA,SAAS,EAAG,qBAAtB;AAA4C,QAAA,IAAI,EAAG,aAAnD;AAAiE,QAAA,KAAK,EAAI4B,QAAQ,CAAC7F,WAAnF;AAAgG,QAAA,WAAW,EAAG,oEAA9G;AAA4H,QAAA,QAAQ,EAAKW,CAAC,IAAI4D,qBAAqB,CAAC5D,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,CAAnK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhBJ,eAkBI;AAAG,QAAA,SAAS,EAAG,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qVAlBJ,eAoBI;AAAK,QAAA,SAAS,EAAG,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAO,QAAA,IAAI,EAAG,QAAd;AAAuB,QAAA,IAAI,EAAG,KAA9B;AAAoC,QAAA,KAAK,EAAI4B,QAAQ,CAAC1F,GAAtD;AAA2D,QAAA,WAAW,EAAG,sCAAzE;AAAkF,QAAA,QAAQ,EAAKQ,CAAC,IAAI4D,qBAAqB,CAAC5D,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,CAAzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CApBJ,eAyBI;AAAK,QAAA,SAAS,EAAG,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAO,QAAA,IAAI,EAAG,QAAd;AAAuB,QAAA,IAAI,EAAG,KAA9B;AAAoC,QAAA,KAAK,EAAI4B,QAAQ,CAACzF,GAAtD;AAA2D,QAAA,WAAW,EAAG,sCAAzE;AAAkF,QAAA,QAAQ,EAAKO,CAAC,IAAI4D,qBAAqB,CAAC5D,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,CAAzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAzBJ,CADJ;AA8BY,KA/BhB,CADJ,eAiCI;AAAK,MAAA,SAAS,EAAG,QAAjB;AAA0B,MAAA,OAAO,EAAKtD,CAAC,IAAIoD,oBAAoB,CAACpD,CAAD,EAAIiD,CAAJ,CAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAG,iFAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAG,MAAA,SAAS,EAAIvC,UAAU,CAAC,KAAD,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sGAFJ,CAjCJ,CAPJ,eA8CI;AAAK,MAAA,EAAE,EAAG,cAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEIxB,QAAQ,CAACY,OAAT,CAAiB,CAAjB,KACJZ,QAAQ,CAACY,OAAT,CAAiBuF,GAAjB,CAAqB,CAACC,MAAD,EAAShC,CAAT,KAAe;AAChC,0BACI;AAAK,QAAA,GAAG,EAAIA,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sLAAqCgC,MAArC,QADJ,eAEI;AAAK,QAAA,SAAS,EAAG,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACIpG,QAAQ,CAACW,SAAT,CAAmB,CAAnB,KACJX,QAAQ,CAACW,SAAT,CAAmBwF,GAAnB,CAAuB,CAACG,CAAD,EAAI5F,CAAJ,KAAU;AAC7B,4BACI;AACI,UAAA,KAAK,EAAI4F,CADb;AAEI,UAAA,SAAS,EACLnF,cAAc,CACVnB,QAAQ,CAACI,MAAT,CAAgB2D,CAAhB,EAAmBtD,YAAnB,IACAT,QAAQ,CAACI,MAAT,CAAgB2D,CAAhB,EAAmBtD,YAAnB,CAAgC2D,CAAhC,CADA,IAEApE,QAAQ,CAACI,MAAT,CAAgB2D,CAAhB,EAAmBtD,YAAnB,CAAgC2D,CAAhC,EAAmCzD,SAFnC,IAGAX,QAAQ,CAACI,MAAT,CAAgB2D,CAAhB,EAAmBtD,YAAnB,CAAgC2D,CAAhC,EAAmCzD,SAAnC,CAA6C4F,QAA7C,CAAsD7F,CAAtD,CAJU,CAHtB;AAQI,UAAA,OAAO,EAAKI,CAAC,IAAIgE,yBAAyB,CAAChE,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,EAAU1D,CAAV,CAR9C;AAQ6D,UAAA,GAAG,EAAIA,CARpE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKA,CAAC,GAAG,CAAT,CAVJ,CADJ;AAcH,OAfD,CAFA,CAFJ,EAsBQV,QAAQ,CAACI,MAAT,CAAgB2D,CAAhB,EAAmBtD,YAAnB,CAAgC2D,CAAhC,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oPAAiDgC,MAAjD,QADJ,eAEI;AAAO,QAAA,IAAI,EAAG,QAAd;AAAuB,QAAA,IAAI,EAAG,GAA9B;AAAkC,QAAA,WAAW,EAAG,oEAAhD;AAA8D,QAAA,GAAG,EAAG,GAApE;AAAwE,QAAA,KAAK,EAAIpG,QAAQ,CAACI,MAAT,CAAgB2D,CAAhB,EAAmBtD,YAAnB,CAAgC2D,CAAhC,EAAmC1D,CAApH;AAAuH,QAAA,QAAQ,EAAKI,CAAC,IAAIgE,yBAAyB,CAAChE,CAAD,EAAIiD,CAAJ,EAAOK,CAAP,EAAU,IAAV,CAAlK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CAvBR,CADJ;AA6BY,KA9BhB,CAHA,CA9CJ,CADJ;AAoFE,GArFN,CAFJ,CANJ,eAgGI;AAAK,IAAA,EAAE,EAAG,iBAAV;AAA4B,IAAA,SAAS,EAAG,QAAxC;AAAiD,IAAA,OAAO,EAAKtD,CAAC,IAAI+C,iBAAiB,CAAC/C,CAAD,CAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAG,+DAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAG,IAAA,SAAS,EAAIU,UAAU,CAAC,KAAD,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kFAFJ,CAhGJ,CAtGJ,eA4MI;AAAK,IAAA,SAAS,EAAG,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAG,cAAjB;AAAgC,IAAA,OAAO,EAAIV,CAAC,IAAIiB,YAAY,CAACjB,CAAD,EAAI,OAAJ,CAA5D;AACK,IAAA,YAAY,EAAIA,CAAC,IAAID,oBAAoB,CAACC,CAAD,EAAI,KAAJ,EAAW,IAAX,EAAiB,KAAjB,CAD9C;AAEK,IAAA,YAAY,EAAIA,CAAC,IAAID,oBAAoB,CAACC,CAAD,EAAI,KAAJ,EAAW,KAAX,EAAkB,KAAlB,CAF9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI;AAAG,IAAA,SAAS,EAAInB,cAAc,CAACG,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gHAHJ,CADJ,eAMI;AAAK,IAAA,SAAS,EAAG,aAAjB;AAA+B,IAAA,OAAO,EAAIgB,CAAC,IAAIiB,YAAY,CAACjB,CAAD,EAAI,MAAJ,CAA3D;AACK,IAAA,YAAY,EAAIA,CAAC,IAAID,oBAAoB,CAACC,CAAD,EAAI,IAAJ,EAAU,KAAV,EAAiB,KAAjB,CAD9C;AAEK,IAAA,YAAY,EAAIA,CAAC,IAAID,oBAAoB,CAACC,CAAD,EAAI,KAAJ,EAAW,KAAX,EAAkB,KAAlB,CAF9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI;AAAG,IAAA,SAAS,EAAInB,cAAc,CAACE,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFAHJ,CANJ,EAaQG,QAAQ,CAAC0C,GAAT,iBACA;AAAK,IAAA,SAAS,EAAG,eAAjB;AAAiC,IAAA,OAAO,EAAI5B,CAAC,IAAI8B,sBAAsB,CAAC9B,CAAD,CAAvE;AACK,IAAA,YAAY,EAAIA,CAAC,IAAID,oBAAoB,CAACC,CAAD,EAAI,KAAJ,EAAW,KAAX,EAAkB,IAAlB,CAD9C;AAEK,IAAA,YAAY,EAAIA,CAAC,IAAID,oBAAoB,CAACC,CAAD,EAAI,KAAJ,EAAW,KAAX,EAAkB,KAAlB,CAF9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI;AAAG,IAAA,SAAS,EAAInB,cAAc,CAACI,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2EAHJ,CAdR,EAsBQV,UAAU,iBACV,oBAAC,aAAD;AAAe,IAAA,IAAI,EAAG,sEAAtB;AAAsC,IAAA,OAAO,EAAEyB,CAAC,IAAI+B,cAAc,CAAC/B,CAAD,CAAlE;AAAuE,IAAA,MAAM,EAAEA,CAAC,IAAI8B,sBAAsB,CAAC9B,CAAD,CAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvBR,CA5MJ,CADJ;AA2OH,CAzsBM;AA2sBP,eAAejC,OAAf","sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport {useHistory} from \"react-router-dom\"\nimport classNames from 'classnames/bind'\nimport './Appearence/index.css'\nimport './Appearence/AddTest.css'\nimport {AuthContext} from \"./Context/AuthContext\";\nimport createShortLink from \"./Functions and const/CreateShortLink\";\nimport {useHttp} from \"../Hooks/http.hook\";\nimport {ReactComponent as AddIcon} from \"./Appearence/Images/AddIcon.svg\"\nimport {ReactComponent as CancelIcon} from \"./Appearence/Images/CancelIcon.svg\"\nimport notify from './Functions and const/Notify'\nimport showError from './Functions and const/ShowError'\nimport {RegExps} from \"./Functions and const/RegExps\";\nimport ConfirmWindow from \"./Functions and const/ConfirmWindow\";\n\n\nexport const AddTest = () => {\n\n    const {token} = useContext(AuthContext)\n    const {request} = useHttp();\n    const history = useHistory()\n\n    const [drafts, setDrafts] = useState()\n    const [fromDrafts, setFromDrafts] = useState(false)\n    const [isDeleting, activateDeleting] = useState(false)\n    const [errors, setErrors] = useState({ name: '', link: '' })\n    const [saveBtnClasses, setSaveBtnClasses] = useState({test: 'invisible', draft: 'invisible', deletebtn: 'invisible'})\n\n    const [testData, setTestData] = useState({\n        name: '',\n        link: '',\n        shortDescription: '',\n        description: '',\n        scales: [{\n            name: '' ,\n            intervals: [{\n                name: '',\n                description: '',\n                min: '',\n                max: '',\n                important: false\n            }],\n            scaleanswers: [{\n                k: '',\n                questions: []\n            }]\n        }],\n        questions: [''],\n        answers: ['']\n    })\n\n    const handleSaveBtnClasses = (e, test, draft, deletebtn) => {\n        e.preventDefault()\n        let testClass, draftClass, deleteClass\n        if (!test)\n            testClass = 'invisible'\n        else testClass = 'slow_appearing'\n\n        if (!draft)\n            draftClass = 'invisible'\n        else draftClass = 'slow_appearing'\n\n        if (!deletebtn)\n            deleteClass = 'invisible'\n        else deleteClass = 'slow_appearing'\n\n        setSaveBtnClasses({test: testClass, draft: draftClass, deletebtn: deleteClass})\n    }\n\n    const isImportantBtn = isImportant => {\n     return classNames({inactiveImportantBtn: !isImportant, activeImportantBtn: isImportant})\n    }\n\n    const saveDraftBtnClasses = isImportant => {\n        return classNames({inactiveImportantBtn: !isImportant, activeImportantBtn: isImportant})\n    }\n\n    const textStatus = isActive => {\n        return classNames({inactiveText: !isActive, activeText: isActive})\n    }\n\n    const fetchDrafts = useCallback(async() => {\n        try {\n            const fetched = await request('addtest/drafts', 'GET', null, {\n                Authorization: `Bearer ${token}`\n            })\n            setDrafts(fetched)\n        }\n        catch (e) {}\n    }, [token, request])\n\n    const handleSaving = async(e, type) => {\n        e.preventDefault()\n        switch (type) {\n            case 'test':\n                await saveTest()\n                break;\n            case 'draft':\n                await saveTestDraft()\n                break;\n        }\n    }\n\n    const saveTestDraft = async() => {\n        try {\n            if (await checkFields(false)) {\n                console.log('было ', testData)\n                const data = await request('addtest/savedraft', 'POST', {...testData, date: new Date()})\n                if (data.message === 'Draft is saved') {\n                    notify('Черновик сохранён')\n                    setTestData({...testData, _id: data.id})\n                    console.log('стало ', data)\n                    // fetchDrafts()\n                }\n            }\n        }\n        catch (e) {}\n    }\n\n    const saveTest = async() => {\n        try {\n            if (await checkFields(true)) {\n                console.log(testData)\n                const data = await request('addtest/savetest', 'POST', {...testData, date: new Date()})\n                if (data.message === 'Test is saved') {\n                    notify('Тест сохранён')\n                    setTestData({...testData, _id: data.id})\n                }\n            }\n        }\n        catch (e) {}\n    }\n\n    const handleDeleteActivating = e => {\n        e.preventDefault()\n        activateDeleting(!isDeleting);\n    }\n\n    const handleDeleting = async (e) => {\n        e.preventDefault()\n        await deleteTest()\n    }\n\n    const deleteTest = useCallback(async() => {\n        try {\n            const shortLink = document.getElementById('testLink').value\n            const data = await request(`/api/tests/${shortLink}/drop`, 'POST', null)\n            if (data.message === 'Test is deleted') {\n                notify('Тест удалён')\n                setTimeout(() => history.push('/'), 1000)\n                activateDeleting(!isDeleting)\n            }\n        }\n        catch (e) {}\n    }, [token, request])\n\n    const checkFields = async(doubleCheck) => {\n        let permission = false\n        try {\n\n            let name = '', link = ''\n            if (testData.name && !RegExps.testNameRegExp.test(testData.name)) {\n                name = 'Допустима только кириллица, пробелы и знаки препинания'\n                await showError(true, 'testName', 'errorTestName')\n            }\n            else if (!testData.name) {\n                name = 'Введите название методики'\n                !doubleCheck && notify('Введите название методики, чтобы сохранить черновик')\n                await showError(true, 'testName', 'errorTestName')\n            }\n            if (testData.link && !RegExps.linkRegExp.test(testData.link)) {\n                if (name){\n                    testData.link = ''\n                }\n                else if (!name){\n                    link = 'Допустимы только буквы a-z, цифры и дефис между ними'\n                    await showError(true, 'testLink', 'errorTestLink')\n                }\n            }\n            else if (!testData.link) {\n                if (!name) testData.link = createShortLink(testData.name)\n                else testData.link = ''\n            }\n\n            await setErrors({name, link})\n\n            !name && await showError(false, 'testName', 'errorTestName')\n            !link && await showError(false, 'testLink', 'errorTestLink')\n\n            if (!name && !link)\n                permission = true\n\n            let check = ''\n            if (!testData.name) check += 'n'\n            if (!testData.questions[0]) check += 'q'\n            if (!testData.answers[0]) check += 'a'\n\n            if (doubleCheck){\n                switch (check){\n                    case 'nqa':\n                        notify('Введите название методики, хотя бы один вопрос и вариант ответа');\n                        break;\n                    case 'qa':\n                        notify('Введите хотя бы один вопрос и вариант ответа');\n                        break;\n                    case 'nq':\n                        notify('Введите название методики и хотя бы один вопрос');\n                        break;\n                    case 'na':\n                        notify('Введите название методики и хотя бы один вариант ответа');\n                        break;\n                    case 'q':\n                        notify('Введите хотя бы один вопрос');\n                        break;\n                    case 'a':\n                        notify('Введите хотя бы один вариант ответа');\n                        break;\n                }\n                if (check !== '') permission = false;\n            }\n\n            if (!permission && testData.name)\n                setTimeout(() => saveTestDraft(), 20000)\n\n            return permission\n        }\n        catch (e) {}\n    }\n\n    const chooseDraft = e => {\n        e.preventDefault()\n        setTestData(drafts[e.target.value])\n    }\n\n    const changeHandler = async (e) => {\n        e.preventDefault()\n        if (e.target.name === 'name') {\n            let link = createShortLink(e.target.value)\n            await setTestData({...testData, [e.target.name]: e.target.value, link})\n        }\n        else\n            await setTestData({...testData, [e.target.name]: e.target.value})\n    }\n\n    const handleAddingScale = e => {\n        e.preventDefault()\n        const scales = testData.scales\n        scales.push({\n            name: '' ,\n            intervals: [{\n                name: '',\n                description: '',\n                min: '',\n                max: '',\n                important: false\n            }],\n            scaleanswers: [{\n                k: '',\n                questions: []\n            }]\n        })\n        setTestData({...testData, scales})\n    }\n\n    const handleDeletingScale = (e, i) => {\n        e.preventDefault()\n        let scales = testData.scales\n        scales.splice(i, 1)\n        setTestData({...testData, scales})\n        if (scales.length == 0) handleAddingScale(e)\n    }\n\n    const handleAddingInterval = (e, i) => {\n        e.preventDefault()\n        let scales = testData.scales\n        let intervals = scales[i]['intervals']\n        intervals.push({\n                name: '',\n                description: '',\n                min: '',\n                max: '',\n                important: false\n        })\n        scales['intervals'] = intervals\n        setTestData({...testData, scales})\n    }\n\n    const handleDeletingInterval = (e, i, j) => {\n        e.preventDefault()\n        let scales = testData.scales\n        let intervals = scales[i]['intervals']\n        intervals.splice(j, 1)\n        scales['intervals'] = intervals\n        setTestData({...testData, scales})\n        if (intervals.length == 0) handleAddingInterval(e, i)\n    }\n\n    const handleAddingAnswer = e => {\n        e.preventDefault()\n        const answers = testData.answers\n        // answers.push(e.target.value)\n        answers.push('')\n        setTestData({...testData, answers})\n    }\n\n    const handleDeletingAnswer = (e, i) => {\n        e.preventDefault()\n        let answers = testData.answers\n        answers.splice(i, 1)\n        setTestData({...testData, answers})\n        if (answers.length == 0) handleAddingAnswer(e)\n    }\n\n    const handleAddingQuestion = e => {\n        e.preventDefault()\n        const questions = testData.questions\n        // questions.push(e.target.value)\n        questions.push('')\n        setTestData({...testData, questions})\n    }\n\n    const handleDeletingQuestion = (e, i) => {\n        e.preventDefault()\n        let questions = testData.questions\n        questions.splice(i, 1)\n        setTestData({...testData, questions})\n        if (questions.length == 0) handleAddingQuestion(e)\n    }\n\n    const changeScaleHandler = (e, i) => {\n        let scales = testData.scales\n        if (e.target.name === 'k' && !e.target.value)\n            scales[i][e.target.name] = 1\n        else\n            scales[i][e.target.name] = e.target.value\n        setTestData({...testData, scales})\n    }\n\n    const changeIntervalHandler = (e, i, j) => {\n        e.preventDefault()\n        let scales = testData.scales\n        let intervals = scales[i]['intervals']\n\n        // if (e.target.id === 'isImportantYes' || e.target.id === 'isImportantNo' || e.target.id === 'isImportantP')\n        if (e.target.id === 'isImportantYes' || e.target.id === 'isImportantNo')\n            intervals[j]['important'] = !intervals[j]['important']\n\n        else if (e.target.name === 'min' || e.target.name === 'max')\n            intervals[j][e.target.name] = parseInt(e.target.value)\n        else\n            intervals[j][e.target.name] = e.target.value\n\n        scales[i]['intervals'] = intervals\n        setTestData({...testData, scales})\n    }\n\n    const changeAnswersHandler = (e, i) => {\n        e.preventDefault()\n        let answers = testData.answers\n        answers[i] = e.target.value\n        setTestData({...testData, answers})\n    }\n\n    const changeQuestionsHandler = (e, i) => {\n        e.preventDefault()\n        let questions = testData.questions\n        questions[i] = e.target.value\n        setTestData({...testData, questions})\n    }\n\n    const changeScaleAnswersHandler = (e, i, j, k) => {\n        e.preventDefault()\n\n        try {\n            let data = testData\n            let scale = data.scales[i]\n            let questions = [], index, scaleanswers = []\n\n            if (scale.scaleanswers[j])\n                scaleanswers = scale.scaleanswers[j]\n            else\n                scaleanswers = {}\n\n            if (e.target.name === 'k')\n                scaleanswers.k = parseInt(e.target.value)\n\n            else {\n                if (scaleanswers.questions) {\n                    questions = scaleanswers.questions\n                    index = questions.indexOf(k)\n                    if (index == -1)\n                        questions.push(k)\n                    else\n                        questions.splice(index, 1)\n                }\n                else\n                    questions.push(k)\n\n                questions.sort((a, b) => a > b ? 1 : -1)\n                scaleanswers.questions = questions\n            }\n\n            scale.scaleanswers[j] = scaleanswers\n            data.scales[i] = scale\n            setTestData({...testData, data})\n        }\n        catch (e) {}\n    }\n\n    const colorBackground = (e, el, i, j, c, side) => {\n        try {\n            let color\n            switch (c) {\n                case 'red':\n                    if (side) document.getElementById(el + i + j).style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: linear-gradient(90deg, #ffffff 0%, #fbe7d6 100%);';\n                    else document.getElementById(el + i + j).style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: linear-gradient(90deg, #fbe7d6 0%, #ffffff 100%);';\n                    break;\n\n                    case 'white':\n                        document.getElementById(el + i + j).style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: inherit;';\n                    break;\n            }\n        }\n        catch (e) {}\n    }\n\n    const keyPressedHandler = (e, i) => {\n        e.preventDefault()\n\n        if (e.which == 13 || e.keyCode == 13) {\n            if (e.target.name === 'q')\n                handleAddingQuestion(e)\n            else if (e.target.name === 'a')\n                handleAddingAnswer(e)\n        }\n\n        if ((e.which == 8 || e.keyCode == 8 || e.key === 'Backspace' ||\n            e.which == 46 || e.keyCode == 46 || e.key === 'Delete') && e.target.value === ''){\n            if (e.target.name === 'q')\n                handleDeletingQuestion(e, i)\n            else if (e.target.name === 'a')\n                handleDeletingAnswer(e, i)\n        }\n\n    }\n\n\n    useEffect(() => {\n        document.body.style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: #FFFFFF;'\n    }, [])\n\n    useEffect(() => {\n        if (fromDrafts && !drafts){\n            fetchDrafts()\n        }\n        else if (!fromDrafts && drafts && testData.name){\n            saveTestDraft()\n            // fetchDrafts()\n            setTestData({\n                id: '',\n                name: '',\n                link: '',\n                shortDescription: '',\n                description: '',\n                scales: [{\n                    name: '' ,\n                    intervals: [{\n                        name: '',\n                        description: '',\n                        min: '',\n                        max: '',\n                        important: false\n                    }],\n                    scaleanswers: [{\n                        k: '',\n                        questions: []\n                    }]\n                }\n                ],\n                questions: [''],\n                answers: ['']\n            })\n        }\n    }, [fromDrafts])\n\n    useEffect(() => {\n     const interval = setInterval(() => {\n         if (testData.name)\n             saveTestDraft()\n         }, 10000)\n\n        return () => clearInterval(interval)\n    }, [testData.name, testData.shortDescription, testData.description, testData._id])\n\n    return (\n        <div className = 'addingTest'>\n\n            <h1>Добавить тест</h1>\n\n            <select onChange = {() => setFromDrafts(!fromDrafts)}>\n                <option defaultValue value = 'new'>вручную</option>\n                <option value = 'draft'>из черновиков</option>\n            </select>\n\n            {\n                fromDrafts && drafts &&\n                 <select defaultValue = '' onChange = {e => chooseDraft(e)}>\n                     <option value = '' disabled>Выберите черновик</option>\n                    {drafts.map((draft, i) => {\n                        return (\n                            <option key = {i} value = {i}>{draft.name}</option>\n                        )\n                    })}\n                 </select>\n            }\n\n            <div className = 'addingTestModule'>\n                <h2>Название методики</h2>\n\n                <div className = 'inputWithError'>\n                    {   testData.name !== 'Без названия' &&\n                        <input type = 'text' name = 'name' id = 'testName' value = {testData.name} placeholder = 'Название методики' onChange = {e => changeHandler(e)}/>}\n                    {   testData.name === 'Без названия' &&\n                        <input type = 'text' name = 'name' id = 'testName' value = '' placeholder = 'Название методики' onChange = {e => changeHandler(e)}/>}\n                    <p className = 'error' id = 'errorTestName'>{errors.name}</p>\n                </div>\n\n\n                <div className = 'shortLinkBox'>\n                    <p>Краткая ссылка: </p>\n                    <input type = 'text' id = 'testLink' name = 'link' value = {testData.link} placeholder = 'Краткая ссылка' onChange = {e => changeHandler(e)}/>\n                </div>\n            </div>\n\n            <div className = 'addingTestModule'>\n                <h2>Краткое описание</h2>\n                <textarea name = 'shortDescription' value = {testData.shortDescription} placeholder = 'Краткое описание методики будет отображаться на странице со всеми методиками' onChange = {e => changeHandler(e)}/>\n            </div>\n\n            <div className = 'addingTestModule'>\n                <h2>Описание</h2>\n                <textarea name = 'description' value = {testData.description} placeholder = 'Полное описание методики будет отображаться на странице методики' onChange = {e => changeHandler(e)}/>\n            </div>\n\n\n            <div className = 'addingTestModule'>\n                <h2>Варианты ответов</h2>\n            </div>\n\n            <div className = 'addingTestModule'>\n                <div className = 'answersAdd'>\n                    {\n                        testData.answers.map((answer, i) => {\n                            return(\n                                <div className = 'questionAdd' key = {i}>\n                                    <p>{ (i + 1) }</p>\n                                    <input type = 'text' name = 'a' id = {'a' + i} placeholder = 'Вариант ответа ' value = {testData.answers[i]}\n                                           onChange = { e => changeAnswersHandler(e, i) }\n                                           onKeyUp = { e => keyPressedHandler(e, i) }\n                                    />\n                                    <CancelIcon onMouseEnter = {e => colorBackground(e, 'a', i, '', 'red', false)} onMouseLeave = {e => colorBackground(e, 'a', i, '', 'white', false)} onClick = { e => handleDeletingAnswer(e, i) } titile = 'Убрать этот вариант ответа'/>\n                                </div>)\n                        })\n                    }\n                </div>\n                <div onClick = { e => handleAddingAnswer(e) } className = 'adding'>\n                    <AddIcon title = 'Новый вариант ответа'/>\n                    <p className = {textStatus(false)}>Ещё один вариант ответа</p>\n                </div>\n            </div>\n\n            <div className = 'addingTestModule'>\n                <h2>Вопросы</h2>\n            </div>\n\n            <div className = 'addingTestModule'>\n                <div className = 'questionsAdd'>\n                    {\n                        testData.questions.map((question, i) => {\n                            return(\n                                <div className = 'questionAdd' key = {i}>\n                                    <p>{ (i + 1) }</p>\n                                    {/*<input type = 'text' name = 'q' id = {'q' + i} placeholder = 'Текст вопроса ' value = {testData.questions[i]} onChange = { e => changeQuestionsHandler(e, i) } onKeyPress = {e => keyPressedHandler(e, i)}  onKeyDown = {e => keyPressedHandler(e, i)}/>*/}\n                                    <input type = 'text' name = 'q' id = {'q' + i} placeholder = 'Текст вопроса ' value = {testData.questions[i]} onChange = { e => changeQuestionsHandler(e, i) } onKeyUp = { e => keyPressedHandler(e, i) }/>\n                                    <CancelIcon onMouseEnter = {e => colorBackground(e, 'q', i, '', 'red', false)} onMouseLeave = {e => colorBackground(e, 'q', i, '', 'white', false)} onClick = { e => handleDeletingQuestion(e, i) } titile = 'Убрать этот вопрос'/>\n                                </div>)\n                        })\n                    }\n                </div>\n                <div onClick = { e => handleAddingQuestion(e) } className = 'adding'>\n                    <AddIcon title = 'Новый вариант ответа'/>\n                    <p className = {textStatus(false)}>Ещё один вопрос</p>\n                </div>\n            </div>\n\n\n\n            <div className = 'addingTestModule'>\n                <h2>Шкалы</h2>\n                <div className = 'addingTestModule'>\n                <p>Шкальные интервалы – это бываоыаыдйуж ваьыладыыьвдfsddsdffsdsdfsfdfdfdssfdsfdsdfsdfdа ываsdjskdjflkdsjfklsdjklfsdjlfksdjлы. Вдлывалад жавдыаж</p>\n                </div>\n\n                <div className = 'scales'>\n                {\n                    testData.scales.map((scale, i) => {\n                        return(\n                            <div className = 'scaleBox' id = {'scale' + i} key = {i}>\n                                <CancelIcon className = 'scaleDeletingIcon' onClick = { e => handleDeletingScale(e, i) } titile = 'Убрать эту шкалу'\n                                            onMouseEnter = {e => colorBackground(e, 'scale', i, '', 'red', true)} onMouseLeave = {e => colorBackground(e, 'scale',  i, '', 'white', true)}/>\n                            <div className = 'scale soft_appearing' key = {i}>\n                                <input type = 'text' name = 'name' placeholder = {'Название шкалы ' + (i + 1)}  value = {scale.name} onChange = { e => changeScaleHandler(e, i) }/>\n\n                            </div>\n                                <div className = 'intervals'>\n                                {   scale.intervals.map((interval, j) => {\n                                        return (\n                                            <div className = 'interval soft_appearing' id = {'interval' + i + j} key = {j}>\n                                                <CancelIcon className = 'cancelIcon intervalDeletingIcon' onMouseEnter = {e => colorBackground(e, 'interval', i, j, 'red', true)} onMouseLeave = {e => colorBackground(e, 'interval', i, j, 'white', true)} onClick = { e => handleDeletingInterval(e, i, j) } titile = 'Убрать этот интервал'/>\n                                                <input type = 'text' className = 'intervalName' name = 'name' value = {interval.name} placeholder = {'Интервал ' + (j + 1)} onChange = { e => changeIntervalHandler(e, i, j) }/>\n\n                                                <p className = 'intervalP'>Интервал означает нарушение, выход за пределы нормы?</p>\n\n                                                <div className = 'isImportantYesContainer'>\n                                                    <div className = 'isImportantYes' id = 'isImportantYes' className = { isImportantBtn(interval.important) } onClick = { e => changeIntervalHandler(e, i, j) }/>\n                                                    <p className = {textStatus(interval.important)} onClick = { e => changeIntervalHandler(e, i, j) }>Да</p>\n                                                </div>\n                                                <div className = 'isImportantNoContainer'>\n                                                    <div className = 'isImportantNo' id = 'isImportantNo' className = { isImportantBtn(!interval.important) } onClick = { e => changeIntervalHandler(e, i, j) }/>\n                                                    <p className = {textStatus(!interval.important)} onClick = { e => changeIntervalHandler(e, i, j) }>Нет</p>\n                                                </div>\n\n\n                                                <textarea className = 'intervalDescription' name = 'description' value = {interval.description} placeholder = 'Комментарий' onChange = { e => changeIntervalHandler(e, i, j) }/>\n\n                                                <p className = 'intervalP2'>Сколько баллов по шкале нужно набрать, чтобы попасть в интервал?</p>\n\n                                                <div className = 'intervalMin'>\n                                                    <p>От </p>\n                                                    <input type = 'number' name = 'min' value = {interval.min} placeholder = 'баллов' onChange = { e => changeIntervalHandler(e, i, j) }/>\n                                                </div>\n\n                                                <div className = 'intervalMax'>\n                                                    <p>До </p>\n                                                    <input type = 'number' name = 'max' value = {interval.max} placeholder = 'баллов' onChange = { e => changeIntervalHandler(e, i, j) }/>\n                                                </div>\n                                            </div>)})}\n                                    <div className = 'adding' onClick = { e => handleAddingInterval(e, i) }>\n                                        <AddIcon title = 'Новый интервал'/>\n                                        <p className = {textStatus(false)}>Ещё один интервал</p>\n                                    </div>\n                                </div>\n\n                                <div id = 'scaleAnswers'>\n                                {\n                                    testData.answers[0] &&\n                                testData.answers.map((answer, j) => {\n                                    return (\n                                        <div key = {j}>\n                                            <p>На какие вопросы нужно ответить \"{answer}\"?</p>\n                                            <div className = 'scaleAnswer'>\n                                            {   testData.questions[0] &&\n                                            testData.questions.map((q, k) => {\n                                                return (\n                                                    <div\n                                                        title = {q}\n                                                        className = {\n                                                            isImportantBtn(\n                                                                testData.scales[i].scaleanswers &&\n                                                                testData.scales[i].scaleanswers[j] &&\n                                                                testData.scales[i].scaleanswers[j].questions &&\n                                                                testData.scales[i].scaleanswers[j].questions.includes(k))}\n                                                        onClick = { e => changeScaleAnswersHandler(e, i, j, k) } key = {k}\n                                                        >\n                                                        <p>{(k + 1)}</p>\n                                                    </div>\n                                            )\n                                            })}\n                                            </div>\n                                            {\n                                                testData.scales[i].scaleanswers[j] &&\n                                                <div>\n                                                    <p>На сколько будут умножаться баллы от ответа \"{answer}\"?</p>\n                                                    <input type = 'number' name = 'k' placeholder = 'Коэффициент' min = '1' value = {testData.scales[i].scaleanswers[j].k} onChange = { e => changeScaleAnswersHandler(e, i, j, null) }/>\n                                                </div>\n                                            }\n                                        </div>)})\n                                }\n                                </div>\n                            </div>\n                        )})}\n                </div>\n\n                <div id = 'scaleAddingIcon' className = 'adding' onClick = { e => handleAddingScale(e) }>\n                    <AddIcon title = 'Новая шкала'/>\n                    <p className = {textStatus(false)}>Ещё одна шкала</p>\n                </div>\n            </div>\n\n            <div className = 'savebtns'>\n                <div className = 'savedraftbtn' onClick = {e => handleSaving(e, 'draft')}\n                     onMouseEnter = {e => handleSaveBtnClasses(e, false, true, false )}\n                     onMouseLeave = {e => handleSaveBtnClasses(e, false, false, false )}>\n                    <p className = {saveBtnClasses.draft}> Сохранить черновик</p>\n                </div>\n                <div className = 'savetestbtn' onClick = {e => handleSaving(e, 'test')}\n                     onMouseEnter = {e => handleSaveBtnClasses(e, true, false, false )}\n                     onMouseLeave = {e => handleSaveBtnClasses(e, false, false, false )}>\n                    <p className = {saveBtnClasses.test}>Сохранить тест</p>\n                </div>\n\n                {\n                    testData._id &&\n                    <div className = 'deletetestbtn' onClick = {e => handleDeleteActivating(e)}\n                         onMouseEnter = {e => handleSaveBtnClasses(e, false, false, true )}\n                         onMouseLeave = {e => handleSaveBtnClasses(e, false, false, false )}>\n                        <p className = {saveBtnClasses.deletebtn}>Удалить тест</p>\n                    </div>\n                }\n\n                {\n                    isDeleting &&\n                    <ConfirmWindow text = 'Удалить тест?' confirm={e => handleDeleting(e)} cancel={e => handleDeleteActivating(e)}/>\n                }\n            </div>\n        </div>\n\n\n    )\n}\n\nexport default AddTest;"]},"metadata":{},"sourceType":"module"}