{"ast":null,"code":"var _jsxFileName = \"/Users/alisakrylova/Intro/client/src/components/Auth.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport './Appearence/App.css';\nimport './Appearence/Auth.css';\nimport { useHttp } from \"../hooks/http.hook\";\nimport { useMessage } from \"../hooks/message.hook\";\nimport { AuthContext } from \"./context/AuthContext\";\nexport const Auth = () => {\n  const auth = useContext(AuthContext);\n  const {\n    loading,\n    request,\n    error,\n    clearError\n  } = useHttp();\n  const [form, setForm] = useState({\n    email: '',\n    password: ''\n  });\n  const message = useMessage();\n  useEffect(() => {\n    message(error);\n    clearError();\n  }, [error, message, clearError]);\n\n  const changeHandler = event => {\n    setForm({ ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const registerHandler = async () => {\n    try {\n      const data = await request('api/auth/register', 'POST', { ...form\n      });\n      console.log(data.message);\n    } catch (e) {}\n  };\n\n  const loginHandler = async () => {\n    try {\n      const data = await request('api/auth/login', 'POST', { ...form\n      });\n      console.log(data.message);\n    } catch (e) {}\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"authPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 15\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"email\",\n    name: \"email\",\n    placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\",\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }, \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    value: \"\\u0412\\u043E\\u0439\\u0442\\u0438\",\n    onClick: registerHandler,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    value: \"\\u0417\\u0430\\u043B\\u043E\\u0433\\u0438\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F\",\n    onClick: loginHandler,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }));\n};\nexport default Auth;","map":{"version":3,"sources":["/Users/alisakrylova/Intro/client/src/components/Auth.js"],"names":["React","useContext","useEffect","useState","useHttp","useMessage","AuthContext","Auth","auth","loading","request","error","clearError","form","setForm","email","password","message","changeHandler","event","target","name","value","registerHandler","data","console","log","e","loginHandler"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\nimport './Appearence/App.css';\nimport './Appearence/Auth.css';\nimport {useHttp} from \"../hooks/http.hook\";\nimport {useMessage} from \"../hooks/message.hook\";\nimport {AuthContext} from \"./context/AuthContext\";\n\nexport const Auth = () => {\n    const auth = useContext(AuthContext)\n    const {loading, request, error, clearError} = useHttp();\n    const [form, setForm] = useState({ email: '', password: '' })\n    const message = useMessage()\n\n    useEffect(() => {\n        message(error)\n        clearError()\n    }, [error, message, clearError])\n\n     const changeHandler = event => {\n         setForm({...form, [event.target.name]: event.target.value})\n     }\n\n     const registerHandler = async () => {\n         try {\n          const data = await request('api/auth/register', 'POST', {...form})\n             console.log(data.message)\n         }\n         catch (e) {}\n     }\n\n    const loginHandler = async () => {\n        try {\n            const data = await request('api/auth/login', 'POST', {...form})\n            console.log(data.message)\n        }\n        catch (e) {}\n    }\n\n\n      return (\n          <div className='authPage'>\n              <h1>Email</h1>\n              <input type='text' id='email' name='email' placeholder='Логин' onChange={changeHandler}/>\n              <input type='password' id='password' name='password' placeholder='Пароль' onChange={changeHandler}/>\n              <h1>Пароль</h1>\n              <input type='button' value='Войти' onClick = {registerHandler} disabled={loading}/>\n              <input type='button' value='Залогиниться' onClick = {loginHandler} disabled={loading}/>\n          </div>\n      )\n}\n\nexport default Auth"]},"metadata":{},"sourceType":"module"}