{"ast":null,"code":"var _jsxFileName = \"/Users/alisakrylova/Intro/client/src/components/TestPage.js\";\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport './Appearence/index.css';\nimport './Appearence/TestPage.css';\nimport { AuthContext } from \"./Context/AuthContext\";\nimport { useHttp } from \"../Hooks/http.hook\";\nimport { useHistory, useParams } from 'react-router-dom';\nimport { NavLink } from \"react-router-dom\";\nimport { ReactComponent as Arrow } from \"@svgr/webpack?-svgo,+titleProp,+ref!./Appearence/Images/Arrow.svg\";\nimport notify from \"./Functions and const/Notify\";\nexport const TestPage = () => {\n  const link = useParams().id;\n  const history = useHistory();\n  const [test, setTest] = useState({\n    name: '',\n    description: '',\n    shortDescription: '',\n    questions: [],\n    answers: []\n  });\n  const {\n    token,\n    userID,\n    username\n  } = useContext(AuthContext);\n  const [answers, setAnswers] = useState([]);\n  const {\n    loading,\n    request\n  } = useHttp();\n  const [content, setContent] = useState('description');\n  const [index, setIndex] = useState(0);\n  const [goNext, setGoNext] = useState(false);\n  const fetchTestData = useCallback(async () => {\n    try {\n      const fetched = await request(`/api/tests/${link}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      });\n      setTest(fetched);\n    } catch (e) {}\n  }, [token, request]);\n\n  const saveAnswers = async () => {\n    console.log(answers);\n\n    try {\n      const data = await request(`${link}/save`, 'POST', {\n        userID,\n        answers,\n        link,\n        date: new Date()\n      });\n      console.log(data.message);\n      if (data.message === 'Result is saved') notify('Ответы сохранены');\n    } catch (e) {}\n  };\n\n  const showTest = e => {\n    e.preventDefault();\n    setContent('testStartPage');\n  };\n\n  const next = async e => {\n    e.preventDefault(); //     if (goNext){\n    //         if (index < test.questions)setIndex(index + 1)\n    //         document.getElementById('y' + index).style = 'transform: scale(1)'\n    //         document.getElementById('n' + index).style = 'transform: scale(1)'\n    //         try { document.getElementById('next' + index).style = 'transform: scale(1.2)' } catch (e) {}\n    //         try { document.getElementById('next' + index).style = 'transform: scale(1)' } catch (e) {}\n    //         try { document.getElementById('back' + index).style = 'transform: scale(1)' } catch (e) {}\n    //         setGoNext(false)\n    //     }\n\n    if (index != test.q - 1) setIndex(index + 1);else {\n      await saveAnswers();\n      history.push(`/tests/${link}/${username}`);\n    }\n  };\n\n  const back = e => {\n    e.preventDefault();\n    setIndex(index - 1); //     if (index > 0) setIndex(index - 1)\n    //     document.getElementById('y' + index).style = 'transform: scale(1)'\n    //     document.getElementById('n' + index).style = 'transform: scale(1)'\n    //     try { document.getElementById('next' + index).style = 'transform: scale(1)' } catch (e) {}\n    //     try { document.getElementById('back' + index).style = 'transform: scale(1.2)' } catch (e) {}\n    //     setGoNext(false)\n  };\n\n  const handleAnswering = (e, i, j) => {\n    let answ = answers;\n    if (!answ[j]) answ[j] = [];\n    if (!answ[j].includes(i)) answ[j].push(i);\n\n    for (let k = 0; k < answ.length; k++) {\n      if (!answ[k]) answ[k] = [];else {\n        if (answ[k].includes(i)) {\n          let index = answ[k].indexOf(i);\n          if (index != -1 && j != k) answ[k].splice(index, 1);\n        }\n\n        answ[k].sort((a, b) => a > b ? 1 : -1);\n      }\n    }\n\n    setAnswers(answ);\n  };\n\n  useEffect(() => {\n    fetchTestData();\n    if (content === 'testStartPage') document.body.style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: #E6EBC3;';\n  }, [fetchTestData, content]);\n  useEffect(() => {\n    const interval = setInterval(() => saveAnswers(), 3000);\n    return () => clearInterval(interval);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, content === 'description' && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"testInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"bigTestName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, test.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"testDescription\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, test.shortDescription, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }), test.description), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    className: \"redbtn\",\n    value: \"\",\n    disabled: loading,\n    onClick: showTest,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  })), content === 'testStartPage' && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, test.questions.map((question, i) => {\n    if (i == index) return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"questionCard\",\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"arrows\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 32\n      }\n    }, i > 0 && /*#__PURE__*/React.createElement(Arrow, {\n      className: \"backArrow\",\n      onClick: e => back(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 40\n      }\n    }), i < test.q - 1 && /*#__PURE__*/React.createElement(Arrow, {\n      className: \"nextArrow\",\n      onClick: e => next(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 40\n      }\n    })), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 32\n      }\n    }, i + 1, \"/\", test.q), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 32\n      }\n    }, question), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"answersBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 32\n      }\n    }, test.answers.map((answer, j) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"answersBox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 44\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"answerbtn\",\n        key: j,\n        onClick: e => handleAnswering(e, i, j),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 48\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 48\n        }\n      }, answer));\n    })));\n  })));\n};\nexport default TestPage;","map":{"version":3,"sources":["/Users/alisakrylova/Intro/client/src/components/TestPage.js"],"names":["React","useCallback","useContext","useEffect","useState","AuthContext","useHttp","useHistory","useParams","NavLink","notify","TestPage","link","id","history","test","setTest","name","description","shortDescription","questions","answers","token","userID","username","setAnswers","loading","request","content","setContent","index","setIndex","goNext","setGoNext","fetchTestData","fetched","Authorization","e","saveAnswers","console","log","data","date","Date","message","showTest","preventDefault","next","q","push","back","handleAnswering","i","j","answ","includes","k","length","indexOf","splice","sort","a","b","document","body","style","interval","setInterval","clearInterval","map","question","answer"],"mappings":"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","sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport './Appearence/index.css'\nimport './Appearence/TestPage.css'\nimport {AuthContext} from \"./Context/AuthContext\";\nimport {useHttp} from \"../Hooks/http.hook\";\nimport {useHistory, useParams} from 'react-router-dom'\nimport {NavLink} from \"react-router-dom\";\nimport {ReactComponent as Arrow} from './Appearence/Images/Arrow.svg'\nimport notify from \"./Functions and const/Notify\";\n\nexport const TestPage = () => {\n\n    const link = useParams().id\n    const history = useHistory()\n\n    const [test, setTest] = useState({ name: '', description: '', shortDescription: '', questions: [], answers: []})\n    const {token, userID, username} = useContext(AuthContext)\n    const [answers, setAnswers] = useState([])\n    const {loading, request} = useHttp()\n\n\n    const [content, setContent] = useState('description')\n    const [index, setIndex] = useState(0)\n    const [goNext, setGoNext] = useState(false)\n\n    const fetchTestData = useCallback(async () => {\n        try {\n            const fetched = await request(`/api/tests/${link}`, 'GET', null, {\n                Authorization: `Bearer ${token}`\n            })\n            setTest(fetched)\n        }\n        catch (e) {}\n    }, [token, request])\n\n    const saveAnswers = async () => {\n        console.log(answers)\n        try {\n            const data = await request(`${link}/save`, 'POST', {userID, answers, link, date: new Date()})\n            console.log(data.message)\n            if (data.message === 'Result is saved') notify('Ответы сохранены')\n\n        }\n        catch (e) {}\n    }\n\n    const showTest = e => {\n        e.preventDefault()\n        setContent('testStartPage')\n    }\n    const next = async (e) => {\n        e.preventDefault()\n    //     if (goNext){\n    //         if (index < test.questions)setIndex(index + 1)\n    //         document.getElementById('y' + index).style = 'transform: scale(1)'\n    //         document.getElementById('n' + index).style = 'transform: scale(1)'\n    //         try { document.getElementById('next' + index).style = 'transform: scale(1.2)' } catch (e) {}\n    //         try { document.getElementById('next' + index).style = 'transform: scale(1)' } catch (e) {}\n    //         try { document.getElementById('back' + index).style = 'transform: scale(1)' } catch (e) {}\n    //         setGoNext(false)\n    //     }\n        if (index != test.q - 1)\n            setIndex(index + 1)\n        else {\n            await saveAnswers()\n            history.push(`/tests/${link}/${username}`)\n        }\n    }\n\n    const back = e => {\n        e.preventDefault()\n        setIndex(index - 1)\n    //     if (index > 0) setIndex(index - 1)\n    //     document.getElementById('y' + index).style = 'transform: scale(1)'\n    //     document.getElementById('n' + index).style = 'transform: scale(1)'\n    //     try { document.getElementById('next' + index).style = 'transform: scale(1)' } catch (e) {}\n    //     try { document.getElementById('back' + index).style = 'transform: scale(1.2)' } catch (e) {}\n    //     setGoNext(false)\n    }\n\n    const handleAnswering = (e, i, j) => {\n        let answ = answers\n\n        if (!answ[j])\n            answ[j] = []\n\n        if (!answ[j].includes(i))\n            answ[j].push(i)\n\n        for (let k = 0; k < answ.length; k++){\n            if (!answ[k])\n                answ[k] = []\n            else {\n                if (answ[k].includes(i)){\n                    let index = answ[k].indexOf(i)\n                    if (index != -1 && j != k)\n                        answ[k].splice(index, 1)\n                }\n                answ[k].sort((a, b) => a > b ? 1 : -1)\n            }\n        }\n\n        setAnswers(answ)\n    }\n\n    useEffect(() => {\n        fetchTestData()\n        if (content === 'testStartPage')\n            document.body.style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: #E6EBC3;'\n    }, [fetchTestData, content])\n\n    useEffect(() => {\n        const interval = setInterval(() => saveAnswers(), 3000)\n        return () => clearInterval(interval)\n    }, [])\n\n\n    return (\n        <div>\n            { content === 'description' &&\n                <div className = 'testInfo'>\n                    <h1 className = 'bigTestName'>{test.name}</h1>\n                    <p className='testDescription'>{test.shortDescription}\n                    <br/>{test.description}</p>\n                    <input type='button' className = 'redbtn'  value = '' disabled={loading} onClick = {showTest} />\n                </div>\n            }\n\n            { content === 'testStartPage' &&\n                <div>\n                {\n                   test.questions.map((question, i) => {\n                       if (i == index)\n                       return (\n                           <div className = 'questionCard' key = {i}>\n\n                               <div className = 'arrows'>\n                                   {\n                                       (i > 0) &&\n                                       <Arrow className = 'backArrow' onClick={e => back(e)}/>\n                                   }\n                                   {\n                                       (i < test.q - 1) &&\n                                       <Arrow className = 'nextArrow' onClick={e => next(e)}/>\n                                   }\n                               </div>\n\n                               <h1>{i + 1}/{test.q}</h1>\n                               <p>{question}</p>\n\n                               <div className = 'answersBox'>\n                               {\n                                   test.answers.map((answer, j) => {\n                                       return(\n                                           <div className = 'answersBox'>\n                                               <div className = 'answerbtn' key = {j} onClick = {(e) => handleAnswering(e, i, j)}/>\n                                               <p>{answer}</p>\n                                           </div>)\n                                   })\n                               }\n                                   </div>\n\n                               {\n                                   // && (answers.filter(a => a.includes(i)).length == 1) &&\n                                   // answers.filter(a => a.includes(i)).length > 0 &&\n                               }\n                           </div>\n                       )\n                        })\n                }\n                    {/*{*/}\n                    {/*    // index == test.questions - 1 &&*/}\n                        {/*<input type='button' className = 'yesbtn'  value = 'результат' disabled={loading} onClick={e => saveAnswers(e)}/>*/}\n                    {/*}*/}\n                    {/*<input type='button' className = 'yesbtn'  value = 'результат' disabled={loading} onClick={e => saveAnswers(e)}/>*/}\n                </div>\n            }\n        </div>\n\n\n    )\n}\n\nexport default TestPage;"]},"metadata":{},"sourceType":"module"}