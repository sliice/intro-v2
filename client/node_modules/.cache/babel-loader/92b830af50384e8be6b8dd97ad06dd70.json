{"ast":null,"code":"var _jsxFileName = \"/Users/alisakrylova/Intro/client/src/components/AddTest.js\";\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport './Appearence/index.css';\nimport './Appearence/AddTest.css';\nimport { AuthContext } from \"./Context/AuthContext\";\nimport { useHttp } from \"../Hooks/http.hook\";\nexport const AddTest = () => {\n  const {\n    token,\n    userID\n  } = useContext(AuthContext);\n  const {\n    loading,\n    request,\n    error,\n    clearError\n  } = useHttp();\n  const {\n    drafts,\n    setDrafts\n  } = useState();\n  const {\n    d,\n    sd\n  } = useState({\n    name: 0\n  });\n  const [testData, setTestData] = useState({\n    name: '',\n    shortDescription: '',\n    description: ''\n  });\n\n  const handleSelect = e => {\n    if (e.target.value === 'draft') {\n      try {\n        fetchDrafts();\n      } catch (e) {}\n    }\n  };\n\n  const fetchDrafts = useCallback(async () => {\n    if (e.target.value === 'draft') {\n      try {\n        const fetched = await request('addtest/drafts', 'GET', null, {\n          Authorization: `Bearer ${token}`\n        }); // console.log(fetched)\n\n        setDrafts(fetched);\n        console.log(drafts);\n      } catch (e) {}\n    }\n  }, [token, request]);\n\n  const changeHandler = e => {\n    setTestData({ ...testData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  useEffect(() => {\n    document.body.style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: #FFFFFF;';\n  }, []);\n  return (\n    /*#__PURE__*/\n    // <div className = 'soft_appearing'>\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0435\\u0441\\u0442\"), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: e => handleSelect(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      defaultValue: true,\n      value: \"new\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, \"\\u0432\\u0440\\u0443\\u0447\\u043D\\u0443\\u044E\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"draft\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, \"\\u0438\\u0437 \\u0447\\u0435\\u0440\\u043D\\u043E\\u0432\\u0438\\u043A\\u043E\\u0432\")), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      value: testData.name,\n      placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438\",\n      onChange: e => changeHandler(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"shortDescription\",\n      value: testData.shortDescription,\n      placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438\",\n      onChange: e => changeHandler(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"description\",\n      value: testData.description,\n      placeholder: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043C\\u0435\\u0442\\u043E\\u0434\\u0438\\u043A\\u0438\",\n      onChange: e => changeHandler(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }))\n  );\n};\nexport default AddTest;","map":{"version":3,"sources":["/Users/alisakrylova/Intro/client/src/components/AddTest.js"],"names":["React","useCallback","useContext","useEffect","useState","AuthContext","useHttp","AddTest","token","userID","loading","request","error","clearError","drafts","setDrafts","d","sd","name","testData","setTestData","shortDescription","description","handleSelect","e","target","value","fetchDrafts","fetched","Authorization","console","log","changeHandler","document","body","style"],"mappings":"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","sourcesContent":["import React, {useCallback, useContext, useEffect, useState} from 'react'\nimport './Appearence/index.css'\nimport './Appearence/AddTest.css'\nimport {AuthContext} from \"./Context/AuthContext\";\nimport {useHttp} from \"../Hooks/http.hook\";\n\nexport const AddTest = () => {\n\n    const {token, userID} = useContext(AuthContext)\n    const {loading, request, error, clearError} = useHttp();\n\n    const {drafts, setDrafts} = useState()\n    const {d, sd} = useState({name: 0})\n\n    const [testData, setTestData] = useState({\n        name: '',\n        shortDescription: '',\n        description: ''\n    })\n\n\n    const handleSelect = e => {\n        if (e.target.value === 'draft'){\n            try {\n                fetchDrafts()\n            }\n            catch (e) {}\n        }\n    }\n\n    const fetchDrafts = useCallback(async() => {\n        if (e.target.value === 'draft'){\n            try {\n                const fetched = await request('addtest/drafts', 'GET', null, {\n                    Authorization: `Bearer ${token}`\n                })\n                // console.log(fetched)\n                setDrafts(fetched)\n                console.log(drafts)\n            }\n            catch (e) {}\n        }\n    }, [token, request])\n\n\n    const changeHandler = e => {\n        setTestData({...testData, [e.target.name]: e.target.value})\n    }\n\n    useEffect(() => {\n        document.body.style = 'transition-duration: 1s; transition-timing-function: ease-in-out; background: #FFFFFF;'\n    }, [])\n\n\n    return (\n        // <div className = 'soft_appearing'>\n        <div>\n            <h1>Добавить тест</h1>\n            <select onChange = {e => handleSelect(e)}>\n                <option defaultValue value = 'new'>вручную</option>\n                <option value = 'draft'>из черновиков</option>\n            </select>\n\n            {/*{*/}\n            {/*    drafts &&*/}\n            {/*    <select>*/}\n            {/*        {drafts.map((draft, i) => {*/}\n            {/*            return (*/}\n            {/*                <option key = {i} value = {i}>{draft.name}</option>*/}\n            {/*            )*/}\n            {/*        })}*/}\n            {/*    </select>*/}\n            {/*}*/}\n\n            <h2>Название методики</h2>\n            <input type = 'text' name = 'name' value = {testData.name} placeholder = 'Название методики' onChange = {e => changeHandler(e)}/>\n\n            <h2>Краткое описание</h2>\n            <textarea name = 'shortDescription' value = {testData.shortDescription} placeholder = 'Краткое описание методики' onChange = {e => changeHandler(e)}/>\n\n            <h2>Описание</h2>\n            <textarea name = 'description' value = {testData.description} placeholder = 'Описание методики' onChange = {e => changeHandler(e)}/>\n\n        </div>\n\n\n    )\n}\n\nexport default AddTest;"]},"metadata":{},"sourceType":"module"}